(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xS={exports:{}},jm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function sP(){if(tC)return jm;tC=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:i,type:n,key:o,ref:s!==void 0?s:null,props:a}}return jm.Fragment=e,jm.jsx=t,jm.jsxs=t,jm}var nC;function aP(){return nC||(nC=1,xS.exports=sP()),xS.exports}var le=aP(),SS={exports:{}},nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function rP(){if(iC)return nn;iC=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function A(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function E(Y,oe,Oe){this.props=Y,this.context=oe,this.refs=T,this.updater=Oe||_}E.prototype.isReactComponent={},E.prototype.setState=function(Y,oe){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,oe,"setState")},E.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function b(){}b.prototype=E.prototype;function w(Y,oe,Oe){this.props=Y,this.context=oe,this.refs=T,this.updater=Oe||_}var B=w.prototype=new b;B.constructor=w,S(B,E.prototype),B.isPureReactComponent=!0;var D=Array.isArray,U={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function F(Y,oe,Oe,je,ie,Re){return Oe=Re.ref,{$$typeof:i,type:Y,key:oe,ref:Oe!==void 0?Oe:null,props:Re}}function H(Y,oe){return F(Y.type,oe,void 0,void 0,void 0,Y.props)}function N(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===i}function L(Y){var oe={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Oe){return oe[Oe]})}var G=/\/+/g;function W(Y,oe){return typeof Y=="object"&&Y!==null&&Y.key!=null?L(""+Y.key):oe.toString(36)}function K(){}function $(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(K,K):(Y.status="pending",Y.then(function(oe){Y.status==="pending"&&(Y.status="fulfilled",Y.value=oe)},function(oe){Y.status==="pending"&&(Y.status="rejected",Y.reason=oe)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ge(Y,oe,Oe,je,ie){var Re=typeof Y;(Re==="undefined"||Re==="boolean")&&(Y=null);var Ge=!1;if(Y===null)Ge=!0;else switch(Re){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(Y.$$typeof){case i:case e:Ge=!0;break;case m:return Ge=Y._init,ge(Ge(Y._payload),oe,Oe,je,ie)}}if(Ge)return ie=ie(Y),Ge=je===""?"."+W(Y,0):je,D(ie)?(Oe="",Ge!=null&&(Oe=Ge.replace(G,"$&/")+"/"),ge(ie,oe,Oe,"",function(vt){return vt})):ie!=null&&(N(ie)&&(ie=H(ie,Oe+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(G,"$&/")+"/")+Ge)),oe.push(ie)),1;Ge=0;var Ye=je===""?".":je+":";if(D(Y))for(var ke=0;ke<Y.length;ke++)je=Y[ke],Re=Ye+W(je,ke),Ge+=ge(je,oe,Oe,Re,ie);else if(ke=A(Y),typeof ke=="function")for(Y=ke.call(Y),ke=0;!(je=Y.next()).done;)je=je.value,Re=Ye+W(je,ke++),Ge+=ge(je,oe,Oe,Re,ie);else if(Re==="object"){if(typeof Y.then=="function")return ge($(Y),oe,Oe,je,ie);throw oe=String(Y),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function ee(Y,oe,Oe){if(Y==null)return Y;var je=[],ie=0;return ge(Y,je,"","",function(Re){return oe.call(Oe,Re,ie++)}),je}function re(Y){if(Y._status===-1){var oe=Y._result;oe=oe(),oe.then(function(Oe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Oe)},function(Oe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Oe)}),Y._status===-1&&(Y._status=0,Y._result=oe)}if(Y._status===1)return Y._result.default;throw Y._result}var se=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function Te(){}return nn.Children={map:ee,forEach:function(Y,oe,Oe){ee(Y,function(){oe.apply(this,arguments)},Oe)},count:function(Y){var oe=0;return ee(Y,function(){oe++}),oe},toArray:function(Y){return ee(Y,function(oe){return oe})||[]},only:function(Y){if(!N(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},nn.Component=E,nn.Fragment=t,nn.Profiler=s,nn.PureComponent=w,nn.StrictMode=n,nn.Suspense=h,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,nn.act=function(){throw Error("act(...) is not supported in production builds of React.")},nn.cache=function(Y){return function(){return Y.apply(null,arguments)}},nn.cloneElement=function(Y,oe,Oe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var je=S({},Y.props),ie=Y.key,Re=void 0;if(oe!=null)for(Ge in oe.ref!==void 0&&(Re=void 0),oe.key!==void 0&&(ie=""+oe.key),oe)!P.call(oe,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&oe.ref===void 0||(je[Ge]=oe[Ge]);var Ge=arguments.length-2;if(Ge===1)je.children=Oe;else if(1<Ge){for(var Ye=Array(Ge),ke=0;ke<Ge;ke++)Ye[ke]=arguments[ke+2];je.children=Ye}return F(Y.type,ie,void 0,void 0,Re,je)},nn.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},nn.createElement=function(Y,oe,Oe){var je,ie={},Re=null;if(oe!=null)for(je in oe.key!==void 0&&(Re=""+oe.key),oe)P.call(oe,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&(ie[je]=oe[je]);var Ge=arguments.length-2;if(Ge===1)ie.children=Oe;else if(1<Ge){for(var Ye=Array(Ge),ke=0;ke<Ge;ke++)Ye[ke]=arguments[ke+2];ie.children=Ye}if(Y&&Y.defaultProps)for(je in Ge=Y.defaultProps,Ge)ie[je]===void 0&&(ie[je]=Ge[je]);return F(Y,Re,void 0,void 0,null,ie)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(Y){return{$$typeof:c,render:Y}},nn.isValidElement=N,nn.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:re}},nn.memo=function(Y,oe){return{$$typeof:p,type:Y,compare:oe===void 0?null:oe}},nn.startTransition=function(Y){var oe=U.T,Oe={};U.T=Oe;try{var je=Y(),ie=U.S;ie!==null&&ie(Oe,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then(Te,se)}catch(Re){se(Re)}finally{U.T=oe}},nn.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},nn.use=function(Y){return U.H.use(Y)},nn.useActionState=function(Y,oe,Oe){return U.H.useActionState(Y,oe,Oe)},nn.useCallback=function(Y,oe){return U.H.useCallback(Y,oe)},nn.useContext=function(Y){return U.H.useContext(Y)},nn.useDebugValue=function(){},nn.useDeferredValue=function(Y,oe){return U.H.useDeferredValue(Y,oe)},nn.useEffect=function(Y,oe){return U.H.useEffect(Y,oe)},nn.useId=function(){return U.H.useId()},nn.useImperativeHandle=function(Y,oe,Oe){return U.H.useImperativeHandle(Y,oe,Oe)},nn.useInsertionEffect=function(Y,oe){return U.H.useInsertionEffect(Y,oe)},nn.useLayoutEffect=function(Y,oe){return U.H.useLayoutEffect(Y,oe)},nn.useMemo=function(Y,oe){return U.H.useMemo(Y,oe)},nn.useOptimistic=function(Y,oe){return U.H.useOptimistic(Y,oe)},nn.useReducer=function(Y,oe,Oe){return U.H.useReducer(Y,oe,Oe)},nn.useRef=function(Y){return U.H.useRef(Y)},nn.useState=function(Y){return U.H.useState(Y)},nn.useSyncExternalStore=function(Y,oe,Oe){return U.H.useSyncExternalStore(Y,oe,Oe)},nn.useTransition=function(){return U.H.useTransition()},nn.version="19.0.0",nn}var sC;function Rr(){return sC||(sC=1,SS.exports=rP()),SS.exports}var Me=Rr();const Cr=I_(Me);var bS={exports:{}},Ym={},MS={exports:{}},ES={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function oP(){return aC||(aC=1,function(i){function e(ee,re){var se=ee.length;ee.push(re);e:for(;0<se;){var Te=se-1>>>1,Y=ee[Te];if(0<s(Y,re))ee[Te]=re,ee[se]=Y,se=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var re=ee[0],se=ee.pop();if(se!==re){ee[0]=se;e:for(var Te=0,Y=ee.length,oe=Y>>>1;Te<oe;){var Oe=2*(Te+1)-1,je=ee[Oe],ie=Oe+1,Re=ee[ie];if(0>s(je,se))ie<Y&&0>s(Re,je)?(ee[Te]=Re,ee[ie]=se,Te=ie):(ee[Te]=je,ee[Oe]=se,Te=Oe);else if(ie<Y&&0>s(Re,se))ee[Te]=Re,ee[ie]=se,Te=ie;else break e}}return re}function s(ee,re){var se=ee.sortIndex-re.sortIndex;return se!==0?se:ee.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var h=[],p=[],m=1,y=null,A=3,_=!1,S=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function B(ee){for(var re=t(p);re!==null;){if(re.callback===null)n(p);else if(re.startTime<=ee)n(p),re.sortIndex=re.expirationTime,e(h,re);else break;re=t(p)}}function D(ee){if(T=!1,B(ee),!S)if(t(h)!==null)S=!0,$();else{var re=t(p);re!==null&&ge(D,re.startTime-ee)}}var U=!1,P=-1,F=5,H=-1;function N(){return!(i.unstable_now()-H<F)}function L(){if(U){var ee=i.unstable_now();H=ee;var re=!0;try{e:{S=!1,T&&(T=!1,b(P),P=-1),_=!0;var se=A;try{t:{for(B(ee),y=t(h);y!==null&&!(y.expirationTime>ee&&N());){var Te=y.callback;if(typeof Te=="function"){y.callback=null,A=y.priorityLevel;var Y=Te(y.expirationTime<=ee);if(ee=i.unstable_now(),typeof Y=="function"){y.callback=Y,B(ee),re=!0;break t}y===t(h)&&n(h),B(ee)}else n(h);y=t(h)}if(y!==null)re=!0;else{var oe=t(p);oe!==null&&ge(D,oe.startTime-ee),re=!1}}break e}finally{y=null,A=se,_=!1}re=void 0}}finally{re?G():U=!1}}}var G;if(typeof w=="function")G=function(){w(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=L,G=function(){K.postMessage(null)}}else G=function(){E(L,0)};function $(){U||(U=!0,G())}function ge(ee,re){P=E(function(){ee(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){S||_||(S=!0,$())},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var se=A;A=re;try{return ee()}finally{A=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,re){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var se=A;A=ee;try{return re()}finally{A=se}},i.unstable_scheduleCallback=function(ee,re,se){var Te=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Te+se:Te):se=Te,ee){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,ee={id:m++,callback:re,priorityLevel:ee,startTime:se,expirationTime:Y,sortIndex:-1},se>Te?(ee.sortIndex=se,e(p,ee),t(h)===null&&ee===t(p)&&(T?(b(P),P=-1):T=!0,ge(D,se-Te))):(ee.sortIndex=Y,e(h,ee),S||_||(S=!0,$())),ee},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(ee){var re=A;return function(){var se=A;A=re;try{return ee.apply(this,arguments)}finally{A=se}}}}(ES)),ES}var rC;function SM(){return rC||(rC=1,MS.exports=oP()),MS.exports}var TS={exports:{}},Gs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function lP(){if(oC)return Gs;oC=1;var i=Rr();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:p,implementation:m}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Gs.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(h,p,null,m)},Gs.flushSync=function(h){var p=o.T,m=n.p;try{if(o.T=null,n.p=2,h)return h()}finally{o.T=p,n.p=m,n.d.f()}},Gs.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(h,p))},Gs.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Gs.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,y=c(m,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?n.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:A,fetchPriority:_}):m==="script"&&n.d.X(h,{crossOrigin:y,integrity:A,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gs.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);n.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(h)},Gs.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=c(m,p.crossOrigin);n.d.L(h,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gs.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=c(p.as,p.crossOrigin);n.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(h)},Gs.requestFormReset=function(h){n.d.r(h)},Gs.unstable_batchedUpdates=function(h,p){return h(p)},Gs.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},Gs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Gs.version="19.0.0",Gs}var lC;function bM(){if(lC)return TS.exports;lC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),TS.exports=lP(),TS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function cP(){if(cC)return Ym;cC=1;var i=SM(),e=Rr(),t=bM();function n(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function H(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case h:return"Fragment";case c:return"Portal";case m:return"Profiler";case p:return"StrictMode";case T:return"Suspense";case E:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case _:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case S:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case b:return l=r.displayName||null,l!==null?l:H(r.type)||"Memo";case w:l=r._payload,r=r._init;try{return H(r(l))}catch{}}return null}var N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,G,W;function K(r){if(G===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||"",W=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+r+W}var $=!1;function ge(r,l){if(!r||$)return"";$=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Ne){var xe=Ne}Reflect.construct(r,[],We)}else{try{We.call()}catch(Ne){xe=Ne}r.call(We.prototype)}}else{try{throw Error()}catch(Ne){xe=Ne}(We=r())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Ne){if(Ne&&xe&&typeof Ne.stack=="string")return[Ne.stack,xe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),I=C[0],k=C[1];if(I&&k){var J=I.split(`
`),ue=k.split(`
`);for(x=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;x<ue.length&&!ue[x].includes("DetermineComponentFrameRoot");)x++;if(g===J.length||x===ue.length)for(g=J.length-1,x=ue.length-1;1<=g&&0<=x&&J[g]!==ue[x];)x--;for(;1<=g&&0<=x;g--,x--)if(J[g]!==ue[x]){if(g!==1||x!==1)do if(g--,x--,0>x||J[g]!==ue[x]){var ze=`
`+J[g].replace(" at new "," at ");return r.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",r.displayName)),ze}while(1<=g&&0<=x);break}}}finally{$=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?K(d):""}function ee(r){switch(r.tag){case 26:case 27:case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return r=ge(r.type,!1),r;case 11:return r=ge(r.type.render,!1),r;case 1:return r=ge(r.type,!0),r;default:return""}}function re(r){try{var l="";do l+=ee(r),r=r.return;while(r);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function se(r){var l=r,d=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(d=l.return),r=l.return;while(r)}return l.tag===3?d:null}function Te(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function Y(r){if(se(r)!==r)throw Error(n(188))}function oe(r){var l=r.alternate;if(!l){if(l=se(r),l===null)throw Error(n(188));return l!==r?null:r}for(var d=r,g=l;;){var x=d.return;if(x===null)break;var C=x.alternate;if(C===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===d)return Y(x),r;if(C===g)return Y(x),l;C=C.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=C;else{for(var I=!1,k=x.child;k;){if(k===d){I=!0,d=x,g=C;break}if(k===g){I=!0,g=x,d=C;break}k=k.sibling}if(!I){for(k=C.child;k;){if(k===d){I=!0,d=C,g=x;break}if(k===g){I=!0,g=C,d=x;break}k=k.sibling}if(!I)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?r:l}function Oe(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=Oe(r),l!==null)return l;r=r.sibling}return null}var je=Array.isArray,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Ge=[],Ye=-1;function ke(r){return{current:r}}function vt(r){0>Ye||(r.current=Ge[Ye],Ge[Ye]=null,Ye--)}function it(r,l){Ye++,Ge[Ye]=r.current,r.current=l}var Ct=ke(null),Xt=ke(null),Bt=ke(null),Z=ke(null);function Mn(r,l){switch(it(Bt,l),it(Xt,r),it(Ct,null),r=l.nodeType,r){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?BT(l):0;break;default:if(r=r===8?l.parentNode:l,l=r.tagName,r=r.namespaceURI)r=BT(r),l=DT(r,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}vt(Ct),it(Ct,l)}function Pe(){vt(Ct),vt(Xt),vt(Bt)}function Ve(r){r.memoizedState!==null&&it(Z,r);var l=Ct.current,d=DT(l,r.type);l!==d&&(it(Xt,r),it(Ct,d))}function Le(r){Xt.current===r&&(vt(Ct),vt(Xt)),Z.current===r&&(vt(Z),Hm._currentValue=Re)}var nt=Object.prototype.hasOwnProperty,we=i.unstable_scheduleCallback,j=i.unstable_cancelCallback,z=i.unstable_shouldYield,fe=i.unstable_requestPaint,Se=i.unstable_now,Ue=i.unstable_getCurrentPriorityLevel,De=i.unstable_ImmediatePriority,yt=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,pt=i.unstable_LowPriority,qt=i.unstable_IdlePriority,Je=i.log,gt=i.unstable_setDisableYieldValue,At=null,mt=null;function lt(r){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(At,r,void 0,(r.current.flags&128)===128)}catch{}}function ne(r){if(typeof Je=="function"&&gt(r),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(At,r)}catch{}}var Ce=Math.clz32?Math.clz32:Qe,ot=Math.log,te=Math.LN2;function Qe(r){return r>>>=0,r===0?32:31-(ot(r)/te|0)|0}var Ee=128,Ie=4194304;function at(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function rt(r,l){var d=r.pendingLanes;if(d===0)return 0;var g=0,x=r.suspendedLanes,C=r.pingedLanes,I=r.warmLanes;r=r.finishedLanes!==0;var k=d&134217727;return k!==0?(d=k&~x,d!==0?g=at(d):(C&=k,C!==0?g=at(C):r||(I=k&~I,I!==0&&(g=at(I))))):(k=d&~x,k!==0?g=at(k):C!==0?g=at(C):r||(I=d&~I,I!==0&&(g=at(I)))),g===0?0:l!==0&&l!==g&&(l&x)===0&&(x=g&-g,I=l&-l,x>=I||x===32&&(I&4194176)!==0)?l:g}function St(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function on(r,l){switch(r){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ln(){var r=Ee;return Ee<<=1,(Ee&4194176)===0&&(Ee=128),r}function Wt(){var r=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),r}function ii(r){for(var l=[],d=0;31>d;d++)l.push(r);return l}function fi(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Hu(r,l,d,g,x,C){var I=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var k=r.entanglements,J=r.expirationTimes,ue=r.hiddenUpdates;for(d=I&~d;0<d;){var ze=31-Ce(d),We=1<<ze;k[ze]=0,J[ze]=-1;var xe=ue[ze];if(xe!==null)for(ue[ze]=null,ze=0;ze<xe.length;ze++){var Ne=xe[ze];Ne!==null&&(Ne.lane&=-536870913)}d&=~We}g!==0&&El(r,g,0),C!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=C&~(I&~l))}function El(r,l,d){r.pendingLanes|=l,r.suspendedLanes&=~l;var g=31-Ce(l);r.entangledLanes|=l,r.entanglements[g]=r.entanglements[g]|1073741824|d&4194218}function ma(r,l){var d=r.entangledLanes|=l;for(r=r.entanglements;d;){var g=31-Ce(d),x=1<<g;x&l|r[g]&l&&(r[g]|=l),d&=~x}}function $s(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Mc(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:KT(r.type))}function Pa(r,l){var d=ie.p;try{return ie.p=r,l()}finally{ie.p=d}}var hi=Math.random().toString(36).slice(2),si="__reactFiber$"+hi,$t="__reactProps$"+hi,Ia="__reactContainer$"+hi,Eo="__reactEvents$"+hi,Ch="__reactListeners$"+hi,Rh="__reactHandles$"+hi,wh="__reactResources$"+hi,Dr="__reactMarker$"+hi;function Tl(r){delete r[si],delete r[$t],delete r[Eo],delete r[Ch],delete r[Rh]}function Fa(r){var l=r[si];if(l)return l;for(var d=r.parentNode;d;){if(l=d[Ia]||d[si]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(r=NT(r);r!==null;){if(d=r[si])return d;r=NT(r)}return l}r=d,d=r.parentNode}return null}function V(r){if(r=r[si]||r[Ia]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function ae(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(n(33))}function Ae(r){var l=r[wh];return l||(l=r[wh]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ye(r){r[Dr]=!0}var he=new Set,qe={};function st(r,l){ft(r,l),ft(r+"Capture",l)}function ft(r,l){for(qe[r]=l,r=0;r<l.length;r++)he.add(l[r])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ot={},Et={};function fn(r){return nt.call(Et,r)?!0:nt.call(Ot,r)?!1:Pt.test(r)?Et[r]=!0:(Ot[r]=!0,!1)}function hn(r,l,d){if(fn(l))if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+d)}}function Xn(r,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+d)}}function An(r,l,d,g){if(g===null)r.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(l,d,""+g)}}function Ht(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rt(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function bi(r){var l=Rt(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),g=""+r[l];if(!r.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,C=d.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return x.call(this)},set:function(I){g=""+I,C.call(this,I)}}),Object.defineProperty(r,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function dn(r){r._valueTracker||(r._valueTracker=bi(r))}function As(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return r&&(g=Rt(r)?r.checked?"true":"false":r.value),r=g,r!==d?(l.setValue(r),!0):!1}function ea(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var is=/[\n"\\]/g;function Ui(r){return r.replace(is,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Nn(r,l,d,g,x,C,I,k){r.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.type=I:r.removeAttribute("type"),l!=null?I==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Ht(l)):r.value!==""+Ht(l)&&(r.value=""+Ht(l)):I!=="submit"&&I!=="reset"||r.removeAttribute("value"),l!=null?Ki(r,I,Ht(l)):d!=null?Ki(r,I,Ht(d)):g!=null&&r.removeAttribute("value"),x==null&&C!=null&&(r.defaultChecked=!!C),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+Ht(k):r.removeAttribute("name")}function ss(r,l,d,g,x,C,I,k){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.type=C),l!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;d=d!=null?""+Ht(d):"",l=l!=null?""+Ht(l):d,k||l===r.value||(r.value=l),r.defaultValue=l}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=k?r.checked:!!g,r.defaultChecked=!!g,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(r.name=I)}function Ki(r,l,d){l==="number"&&ea(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function ai(r,l,d,g){if(r=r.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<r.length;d++)x=l.hasOwnProperty("$"+r[d].value),r[d].selected!==x&&(r[d].selected=x),x&&g&&(r[d].defaultSelected=!0)}else{for(d=""+Ht(d),l=null,x=0;x<r.length;x++){if(r[x].value===d){r[x].selected=!0,g&&(r[x].defaultSelected=!0);return}l!==null||r[x].disabled||(l=r[x])}l!==null&&(l.selected=!0)}}function Xi(r,l,d){if(l!=null&&(l=""+Ht(l),l!==r.value&&(r.value=l),d==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=d!=null?""+Ht(d):""}function za(r,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(n(92));if(je(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Ht(l),r.defaultValue=d,g=r.textContent,g===d&&g!==""&&g!==null&&(r.value=g)}function _s(r,l){if(l){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=l;return}}r.textContent=l}var Bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(r,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":g?r.setProperty(l,d):typeof d!="number"||d===0||Bh.has(l)?l==="float"?r.cssFloat=d:r[l]=(""+d).trim():r[l]=d+"px"}function Np(r,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(r=r.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var x in l)g=l[x],l.hasOwnProperty(x)&&d[x]!==g&&Gu(r,x,g)}else for(var C in l)l.hasOwnProperty(C)&&Gu(r,C,l[C])}function Vu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ry=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ku(r){return Ry.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Dh=null;function Xu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Cl=null,Rl=null;function Oh(r){var l=V(r);if(l&&(r=l.stateNode)){var d=r[$t]||null;e:switch(r=l.stateNode,l.type){case"input":if(Nn(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ui(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==r&&g.form===r.form){var x=g[$t]||null;if(!x)throw Error(n(90));Nn(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===r.form&&As(g)}break e;case"textarea":Xi(r,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&ai(r,!!d.multiple,l,!1)}}}var Lh=!1;function Up(r,l,d){if(Lh)return r(l,d);Lh=!0;try{var g=r(l);return g}finally{if(Lh=!1,(Cl!==null||Rl!==null)&&(Jl(),Cl&&(l=Cl,r=Rl,Rl=Cl=null,Oh(l),r)))for(l=0;l<r.length;l++)Oh(r[l])}}function Ec(r,l){var d=r.stateNode;if(d===null)return null;var g=d[$t]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var ju=!1;if(ct)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){ju=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{ju=!1}var Or=null,Pp=null,Nh=null;function Ip(){if(Nh)return Nh;var r,l=Pp,d=l.length,g,x="value"in Or?Or.value:Or.textContent,C=x.length;for(r=0;r<d&&l[r]===x[r];r++);var I=d-r;for(g=1;g<=I&&l[d-g]===x[C-g];g++);return Nh=x.slice(r,1<g?1-g:void 0)}function To(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Cc(){return!0}function Yu(){return!1}function xs(r){function l(d,g,x,C,I){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=C,this.target=I,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(d=r[k],this[k]=d?d(C):C[k]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Cc:Yu,this.isPropagationStopped=Yu,this}return L(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),l}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=xs(Co),wc=L({},Co,{view:0,detail:0}),wy=xs(wc),Lr,Bc,Dc,Oc=L({},wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Dc&&(Dc&&r.type==="mousemove"?(Lr=r.screenX-Dc.screenX,Bc=r.screenY-Dc.screenY):Bc=Lr=0,Dc=r),Lr)},movementY:function(r){return"movementY"in r?r.movementY:Bc}}),Fp=xs(Oc),By=L({},Oc,{dataTransfer:0}),Hx=xs(By),Ji=L({},wc,{relatedTarget:0}),Uh=xs(Ji),Dy=L({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=xs(Dy),Ly=L({},Co,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ny=xs(Ly),qu=L({},Co,{data:0}),Ph=xs(qu),Uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zp(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=Iy[r])?!!l[r]:!1}function Wu(){return zp}var Fy=L({},wc,{key:function(r){if(r.key){var l=Uy[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=To(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Py[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wu,charCode:function(r){return r.type==="keypress"?To(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?To(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Hp=xs(Fy),Gp=L({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=xs(Gp),zy=L({},wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wu}),Vp=xs(zy),Hy=L({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nr=xs(Hy),kp=L({},Oc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Gx=xs(kp),Gy=L({},Co,{newState:0,oldState:0}),Ro=xs(Gy),Ur=[9,13,27,32],Ku=ct&&"CompositionEvent"in window,wl=null;ct&&"documentMode"in document&&(wl=document.documentMode);var Ju=ct&&"TextEvent"in window&&!wl,Zu=ct&&(!Ku||wl&&8<wl&&11>=wl),wo=" ",Zi=!1;function Qu(r,l){switch(r){case"keyup":return Ur.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Bo=!1;function $u(r,l){switch(r){case"compositionend":return Xp(l);case"keypress":return l.which!==32?null:(Zi=!0,wo);case"textInput":return r=l.data,r===wo&&Zi?null:r;default:return null}}function jp(r,l){if(Bo)return r==="compositionend"||!Ku&&Qu(r,l)?(r=Ip(),Nh=Pp=Or=null,Bo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Zu&&l.locale!=="ko"?null:l.data;default:return null}}var Fh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!Fh[r.type]:l==="textarea"}function Ds(r,l,d,g){Cl?Rl?Rl.push(g):Rl=[g]:Cl=g,l=G0(l,"onChange"),0<l.length&&(d=new Rc("onChange","change",null,d,g),r.push({event:d,listeners:l}))}var Lc=null,Bl=null;function Vy(r){ET(r,0)}function ef(r){var l=ae(r);if(As(l))return r}function zh(r,l){if(r==="change")return l}var Hh=!1;if(ct){var Gh;if(ct){var Nc="oninput"in document;if(!Nc){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),Nc=typeof Uc.oninput=="function"}Gh=Nc}else Gh=!1;Hh=Gh&&(!document.documentMode||9<document.documentMode)}function Zn(){Lc&&(Lc.detachEvent("onpropertychange",ky),Bl=Lc=null)}function ky(r){if(r.propertyName==="value"&&ef(Bl)){var l=[];Ds(l,Bl,r,Xu(r)),Up(Vy,l)}}function Vx(r,l,d){r==="focusin"?(Zn(),Lc=l,Bl=d,Lc.attachEvent("onpropertychange",ky)):r==="focusout"&&Zn()}function Xy(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ef(Bl)}function tf(r,l){if(r==="click")return ef(l)}function Do(r,l){if(r==="input"||r==="change")return ef(l)}function jy(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Os=typeof Object.is=="function"?Object.is:jy;function Ha(r,l){if(Os(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var d=Object.keys(r),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!nt.call(l,x)||!Os(r[x],l[x]))return!1}return!0}function Ls(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qp(r,l){var d=Ls(r);r=0;for(var g;d;){if(d.nodeType===3){if(g=r+d.textContent.length,r<=l&&g>=l)return{node:d,offset:l-r};r=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ls(d)}}function Wp(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Wp(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function Kp(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=ea(r.document);l instanceof r.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)r=l.contentWindow;else break;l=ea(r.document)}return l}function nf(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}function Jp(r,l){var d=Kp(l);l=r.focusedElem;var g=r.selectionRange;if(d!==l&&l&&l.ownerDocument&&Wp(l.ownerDocument.documentElement,l)){if(g!==null&&nf(l)){if(r=g.start,d=g.end,d===void 0&&(d=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(d,l.value.length);else if(d=(r=l.ownerDocument||document)&&r.defaultView||window,d.getSelection){d=d.getSelection();var x=l.textContent.length,C=Math.min(g.start,x);g=g.end===void 0?C:Math.min(g.end,x),!d.extend&&C>g&&(x=g,g=C,C=x),x=qp(l,C);var I=qp(l,g);x&&I&&(d.rangeCount!==1||d.anchorNode!==x.node||d.anchorOffset!==x.offset||d.focusNode!==I.node||d.focusOffset!==I.offset)&&(r=r.createRange(),r.setStart(x.node,x.offset),d.removeAllRanges(),C>g?(d.addRange(r),d.extend(I.node,I.offset)):(r.setEnd(I.node,I.offset),d.addRange(r)))}}for(r=[],d=l;d=d.parentNode;)d.nodeType===1&&r.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)d=r[l],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Vh=ct&&"documentMode"in document&&11>=document.documentMode,Dl=null,Zp=null,Pc=null,kh=!1;function ga(r,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;kh||Dl==null||Dl!==ea(g)||(g=Dl,"selectionStart"in g&&nf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Pc&&Ha(Pc,g)||(Pc=g,g=G0(Zp,"onSelect"),0<g.length&&(l=new Rc("onSelect","select",null,l,d),r.push({event:l,listeners:g}),l.target=Dl)))}function Pr(r,l){var d={};return d[r.toLowerCase()]=l.toLowerCase(),d["Webkit"+r]="webkit"+l,d["Moz"+r]="moz"+l,d}var Ol={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Qp={},Xh={};ct&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Mi(r){if(Qp[r])return Qp[r];if(!Ol[r])return r;var l=Ol[r],d;for(d in l)if(l.hasOwnProperty(d)&&d in Xh)return Qp[r]=l[d];return r}var $p=Mi("animationend"),Ns=Mi("animationiteration"),em=Mi("animationstart"),Ir=Mi("transitionrun"),Ic=Mi("transitionstart"),Oo=Mi("transitioncancel"),jh=Mi("transitionend"),Yh=new Map,Fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ya(r,l){Yh.set(r,l),st(l,[r])}var Qi=[],rr=0,zr=0;function sf(){for(var r=rr,l=zr=rr=0;l<r;){var d=Qi[l];Qi[l++]=null;var g=Qi[l];Qi[l++]=null;var x=Qi[l];Qi[l++]=null;var C=Qi[l];if(Qi[l++]=null,g!==null&&x!==null){var I=g.pending;I===null?x.next=x:(x.next=I.next,I.next=x),g.pending=x}C!==0&&rf(d,x,C)}}function af(r,l,d,g){Qi[rr++]=r,Qi[rr++]=l,Qi[rr++]=d,Qi[rr++]=g,zr|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function Ll(r,l,d,g){return af(r,l,d,g),of(r)}function Hr(r,l){return af(r,null,null,l),of(r)}function rf(r,l,d){r.lanes|=d;var g=r.alternate;g!==null&&(g.lanes|=d);for(var x=!1,C=r.return;C!==null;)C.childLanes|=d,g=C.alternate,g!==null&&(g.childLanes|=d),C.tag===22&&(r=C.stateNode,r===null||r._visibility&1||(x=!0)),r=C,C=C.return;x&&l!==null&&r.tag===3&&(C=r.stateNode,x=31-Ce(d),C=C.hiddenUpdates,r=C[x],r===null?C[x]=[l]:r.push(l),l.lane=d|536870912)}function of(r){if(50<Ca)throw Ca=0,oo=null,Error(n(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var Lo={},qh=new WeakMap;function Us(r,l){if(typeof r=="object"&&r!==null){var d=qh.get(r);return d!==void 0?d:(l={value:r,source:l,stack:re(l)},qh.set(r,l),l)}return{value:r,source:l,stack:re(l)}}var Nl=[],No=0,as=null,lf=0,jn=[],ta=0,Gr=null,or=1,Vr="";function Ss(r,l){Nl[No++]=lf,Nl[No++]=as,as=r,lf=l}function tm(r,l,d){jn[ta++]=or,jn[ta++]=Vr,jn[ta++]=Gr,Gr=r;var g=or;r=Vr;var x=32-Ce(g)-1;g&=~(1<<x),d+=1;var C=32-Ce(l)+x;if(30<C){var I=x-x%5;C=(g&(1<<I)-1).toString(32),g>>=I,x-=I,or=1<<32-Ce(l)+x|d<<x|g,Vr=C+r}else or=1<<C|d<<x|g,Vr=r}function cf(r){r.return!==null&&(Ss(r,1),tm(r,1,0))}function Uo(r){for(;r===as;)as=Nl[--No],Nl[No]=null,lf=Nl[--No],Nl[No]=null;for(;r===Gr;)Gr=jn[--ta],jn[ta]=null,Vr=jn[--ta],jn[ta]=null,or=jn[--ta],jn[ta]=null}var rs=null,ji=null,_n=!1,va=null,Aa=!1,uf=Error(n(519));function Ul(r){var l=Error(n(418,""));throw lr(Us(l,r)),uf}function Yy(r){var l=r.stateNode,d=r.type,g=r.memoizedProps;switch(l[si]=r,l[$t]=g,d){case"dialog":Sn("cancel",l),Sn("close",l);break;case"iframe":case"object":case"embed":Sn("load",l);break;case"video":case"audio":for(d=0;d<Um.length;d++)Sn(Um[d],l);break;case"source":Sn("error",l);break;case"img":case"image":case"link":Sn("error",l),Sn("load",l);break;case"details":Sn("toggle",l);break;case"input":Sn("invalid",l),ss(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),dn(l);break;case"select":Sn("invalid",l);break;case"textarea":Sn("invalid",l),za(l,g.value,g.defaultValue,g.children),dn(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||wT(l.textContent,d)?(g.popover!=null&&(Sn("beforetoggle",l),Sn("toggle",l)),g.onScroll!=null&&Sn("scroll",l),g.onScrollEnd!=null&&Sn("scrollend",l),g.onClick!=null&&(l.onclick=V0),l=!0):l=!1,l||Ul(r)}function qy(r){for(rs=r.return;rs;)switch(rs.tag){case 3:case 27:Aa=!0;return;case 5:case 13:Aa=!1;return;default:rs=rs.return}}function Fc(r){if(r!==rs)return!1;if(!_n)return qy(r),_n=!0,!1;var l=!1,d;if((d=r.tag!==3&&r.tag!==27)&&((d=r.tag===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||lS(r.type,r.memoizedProps)),d=!d),d&&(l=!0),l&&ji&&Ul(r),qy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(l===0){ji=co(r.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;r=r.nextSibling}ji=null}}else ji=rs?co(r.stateNode.nextSibling):null;return!0}function zc(){ji=rs=null,_n=!1}function lr(r){va===null?va=[r]:va.push(r)}var Po=Error(n(460)),nm=Error(n(474)),Wh={then:function(){}};function Wy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ff(){}function Io(r,l,d){switch(d=r[d],d===void 0?r.push(l):d!==l&&(l.then(ff,ff),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,r===Po?Error(n(483)):r;default:if(typeof l.status=="string")l.then(ff,ff);else{if(r=Fn,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=l,r.status="pending",r.then(function(g){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=g}},function(g){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,r===Po?Error(n(483)):r}throw Hc=l,Po}}var Hc=null;function Dn(){if(Hc===null)throw Error(n(459));var r=Hc;return Hc=null,r}var Fo=null,hf=0;function df(r){var l=hf;return hf+=1,Fo===null&&(Fo=[]),Io(Fo,r,l)}function pf(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Kh(r,l){throw l.$$typeof===a?Error(n(525)):(r=Object.prototype.toString.call(l),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Ky(r){var l=r._init;return l(r._payload)}function Jy(r){function l(pe,ce){if(r){var ve=pe.deletions;ve===null?(pe.deletions=[ce],pe.flags|=16):ve.push(ce)}}function d(pe,ce){if(!r)return null;for(;ce!==null;)l(pe,ce),ce=ce.sibling;return null}function g(pe){for(var ce=new Map;pe!==null;)pe.key!==null?ce.set(pe.key,pe):ce.set(pe.index,pe),pe=pe.sibling;return ce}function x(pe,ce){return pe=Ts(pe,ce),pe.index=0,pe.sibling=null,pe}function C(pe,ce,ve){return pe.index=ve,r?(ve=pe.alternate,ve!==null?(ve=ve.index,ve<ce?(pe.flags|=33554434,ce):ve):(pe.flags|=33554434,ce)):(pe.flags|=1048576,ce)}function I(pe){return r&&pe.alternate===null&&(pe.flags|=33554434),pe}function k(pe,ce,ve,Xe){return ce===null||ce.tag!==6?(ce=Ri(ve,pe.mode,Xe),ce.return=pe,ce):(ce=x(ce,ve),ce.return=pe,ce)}function J(pe,ce,ve,Xe){var _t=ve.type;return _t===h?ze(pe,ce,ve.props.children,Xe,ve.key):ce!==null&&(ce.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&Ky(_t)===ce.type)?(ce=x(ce,ve.props),pf(ce,ve),ce.return=pe,ce):(ce=tu(ve.type,ve.key,ve.props,null,pe.mode,Xe),pf(ce,ve),ce.return=pe,ce)}function ue(pe,ce,ve,Xe){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ve.containerInfo||ce.stateNode.implementation!==ve.implementation?(ce=Tf(ve,pe.mode,Xe),ce.return=pe,ce):(ce=x(ce,ve.children||[]),ce.return=pe,ce)}function ze(pe,ce,ve,Xe,_t){return ce===null||ce.tag!==7?(ce=il(ve,pe.mode,Xe,_t),ce.return=pe,ce):(ce=x(ce,ve),ce.return=pe,ce)}function We(pe,ce,ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=Ri(""+ce,pe.mode,ve),ce.return=pe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case o:return ve=tu(ce.type,ce.key,ce.props,null,pe.mode,ve),pf(ve,ce),ve.return=pe,ve;case c:return ce=Tf(ce,pe.mode,ve),ce.return=pe,ce;case w:var Xe=ce._init;return ce=Xe(ce._payload),We(pe,ce,ve)}if(je(ce)||P(ce))return ce=il(ce,pe.mode,ve,null),ce.return=pe,ce;if(typeof ce.then=="function")return We(pe,df(ce),ve);if(ce.$$typeof===_)return We(pe,hd(pe,ce),ve);Kh(pe,ce)}return null}function xe(pe,ce,ve,Xe){var _t=ce!==null?ce.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return _t!==null?null:k(pe,ce,""+ve,Xe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case o:return ve.key===_t?J(pe,ce,ve,Xe):null;case c:return ve.key===_t?ue(pe,ce,ve,Xe):null;case w:return _t=ve._init,ve=_t(ve._payload),xe(pe,ce,ve,Xe)}if(je(ve)||P(ve))return _t!==null?null:ze(pe,ce,ve,Xe,null);if(typeof ve.then=="function")return xe(pe,ce,df(ve),Xe);if(ve.$$typeof===_)return xe(pe,ce,hd(pe,ve),Xe);Kh(pe,ve)}return null}function Ne(pe,ce,ve,Xe,_t){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return pe=pe.get(ve)||null,k(ce,pe,""+Xe,_t);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case o:return pe=pe.get(Xe.key===null?ve:Xe.key)||null,J(ce,pe,Xe,_t);case c:return pe=pe.get(Xe.key===null?ve:Xe.key)||null,ue(ce,pe,Xe,_t);case w:var mn=Xe._init;return Xe=mn(Xe._payload),Ne(pe,ce,ve,Xe,_t)}if(je(Xe)||P(Xe))return pe=pe.get(ve)||null,ze(ce,pe,Xe,_t,null);if(typeof Xe.then=="function")return Ne(pe,ce,ve,df(Xe),_t);if(Xe.$$typeof===_)return Ne(pe,ce,ve,hd(ce,Xe),_t);Kh(ce,Xe)}return null}function Mt(pe,ce,ve,Xe){for(var _t=null,mn=null,wt=ce,Ft=ce=0,ds=null;wt!==null&&Ft<ve.length;Ft++){wt.index>Ft?(ds=wt,wt=null):ds=wt.sibling;var On=xe(pe,wt,ve[Ft],Xe);if(On===null){wt===null&&(wt=ds);break}r&&wt&&On.alternate===null&&l(pe,wt),ce=C(On,ce,Ft),mn===null?_t=On:mn.sibling=On,mn=On,wt=ds}if(Ft===ve.length)return d(pe,wt),_n&&Ss(pe,Ft),_t;if(wt===null){for(;Ft<ve.length;Ft++)wt=We(pe,ve[Ft],Xe),wt!==null&&(ce=C(wt,ce,Ft),mn===null?_t=wt:mn.sibling=wt,mn=wt);return _n&&Ss(pe,Ft),_t}for(wt=g(wt);Ft<ve.length;Ft++)ds=Ne(wt,pe,Ft,ve[Ft],Xe),ds!==null&&(r&&ds.alternate!==null&&wt.delete(ds.key===null?Ft:ds.key),ce=C(ds,ce,Ft),mn===null?_t=ds:mn.sibling=ds,mn=ds);return r&&wt.forEach(function(uu){return l(pe,uu)}),_n&&Ss(pe,Ft),_t}function jt(pe,ce,ve,Xe){if(ve==null)throw Error(n(151));for(var _t=null,mn=null,wt=ce,Ft=ce=0,ds=null,On=ve.next();wt!==null&&!On.done;Ft++,On=ve.next()){wt.index>Ft?(ds=wt,wt=null):ds=wt.sibling;var uu=xe(pe,wt,On.value,Xe);if(uu===null){wt===null&&(wt=ds);break}r&&wt&&uu.alternate===null&&l(pe,wt),ce=C(uu,ce,Ft),mn===null?_t=uu:mn.sibling=uu,mn=uu,wt=ds}if(On.done)return d(pe,wt),_n&&Ss(pe,Ft),_t;if(wt===null){for(;!On.done;Ft++,On=ve.next())On=We(pe,On.value,Xe),On!==null&&(ce=C(On,ce,Ft),mn===null?_t=On:mn.sibling=On,mn=On);return _n&&Ss(pe,Ft),_t}for(wt=g(wt);!On.done;Ft++,On=ve.next())On=Ne(wt,pe,Ft,On.value,Xe),On!==null&&(r&&On.alternate!==null&&wt.delete(On.key===null?Ft:On.key),ce=C(On,ce,Ft),mn===null?_t=On:mn.sibling=On,mn=On);return r&&wt.forEach(function(iP){return l(pe,iP)}),_n&&Ss(pe,Ft),_t}function Di(pe,ce,ve,Xe){if(typeof ve=="object"&&ve!==null&&ve.type===h&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case o:e:{for(var _t=ve.key;ce!==null;){if(ce.key===_t){if(_t=ve.type,_t===h){if(ce.tag===7){d(pe,ce.sibling),Xe=x(ce,ve.props.children),Xe.return=pe,pe=Xe;break e}}else if(ce.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&Ky(_t)===ce.type){d(pe,ce.sibling),Xe=x(ce,ve.props),pf(Xe,ve),Xe.return=pe,pe=Xe;break e}d(pe,ce);break}else l(pe,ce);ce=ce.sibling}ve.type===h?(Xe=il(ve.props.children,pe.mode,Xe,ve.key),Xe.return=pe,pe=Xe):(Xe=tu(ve.type,ve.key,ve.props,null,pe.mode,Xe),pf(Xe,ve),Xe.return=pe,pe=Xe)}return I(pe);case c:e:{for(_t=ve.key;ce!==null;){if(ce.key===_t)if(ce.tag===4&&ce.stateNode.containerInfo===ve.containerInfo&&ce.stateNode.implementation===ve.implementation){d(pe,ce.sibling),Xe=x(ce,ve.children||[]),Xe.return=pe,pe=Xe;break e}else{d(pe,ce);break}else l(pe,ce);ce=ce.sibling}Xe=Tf(ve,pe.mode,Xe),Xe.return=pe,pe=Xe}return I(pe);case w:return _t=ve._init,ve=_t(ve._payload),Di(pe,ce,ve,Xe)}if(je(ve))return Mt(pe,ce,ve,Xe);if(P(ve)){if(_t=P(ve),typeof _t!="function")throw Error(n(150));return ve=_t.call(ve),jt(pe,ce,ve,Xe)}if(typeof ve.then=="function")return Di(pe,ce,df(ve),Xe);if(ve.$$typeof===_)return Di(pe,ce,hd(pe,ve),Xe);Kh(pe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,ce!==null&&ce.tag===6?(d(pe,ce.sibling),Xe=x(ce,ve),Xe.return=pe,pe=Xe):(d(pe,ce),Xe=Ri(ve,pe.mode,Xe),Xe.return=pe,pe=Xe),I(pe)):d(pe,ce)}return function(pe,ce,ve,Xe){try{hf=0;var _t=Di(pe,ce,ve,Xe);return Fo=null,_t}catch(wt){if(wt===Po)throw wt;var mn=Ai(29,wt,null,pe.mode);return mn.lanes=Xe,mn.return=pe,mn}finally{}}}var kr=Jy(!0),Xr=Jy(!1),Pl=ke(null),Il=ke(0);function zo(r,l){r=ro,it(Il,r),it(Pl,l),ro=r|l.baseLanes}function Jh(){it(Il,ro),it(Pl,Pl.current)}function mf(){ro=Il.current,vt(Pl),vt(Il)}var Ps=ke(null),cr=null;function jr(r){var l=r.alternate;it(Ei,Ei.current&1),it(Ps,r),cr===null&&(l===null||Pl.current!==null||l.memoizedState!==null)&&(cr=r)}function im(r){if(r.tag===22){if(it(Ei,Ei.current),it(Ps,r),cr===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(cr=r)}}else Yr()}function Yr(){it(Ei,Ei.current),it(Ps,Ps.current)}function ur(r){vt(Ps),cr===r&&(cr=null),vt(Ei)}var Ei=ke(0);function Gc(r){for(var l=r;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ln=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(d,g){r.push(g)}};this.abort=function(){l.aborted=!0,r.forEach(function(d){return d()})}},kx=i.unstable_scheduleCallback,na=i.unstable_NormalPriority,di={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sm(){return{controller:new ln,data:new Map,refCount:0}}function Ho(r){r.refCount--,r.refCount===0&&kx(na,function(){r.controller.abort()})}var fr=null,Go=0,Fl=0,Vo=null;function Xx(r,l){if(fr===null){var d=fr=[];Go=0,Fl=$x(),Vo={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Go++,l.then(am,am),l}function am(){if(--Go===0&&fr!==null){Vo!==null&&(Vo.status="fulfilled");var r=fr;fr=null,Fl=0,Vo=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function ko(r,l){var d=[],g={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return r.then(function(){g.status="fulfilled",g.value=l;for(var x=0;x<d.length;x++)(0,d[x])(l)},function(x){for(g.status="rejected",g.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),g}var Zh=N.S;N.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Xx(r,l),Zh!==null&&Zh(r,l)};var qr=ke(null);function gf(){var r=qr.current;return r!==null?r:Fn.pooledCache}function Vc(r,l){l===null?it(qr,qr.current):it(qr,l.pool)}function Wr(){var r=gf();return r===null?null:{parent:di._currentValue,pool:r}}var Kr=0,en=null,Un=null,Ti=null,It=!1,Xo=!1,jo=!1,kc=0,Yo=0,Xc=null,jx=0;function ri(){throw Error(n(321))}function zl(r,l){if(l===null)return!1;for(var d=0;d<l.length&&d<r.length;d++)if(!Os(r[d],l[d]))return!1;return!0}function rm(r,l,d,g,x,C){return Kr=C,en=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,N.H=r===null||r.memoizedState===null?Wo:Zr,jo=!1,C=d(g,x),jo=!1,Xo&&(C=Qy(l,d,g,x)),Zy(r),C}function Zy(r){N.H=dr;var l=Un!==null&&Un.next!==null;if(Kr=0,Ti=Un=en=null,It=!1,Yo=0,Xc=null,l)throw Error(n(300));r===null||Pi||(r=r.dependencies,r!==null&&Kc(r)&&(Pi=!0))}function Qy(r,l,d,g){en=r;var x=0;do{if(Xo&&(Xc=null),Yo=0,Xo=!1,25<=x)throw Error(n(301));if(x+=1,Ti=Un=null,r.updateQueue!=null){var C=r.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}N.H=Vl,C=l(d,g)}while(Xo);return C}function Yx(){var r=N.H,l=r.useState()[0];return l=typeof l.then=="function"?vf(l):l,r=r.useState()[0],(Un!==null?Un.memoizedState:null)!==r&&(en.flags|=1024),l}function om(){var r=kc!==0;return kc=0,r}function yf(r,l,d){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~d}function Qh(r){if(It){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}It=!1}Kr=0,Ti=Un=en=null,Xo=!1,Yo=kc=0,Xc=null}function $i(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ti===null?en.memoizedState=Ti=r:Ti=Ti.next=r,Ti}function pi(){if(Un===null){var r=en.alternate;r=r!==null?r.memoizedState:null}else r=Un.next;var l=Ti===null?en.memoizedState:Ti.next;if(l!==null)Ti=l,Un=r;else{if(r===null)throw en.alternate===null?Error(n(467)):Error(n(310));Un=r,r={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Ti===null?en.memoizedState=Ti=r:Ti=Ti.next=r}return Ti}var $h;$h=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vf(r){var l=Yo;return Yo+=1,Xc===null&&(Xc=[]),r=Io(Xc,r,l),l=en,(Ti===null?l.memoizedState:Ti.next)===null&&(l=l.alternate,N.H=l===null||l.memoizedState===null?Wo:Zr),r}function jc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return vf(r);if(r.$$typeof===_)return os(r)}throw Error(n(438,String(r)))}function Ga(r){var l=null,d=en.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=en.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=$h(),en.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(r),g=0;g<r;g++)d[g]=D;return l.index++,d}function Qn(r,l){return typeof l=="function"?l(r):l}function Va(r){var l=pi();return Is(l,Un,r)}function Is(r,l,d){var g=r.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var x=r.baseQueue,C=g.pending;if(C!==null){if(x!==null){var I=x.next;x.next=C.next,C.next=I}l.baseQueue=x=C,g.pending=null}if(C=r.baseState,x===null)r.memoizedState=C;else{l=x.next;var k=I=null,J=null,ue=l,ze=!1;do{var We=ue.lane&-536870913;if(We!==ue.lane?(Dt&We)===We:(Kr&We)===We){var xe=ue.revertLane;if(xe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),We===Fl&&(ze=!0);else if((Kr&xe)===xe){ue=ue.next,xe===Fl&&(ze=!0);continue}else We={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(k=J=We,I=C):J=J.next=We,en.lanes|=xe,Ka|=xe;We=ue.action,jo&&d(C,We),C=ue.hasEagerState?ue.eagerState:d(C,We)}else xe={lane:We,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(k=J=xe,I=C):J=J.next=xe,en.lanes|=We,Ka|=We;ue=ue.next}while(ue!==null&&ue!==l);if(J===null?I=C:J.next=k,!Os(C,r.memoizedState)&&(Pi=!0,ze&&(d=Vo,d!==null)))throw d;r.memoizedState=C,r.baseState=I,r.baseQueue=J,g.lastRenderedState=C}return x===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function ed(r){var l=pi(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var g=d.dispatch,x=d.pending,C=l.memoizedState;if(x!==null){d.pending=null;var I=x=x.next;do C=r(C,I.action),I=I.next;while(I!==x);Os(C,l.memoizedState)||(Pi=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),d.lastRenderedState=C}return[C,g]}function $y(r,l,d){var g=en,x=pi(),C=_n;if(C){if(d===void 0)throw Error(n(407));d=d()}else d=l();var I=!Os((Un||x).memoizedState,d);if(I&&(x.memoizedState=d,Pi=!0),x=x.queue,fm(e0.bind(null,g,x,r),[r]),x.getSnapshot!==l||I||Ti!==null&&Ti.memoizedState.tag&1){if(g.flags|=2048,hr(9,qo.bind(null,g,x,d,l),{destroy:void 0},null),Fn===null)throw Error(n(349));C||(Kr&60)!==0||bs(g,l,d)}return d}function bs(r,l,d){r.flags|=16384,r={getSnapshot:l,value:d},l=en.updateQueue,l===null?(l=$h(),en.updateQueue=l,l.stores=[r]):(d=l.stores,d===null?l.stores=[r]:d.push(r))}function qo(r,l,d,g){l.value=d,l.getSnapshot=g,t0(l)&&n0(r)}function e0(r,l,d){return d(function(){t0(l)&&n0(r)})}function t0(r){var l=r.getSnapshot;r=r.value;try{var d=l();return!Os(r,d)}catch{return!0}}function n0(r){var l=Hr(r,2);l!==null&&Bi(l,r,2)}function lm(r){var l=$i();if(typeof r=="function"){var d=r;if(r=d(),jo){ne(!0);try{d()}finally{ne(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:r},l}function cm(r,l,d,g){return r.baseState=d,Is(r,Un,typeof g=="function"?g:Qn)}function qx(r,l,d,g,x){if(ad(r))throw Error(n(485));if(r=l.action,r!==null){var C={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){C.listeners.push(I)}};N.T!==null?d(!0):C.isTransition=!1,g(C),d=l.pending,d===null?(C.next=l.pending=C,um(l,C)):(C.next=d.next,l.pending=d.next=C)}}function um(r,l){var d=l.action,g=l.payload,x=r.state;if(l.isTransition){var C=N.T,I={};N.T=I;try{var k=d(x,g),J=N.S;J!==null&&J(I,k),i0(r,l,k)}catch(ue){Jr(r,l,ue)}finally{N.T=C}}else try{C=d(x,g),i0(r,l,C)}catch(ue){Jr(r,l,ue)}}function i0(r,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Hl(r,l,g)},function(g){return Jr(r,l,g)}):Hl(r,l,d)}function Hl(r,l,d){l.status="fulfilled",l.value=d,s0(l),r.state=d,l=r.pending,l!==null&&(d=l.next,d===l?r.pending=null:(d=d.next,l.next=d,um(r,d)))}function Jr(r,l,d){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,s0(l),l=l.next;while(l!==g)}r.action=null}function s0(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function a0(r,l){return l}function r0(r,l){if(_n){var d=Fn.formState;if(d!==null){e:{var g=en;if(_n){if(ji){t:{for(var x=ji,C=Aa;x.nodeType!==8;){if(!C){x=null;break t}if(x=co(x.nextSibling),x===null){x=null;break t}}C=x.data,x=C==="F!"||C==="F"?x:null}if(x){ji=co(x.nextSibling),g=x.data==="F!";break e}}Ul(g)}g=!1}g&&(l=d[0])}}return d=$i(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:l},d.queue=g,d=mm.bind(null,en,g),g.dispatch=d,g=lm(!1),C=Af.bind(null,en,!1,g.queue),g=$i(),x={state:l,dispatch:null,action:r,pending:null},g.queue=x,d=qx.bind(null,en,x,C,d),x.dispatch=d,g.memoizedState=r,[l,d,!1]}function Yc(r){var l=pi();return o0(l,Un,r)}function o0(r,l,d){l=Is(r,l,a0)[0],r=Va(Qn)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?vf(l):l;var g=pi(),x=g.queue,C=x.dispatch;return d!==g.memoizedState&&(en.flags|=2048,hr(9,Wx.bind(null,x,d),{destroy:void 0},null)),[l,C,r]}function Wx(r,l){r.action=l}function l0(r){var l=pi(),d=Un;if(d!==null)return o0(l,d,r);pi(),l=l.memoizedState,d=pi();var g=d.queue.dispatch;return d.memoizedState=r,[l,g,!1]}function hr(r,l,d,g){return r={tag:r,create:l,inst:d,deps:g,next:null},l=en.updateQueue,l===null&&(l=$h(),en.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=r.next=r:(g=d.next,d.next=r,r.next=g,l.lastEffect=r),r}function c0(){return pi().memoizedState}function td(r,l,d,g){var x=$i();en.flags|=r,x.memoizedState=hr(1|l,d,{destroy:void 0},g===void 0?null:g)}function nd(r,l,d,g){var x=pi();g=g===void 0?null:g;var C=x.memoizedState.inst;Un!==null&&g!==null&&zl(g,Un.memoizedState.deps)?x.memoizedState=hr(l,d,C,g):(en.flags|=r,x.memoizedState=hr(1|l,d,C,g))}function u0(r,l){td(8390656,8,r,l)}function fm(r,l){nd(2048,8,r,l)}function f0(r,l){return nd(4,2,r,l)}function h0(r,l){return nd(4,4,r,l)}function d0(r,l){if(typeof l=="function"){r=r();var d=l(r);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function p0(r,l,d){d=d!=null?d.concat([r]):null,nd(4,4,d0.bind(null,l,r),d)}function hm(){}function m0(r,l){var d=pi();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&zl(l,g[1])?g[0]:(d.memoizedState=[r,l],r)}function g0(r,l){var d=pi();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&zl(l,g[1]))return g[0];if(g=r(),jo){ne(!0);try{r()}finally{ne(!1)}}return d.memoizedState=[g,l],g}function id(r,l,d){return d===void 0||(Kr&1073741824)!==0?r.memoizedState=l:(r.memoizedState=d,r=oa(),en.lanes|=r,Ka|=r,d)}function y0(r,l,d,g){return Os(d,l)?d:Pl.current!==null?(r=id(r,d,g),Os(r,l)||(Pi=!0),r):(Kr&42)===0?(Pi=!0,r.memoizedState=d):(r=oa(),en.lanes|=r,Ka|=r,l)}function v0(r,l,d,g,x){var C=ie.p;ie.p=C!==0&&8>C?C:8;var I=N.T,k={};N.T=k,Af(r,!1,l,d);try{var J=x(),ue=N.S;if(ue!==null&&ue(k,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ze=ko(J,g);Gl(r,l,ze,Rs(r))}else Gl(r,l,g,Rs(r))}catch(We){Gl(r,l,{then:function(){},status:"rejected",reason:We},Rs())}finally{ie.p=C,N.T=I}}function Kx(){}function dm(r,l,d,g){if(r.tag!==5)throw Error(n(476));var x=A0(r).queue;v0(r,x,l,Re,d===null?Kx:function(){return _0(r),d(g)})}function A0(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Re},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:d},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function _0(r){var l=A0(r).next.queue;Gl(r,l,{},Rs())}function sd(){return os(Hm)}function pm(){return pi().memoizedState}function x0(){return pi().memoizedState}function S0(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var d=Rs();r=aa(d);var g=ra(l,r,d);g!==null&&(Bi(g,l,d),Zo(g,l,d)),l={cache:sm()},r.payload=l;return}l=l.return}}function b0(r,l,d){var g=Rs();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},ad(r)?M0(l,d):(d=Ll(r,l,d,g),d!==null&&(Bi(d,r,g),E0(d,l,g)))}function mm(r,l,d){var g=Rs();Gl(r,l,d,g)}function Gl(r,l,d,g){var x={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(ad(r))M0(l,x);else{var C=r.alternate;if(r.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var I=l.lastRenderedState,k=C(I,d);if(x.hasEagerState=!0,x.eagerState=k,Os(k,I))return af(r,l,x,0),Fn===null&&sf(),!1}catch{}finally{}if(d=Ll(r,l,x,g),d!==null)return Bi(d,r,g),E0(d,l,g),!0}return!1}function Af(r,l,d,g){if(g={lane:2,revertLane:$x(),action:g,hasEagerState:!1,eagerState:null,next:null},ad(r)){if(l)throw Error(n(479))}else l=Ll(r,d,g,2),l!==null&&Bi(l,r,2)}function ad(r){var l=r.alternate;return r===en||l!==null&&l===en}function M0(r,l){Xo=It=!0;var d=r.pending;d===null?l.next=l:(l.next=d.next,d.next=l),r.pending=l}function E0(r,l,d){if((d&4194176)!==0){var g=l.lanes;g&=r.pendingLanes,d|=g,l.lanes=d,ma(r,d)}}var dr={readContext:os,use:jc,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri};dr.useCacheRefresh=ri,dr.useMemoCache=ri,dr.useHostTransitionStatus=ri,dr.useFormState=ri,dr.useActionState=ri,dr.useOptimistic=ri;var Wo={readContext:os,use:jc,useCallback:function(r,l){return $i().memoizedState=[r,l===void 0?null:l],r},useContext:os,useEffect:u0,useImperativeHandle:function(r,l,d){d=d!=null?d.concat([r]):null,td(4194308,4,d0.bind(null,l,r),d)},useLayoutEffect:function(r,l){return td(4194308,4,r,l)},useInsertionEffect:function(r,l){td(4,2,r,l)},useMemo:function(r,l){var d=$i();l=l===void 0?null:l;var g=r();if(jo){ne(!0);try{r()}finally{ne(!1)}}return d.memoizedState=[g,l],g},useReducer:function(r,l,d){var g=$i();if(d!==void 0){var x=d(l);if(jo){ne(!0);try{d(l)}finally{ne(!1)}}}else x=l;return g.memoizedState=g.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},g.queue=r,r=r.dispatch=b0.bind(null,en,r),[g.memoizedState,r]},useRef:function(r){var l=$i();return r={current:r},l.memoizedState=r},useState:function(r){r=lm(r);var l=r.queue,d=mm.bind(null,en,l);return l.dispatch=d,[r.memoizedState,d]},useDebugValue:hm,useDeferredValue:function(r,l){var d=$i();return id(d,r,l)},useTransition:function(){var r=lm(!1);return r=v0.bind(null,en,r.queue,!0,!1),$i().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,d){var g=en,x=$i();if(_n){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Fn===null)throw Error(n(349));(Dt&60)!==0||bs(g,l,d)}x.memoizedState=d;var C={value:d,getSnapshot:l};return x.queue=C,u0(e0.bind(null,g,C,r),[r]),g.flags|=2048,hr(9,qo.bind(null,g,C,d,l),{destroy:void 0},null),d},useId:function(){var r=$i(),l=Fn.identifierPrefix;if(_n){var d=Vr,g=or;d=(g&~(1<<32-Ce(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=kc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=jx++,l=":"+l+"r"+d.toString(32)+":";return r.memoizedState=l},useCacheRefresh:function(){return $i().memoizedState=S0.bind(null,en)}};Wo.useMemoCache=Ga,Wo.useHostTransitionStatus=sd,Wo.useFormState=r0,Wo.useActionState=r0,Wo.useOptimistic=function(r){var l=$i();l.memoizedState=l.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Af.bind(null,en,!0,d),d.dispatch=l,[r,l]};var Zr={readContext:os,use:jc,useCallback:m0,useContext:os,useEffect:fm,useImperativeHandle:p0,useInsertionEffect:f0,useLayoutEffect:h0,useMemo:g0,useReducer:Va,useRef:c0,useState:function(){return Va(Qn)},useDebugValue:hm,useDeferredValue:function(r,l){var d=pi();return y0(d,Un.memoizedState,r,l)},useTransition:function(){var r=Va(Qn)[0],l=pi().memoizedState;return[typeof r=="boolean"?r:vf(r),l]},useSyncExternalStore:$y,useId:pm};Zr.useCacheRefresh=x0,Zr.useMemoCache=Ga,Zr.useHostTransitionStatus=sd,Zr.useFormState=Yc,Zr.useActionState=Yc,Zr.useOptimistic=function(r,l){var d=pi();return cm(d,Un,r,l)};var Vl={readContext:os,use:jc,useCallback:m0,useContext:os,useEffect:fm,useImperativeHandle:p0,useInsertionEffect:f0,useLayoutEffect:h0,useMemo:g0,useReducer:ed,useRef:c0,useState:function(){return ed(Qn)},useDebugValue:hm,useDeferredValue:function(r,l){var d=pi();return Un===null?id(d,r,l):y0(d,Un.memoizedState,r,l)},useTransition:function(){var r=ed(Qn)[0],l=pi().memoizedState;return[typeof r=="boolean"?r:vf(r),l]},useSyncExternalStore:$y,useId:pm};Vl.useCacheRefresh=x0,Vl.useMemoCache=Ga,Vl.useHostTransitionStatus=sd,Vl.useFormState=l0,Vl.useActionState=l0,Vl.useOptimistic=function(r,l){var d=pi();return Un!==null?cm(d,Un,r,l):(d.baseState=r,[r,d.queue.dispatch])};function gm(r,l,d,g){l=r.memoizedState,d=d(g,l),d=d==null?l:L({},l,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var ym={isMounted:function(r){return(r=r._reactInternals)?se(r)===r:!1},enqueueSetState:function(r,l,d){r=r._reactInternals;var g=Rs(),x=aa(g);x.payload=l,d!=null&&(x.callback=d),l=ra(r,x,g),l!==null&&(Bi(l,r,g),Zo(l,r,g))},enqueueReplaceState:function(r,l,d){r=r._reactInternals;var g=Rs(),x=aa(g);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=ra(r,x,g),l!==null&&(Bi(l,r,g),Zo(l,r,g))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var d=Rs(),g=aa(d);g.tag=2,l!=null&&(g.callback=l),l=ra(r,g,d),l!==null&&(Bi(l,r,d),Zo(l,r,d))}};function T0(r,l,d,g,x,C,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,C,I):l.prototype&&l.prototype.isPureReactComponent?!Ha(d,g)||!Ha(x,C):!0}function C0(r,l,d,g){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==r&&ym.enqueueReplaceState(l,l.state,null)}function kl(r,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(r=r.defaultProps){d===l&&(d=L({},d));for(var x in r)d[x]===void 0&&(d[x]=r[x])}return d}var rd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function R0(r){rd(r)}function w0(r){console.error(r)}function B0(r){rd(r)}function od(r,l){try{var d=r.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function D0(r,l,d){try{var g=r.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function vm(r,l,d){return d=aa(d),d.tag=3,d.payload={element:null},d.callback=function(){od(r,l)},d}function Am(r){return r=aa(r),r.tag=3,r}function O0(r,l,d,g){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var C=g.value;r.payload=function(){return x(C)},r.callback=function(){D0(l,d,g)}}var I=d.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(r.callback=function(){D0(l,d,g),typeof x!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var k=g.stack;this.componentDidCatch(g.value,{componentStack:k!==null?k:""})})}function Jx(r,l,d,g,x){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&xf(l,d,x,!0),d=Ps.current,d!==null){switch(d.tag){case 13:return cr===null?wf():d.alternate===null&&Jn===0&&(Jn=3),d.flags&=-257,d.flags|=65536,d.lanes=x,g===Wh?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),kt(r,g,x)),!1;case 22:return d.flags|=65536,g===Wh?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),kt(r,g,x)),!1}throw Error(n(435,d.tag))}return kt(r,g,x),wf(),!1}if(_n)return l=Ps.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,g!==uf&&(r=Error(n(422),{cause:g}),lr(Us(r,d)))):(g!==uf&&(l=Error(n(423),{cause:g}),lr(Us(l,d))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,g=Us(g,d),x=vm(r.stateNode,g,x),Zc(r,x),Jn!==4&&(Jn=2)),!1;var C=Error(n(520),{cause:g});if(C=Us(C,d),Rf===null?Rf=[C]:Rf.push(C),Jn!==4&&(Jn=2),l===null)return!0;g=Us(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,r=x&-x,d.lanes|=r,r=vm(d.stateNode,g,r),Zc(d,r),!1;case 1:if(l=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(wi===null||!wi.has(C))))return d.flags|=65536,x&=-x,d.lanes|=x,x=Am(x),O0(x,r,d,g),Zc(d,x),!1}d=d.return}while(d!==null);return!1}var ia=Error(n(461)),Pi=!1;function Ii(r,l,d,g){l.child=r===null?Xr(l,null,d,g):kr(l,r.child,d,g)}function _m(r,l,d,g,x){d=d.render;var C=l.ref;if("ref"in g){var I={};for(var k in g)k!=="ref"&&(I[k]=g[k])}else I=g;return jl(l),g=rm(r,l,d,I,C,x),k=om(),r!==null&&!Pi?(yf(r,l,x),mi(r,l,x)):(_n&&k&&cf(l),l.flags|=1,Ii(r,l,g,x),l.child)}function xm(r,l,d,g,x){if(r===null){var C=d.type;return typeof C=="function"&&!so(C)&&C.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=C,Sm(r,l,C,g,x)):(r=tu(d.type,null,g,l,l.mode,x),r.ref=l.ref,r.return=l,l.child=r)}if(C=r.child,!wm(r,x)){var I=C.memoizedProps;if(d=d.compare,d=d!==null?d:Ha,d(I,g)&&r.ref===l.ref)return mi(r,l,x)}return l.flags|=1,r=Ts(C,g),r.ref=l.ref,r.return=l,l.child=r}function Sm(r,l,d,g,x){if(r!==null){var C=r.memoizedProps;if(Ha(C,g)&&r.ref===l.ref)if(Pi=!1,l.pendingProps=g=C,wm(r,x))(r.flags&131072)!==0&&(Pi=!0);else return l.lanes=r.lanes,mi(r,l,x)}return Mm(r,l,d,g,x)}function L0(r,l,d){var g=l.pendingProps,x=g.children,C=(l.stateNode._pendingVisibility&2)!==0,I=r!==null?r.memoizedState:null;if(qc(r,l),g.mode==="hidden"||C){if((l.flags&128)!==0){if(g=I!==null?I.baseLanes|d:d,r!==null){for(x=l.child=r.child,C=0;x!==null;)C=C|x.lanes|x.childLanes,x=x.sibling;l.childLanes=C&~g}else l.childLanes=0,l.child=null;return bm(r,l,g,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vc(l,I!==null?I.cachePool:null),I!==null?zo(l,I):Jh(),im(l);else return l.lanes=l.childLanes=536870912,bm(r,l,I!==null?I.baseLanes|d:d,d)}else I!==null?(Vc(l,I.cachePool),zo(l,I),Yr(),l.memoizedState=null):(r!==null&&Vc(l,null),Jh(),Yr());return Ii(r,l,x,d),l.child}function bm(r,l,d,g){var x=gf();return x=x===null?null:{parent:di._currentValue,pool:x},l.memoizedState={baseLanes:d,cachePool:x},r!==null&&Vc(l,null),Jh(),im(l),r!==null&&xf(r,l,g,!0),null}function qc(r,l){var d=l.ref;if(d===null)r!==null&&r.ref!==null&&(l.flags|=2097664);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(r===null||r.ref!==d)&&(l.flags|=2097664)}}function Mm(r,l,d,g,x){return jl(l),d=rm(r,l,d,g,void 0,x),g=om(),r!==null&&!Pi?(yf(r,l,x),mi(r,l,x)):(_n&&g&&cf(l),l.flags|=1,Ii(r,l,d,x),l.child)}function N0(r,l,d,g,x,C){return jl(l),l.updateQueue=null,d=Qy(l,g,d,x),Zy(r),g=om(),r!==null&&!Pi?(yf(r,l,C),mi(r,l,C)):(_n&&g&&cf(l),l.flags|=1,Ii(r,l,d,C),l.child)}function U0(r,l,d,g,x){if(jl(l),l.stateNode===null){var C=Lo,I=d.contextType;typeof I=="object"&&I!==null&&(C=os(I)),C=new d(g,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ym,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=g,C.state=l.memoizedState,C.refs={},Ms(l),I=d.contextType,C.context=typeof I=="object"&&I!==null?os(I):Lo,C.state=l.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(gm(l,d,I,g),C.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(I=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),I!==C.state&&ym.enqueueReplaceState(C,C.state,null),Xa(l,g,C,x),ls(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(r===null){C=l.stateNode;var k=l.memoizedProps,J=kl(d,k);C.props=J;var ue=C.context,ze=d.contextType;I=Lo,typeof ze=="object"&&ze!==null&&(I=os(ze));var We=d.getDerivedStateFromProps;ze=typeof We=="function"||typeof C.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,ze||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k||ue!==I)&&C0(l,C,g,I),Ci=!1;var xe=l.memoizedState;C.state=xe,Xa(l,g,C,x),ls(),ue=l.memoizedState,k||xe!==ue||Ci?(typeof We=="function"&&(gm(l,d,We,g),ue=l.memoizedState),(J=Ci||T0(l,d,J,g,xe,ue,I))?(ze||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ue),C.props=g,C.state=ue,C.context=I,g=J):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{C=l.stateNode,dd(r,l),I=l.memoizedProps,ze=kl(d,I),C.props=ze,We=l.pendingProps,xe=C.context,ue=d.contextType,J=Lo,typeof ue=="object"&&ue!==null&&(J=os(ue)),k=d.getDerivedStateFromProps,(ue=typeof k=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==We||xe!==J)&&C0(l,C,g,J),Ci=!1,xe=l.memoizedState,C.state=xe,Xa(l,g,C,x),ls();var Ne=l.memoizedState;I!==We||xe!==Ne||Ci||r!==null&&r.dependencies!==null&&Kc(r.dependencies)?(typeof k=="function"&&(gm(l,d,k,g),Ne=l.memoizedState),(ze=Ci||T0(l,d,ze,g,xe,Ne,J)||r!==null&&r.dependencies!==null&&Kc(r.dependencies))?(ue||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Ne,J),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Ne,J)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===r.memoizedProps&&xe===r.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&xe===r.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ne),C.props=g,C.state=Ne,C.context=J,g=ze):(typeof C.componentDidUpdate!="function"||I===r.memoizedProps&&xe===r.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&xe===r.memoizedState||(l.flags|=1024),g=!1)}return C=g,qc(r,l),g=(l.flags&128)!==0,C||g?(C=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,r!==null&&g?(l.child=kr(l,r.child,null,x),l.child=kr(l,null,d,x)):Ii(r,l,d,x),l.memoizedState=C.state,r=l.child):r=mi(r,l,x),r}function Em(r,l,d,g){return zc(),l.flags|=256,Ii(r,l,d,g),l.child}var Tm={dehydrated:null,treeContext:null,retryLane:0};function Yi(r){return{baseLanes:r,cachePool:Wr()}}function ld(r,l,d){return r=r!==null?r.childLanes&~d:0,l&&(r|=Cs),r}function P0(r,l,d){var g=l.pendingProps,x=!1,C=(l.flags&128)!==0,I;if((I=C)||(I=r!==null&&r.memoizedState===null?!1:(Ei.current&2)!==0),I&&(x=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,r===null){if(_n){if(x?jr(l):Yr(),_n){var k=ji,J;if(J=k){e:{for(J=k,k=Aa;J.nodeType!==8;){if(!k){k=null;break e}if(J=co(J.nextSibling),J===null){k=null;break e}}k=J}k!==null?(l.memoizedState={dehydrated:k,treeContext:Gr!==null?{id:or,overflow:Vr}:null,retryLane:536870912},J=Ai(18,null,null,0),J.stateNode=k,J.return=l,l.child=J,rs=l,ji=null,J=!0):J=!1}J||Ul(l)}if(k=l.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?l.lanes=16:l.lanes=536870912,null;ur(l)}return k=g.children,g=g.fallback,x?(Yr(),x=l.mode,k=Rm({mode:"hidden",children:k},x),g=il(g,x,d,null),k.return=l,g.return=l,k.sibling=g,l.child=k,x=l.child,x.memoizedState=Yi(d),x.childLanes=ld(r,I,d),l.memoizedState=Tm,g):(jr(l),Cm(l,k))}if(J=r.memoizedState,J!==null&&(k=J.dehydrated,k!==null)){if(C)l.flags&256?(jr(l),l.flags&=-257,l=cd(r,l,d)):l.memoizedState!==null?(Yr(),l.child=r.child,l.flags|=128,l=null):(Yr(),x=g.fallback,k=l.mode,g=Rm({mode:"visible",children:g.children},k),x=il(x,k,d,null),x.flags|=2,g.return=l,x.return=l,g.sibling=x,l.child=g,kr(l,r.child,null,d),g=l.child,g.memoizedState=Yi(d),g.childLanes=ld(r,I,d),l.memoizedState=Tm,l=x);else if(jr(l),k.data==="$!"){if(I=k.nextSibling&&k.nextSibling.dataset,I)var ue=I.dgst;I=ue,g=Error(n(419)),g.stack="",g.digest=I,lr({value:g,source:null,stack:null}),l=cd(r,l,d)}else if(Pi||xf(r,l,d,!1),I=(d&r.childLanes)!==0,Pi||I){if(I=Fn,I!==null){if(g=d&-d,(g&42)!==0)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=(g&(I.suspendedLanes|d))!==0?0:g,g!==0&&g!==J.retryLane)throw J.retryLane=g,Hr(r,g),Bi(I,r,g),ia}k.data==="$?"||wf(),l=cd(r,l,d)}else k.data==="$?"?(l.flags|=128,l.child=r.child,l=Ql.bind(null,r),k._reactRetry=l,l=null):(r=J.treeContext,ji=co(k.nextSibling),rs=l,_n=!0,va=null,Aa=!1,r!==null&&(jn[ta++]=or,jn[ta++]=Vr,jn[ta++]=Gr,or=r.id,Vr=r.overflow,Gr=l),l=Cm(l,g.children),l.flags|=4096);return l}return x?(Yr(),x=g.fallback,k=l.mode,J=r.child,ue=J.sibling,g=Ts(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&31457280,ue!==null?x=Ts(ue,x):(x=il(x,k,d,null),x.flags|=2),x.return=l,g.return=l,g.sibling=x,l.child=g,g=x,x=l.child,k=r.child.memoizedState,k===null?k=Yi(d):(J=k.cachePool,J!==null?(ue=di._currentValue,J=J.parent!==ue?{parent:ue,pool:ue}:J):J=Wr(),k={baseLanes:k.baseLanes|d,cachePool:J}),x.memoizedState=k,x.childLanes=ld(r,I,d),l.memoizedState=Tm,g):(jr(l),d=r.child,r=d.sibling,d=Ts(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,r!==null&&(I=l.deletions,I===null?(l.deletions=[r],l.flags|=16):I.push(r)),l.child=d,l.memoizedState=null,d)}function Cm(r,l){return l=Rm({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Rm(r,l){return Dm(r,l,0,null)}function cd(r,l,d){return kr(l,r.child,null,d),r=Cm(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function ud(r,l,d){r.lanes|=l;var g=r.alternate;g!==null&&(g.lanes|=l),sa(r.return,l,d)}function Ko(r,l,d,g,x){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=d,C.tailMode=x)}function Xl(r,l,d){var g=l.pendingProps,x=g.revealOrder,C=g.tail;if(Ii(r,l,g.children,d),g=Ei.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ud(r,d,l);else if(r.tag===19)ud(r,d,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}switch(it(Ei,g),x){case"forwards":for(d=l.child,x=null;d!==null;)r=d.alternate,r!==null&&Gc(r)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Ko(l,!1,x,d,C);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(r=x.alternate,r!==null&&Gc(r)===null){l.child=x;break}r=x.sibling,x.sibling=d,d=x,x=r}Ko(l,!0,d,null,C);break;case"together":Ko(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function mi(r,l,d){if(r!==null&&(l.dependencies=r.dependencies),Ka|=l.lanes,(d&l.childLanes)===0)if(r!==null){if(xf(r,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(n(153));if(l.child!==null){for(r=l.child,d=Ts(r,r.pendingProps),l.child=d,d.return=l;r.sibling!==null;)r=r.sibling,d=d.sibling=Ts(r,r.pendingProps),d.return=l;d.sibling=null}return l.child}function wm(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Kc(r)))}function Zx(r,l,d){switch(l.tag){case 3:Mn(l,l.stateNode.containerInfo),Jo(l,di,r.memoizedState.cache),zc();break;case 27:case 5:Ve(l);break;case 4:Mn(l,l.stateNode.containerInfo);break;case 10:Jo(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(jr(l),l.flags|=128,null):(d&l.child.childLanes)!==0?P0(r,l,d):(jr(l),r=mi(r,l,d),r!==null?r.sibling:null);jr(l);break;case 19:var x=(r.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(xf(r,l,d,!1),g=(d&l.childLanes)!==0),x){if(g)return Xl(r,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),it(Ei,Ei.current),g)break;return null;case 22:case 23:return l.lanes=0,L0(r,l,d);case 24:Jo(l,di,r.memoizedState.cache)}return mi(r,l,d)}function _f(r,l,d){if(r!==null)if(r.memoizedProps!==l.pendingProps)Pi=!0;else{if(!wm(r,d)&&(l.flags&128)===0)return Pi=!1,Zx(r,l,d);Pi=(r.flags&131072)!==0}else Pi=!1,_n&&(l.flags&1048576)!==0&&tm(l,lf,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var g=l.elementType,x=g._init;if(g=x(g._payload),l.type=g,typeof g=="function")so(g)?(r=kl(g,r),l.tag=1,l=U0(null,l,g,r,d)):(l.tag=0,l=Mm(null,l,g,r,d));else{if(g!=null){if(x=g.$$typeof,x===S){l.tag=11,l=_m(null,l,g,r,d);break e}else if(x===b){l.tag=14,l=xm(null,l,g,r,d);break e}}throw l=H(g)||g,Error(n(306,l,""))}}return l;case 0:return Mm(r,l,l.type,l.pendingProps,d);case 1:return g=l.type,x=kl(g,l.pendingProps),U0(r,l,g,x,d);case 3:e:{if(Mn(l,l.stateNode.containerInfo),r===null)throw Error(n(387));var C=l.pendingProps;x=l.memoizedState,g=x.element,dd(r,l),Xa(l,C,null,d);var I=l.memoizedState;if(C=I.cache,Jo(l,di,C),C!==x.cache&&fd(l,[di],d,!0),ls(),C=I.element,x.isDehydrated)if(x={element:C,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){l=Em(r,l,C,d);break e}else if(C!==g){g=Us(Error(n(424)),l),lr(g),l=Em(r,l,C,d);break e}else for(ji=co(l.stateNode.containerInfo.firstChild),rs=l,_n=!0,va=null,Aa=!0,d=Xr(l,null,C,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(zc(),C===g){l=mi(r,l,d);break e}Ii(r,l,C,d)}l=l.child}return l;case 26:return qc(r,l),r===null?(d=FT(l.type,null,l.pendingProps,null))?l.memoizedState=d:_n||(d=l.type,r=l.pendingProps,g=k0(Bt.current).createElement(d),g[si]=l,g[$t]=r,ws(g,d,r),ye(g),l.stateNode=g):l.memoizedState=FT(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Ve(l),r===null&&_n&&(g=l.stateNode=UT(l.type,l.pendingProps,Bt.current),rs=l,Aa=!0,ji=co(g.firstChild)),g=l.pendingProps.children,r!==null||_n?Ii(r,l,g,d):l.child=kr(l,null,g,d),qc(r,l),l.child;case 5:return r===null&&_n&&((x=g=ji)&&(g=LU(g,l.type,l.pendingProps,Aa),g!==null?(l.stateNode=g,rs=l,ji=co(g.firstChild),Aa=!1,x=!0):x=!1),x||Ul(l)),Ve(l),x=l.type,C=l.pendingProps,I=r!==null?r.memoizedProps:null,g=C.children,lS(x,C)?g=null:I!==null&&lS(x,I)&&(l.flags|=32),l.memoizedState!==null&&(x=rm(r,l,Yx,null,null,d),Hm._currentValue=x),qc(r,l),Ii(r,l,g,d),l.child;case 6:return r===null&&_n&&((r=d=ji)&&(d=NU(d,l.pendingProps,Aa),d!==null?(l.stateNode=d,rs=l,ji=null,r=!0):r=!1),r||Ul(l)),null;case 13:return P0(r,l,d);case 4:return Mn(l,l.stateNode.containerInfo),g=l.pendingProps,r===null?l.child=kr(l,null,g,d):Ii(r,l,g,d),l.child;case 11:return _m(r,l,l.type,l.pendingProps,d);case 7:return Ii(r,l,l.pendingProps,d),l.child;case 8:return Ii(r,l,l.pendingProps.children,d),l.child;case 12:return Ii(r,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,Jo(l,l.type,g.value),Ii(r,l,g.children,d),l.child;case 9:return x=l.type._context,g=l.pendingProps.children,jl(l),x=os(x),g=g(x),l.flags|=1,Ii(r,l,g,d),l.child;case 14:return xm(r,l,l.type,l.pendingProps,d);case 15:return Sm(r,l,l.type,l.pendingProps,d);case 19:return Xl(r,l,d);case 22:return L0(r,l,d);case 24:return jl(l),g=os(di),r===null?(x=gf(),x===null&&(x=Fn,C=sm(),x.pooledCache=C,C.refCount++,C!==null&&(x.pooledCacheLanes|=d),x=C),l.memoizedState={parent:g,cache:x},Ms(l),Jo(l,di,x)):((r.lanes&d)!==0&&(dd(r,l),Xa(l,null,null,d),ls()),x=r.memoizedState,C=l.memoizedState,x.parent!==g?(x={parent:g,cache:g},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),Jo(l,di,g)):(g=C.cache,Jo(l,di,g),g!==x.cache&&fd(l,[di],d,!0))),Ii(r,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}var Wc=ke(null),pr=null,ka=null;function Jo(r,l,d){it(Wc,l._currentValue),l._currentValue=d}function Qr(r){r._currentValue=Wc.current,vt(Wc)}function sa(r,l,d){for(;r!==null;){var g=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),r===d)break;r=r.return}}function fd(r,l,d,g){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var C=x.dependencies;if(C!==null){var I=x.child;C=C.firstContext;e:for(;C!==null;){var k=C;C=x;for(var J=0;J<l.length;J++)if(k.context===l[J]){C.lanes|=d,k=C.alternate,k!==null&&(k.lanes|=d),sa(C.return,d,r),g||(I=null);break e}C=k.next}}else if(x.tag===18){if(I=x.return,I===null)throw Error(n(341));I.lanes|=d,C=I.alternate,C!==null&&(C.lanes|=d),sa(I,d,r),I=null}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===r){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}}function xf(r,l,d,g){r=null;for(var x=l,C=!1;x!==null;){if(!C){if((x.flags&524288)!==0)C=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var I=x.alternate;if(I===null)throw Error(n(387));if(I=I.memoizedProps,I!==null){var k=x.type;Os(x.pendingProps.value,I.value)||(r!==null?r.push(k):r=[k])}}else if(x===Z.current){if(I=x.alternate,I===null)throw Error(n(387));I.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(Hm):r=[Hm])}x=x.return}r!==null&&fd(l,r,d,g),l.flags|=262144}function Kc(r){for(r=r.firstContext;r!==null;){if(!Os(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function jl(r){pr=r,ka=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function os(r){return Jc(pr,r)}function hd(r,l){return pr===null&&jl(r),Jc(r,l)}function Jc(r,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ka===null){if(r===null)throw Error(n(308));ka=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else ka=ka.next=l;return d}var Ci=!1;function Ms(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function aa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ra(r,l,d){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Vt&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,l=of(r),rf(r,null,d),l}return af(r,g,l,d),of(r)}function Zo(r,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194176)!==0)){var g=l.lanes;g&=r.pendingLanes,d|=g,l.lanes=d,ma(r,d)}}function Zc(r,l){var d=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var I={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?x=C=I:C=C.next=I,d=d.next}while(d!==null);C===null?x=C=l:C=C.next=l}else x=C=l;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=l}var Fs=!1;function ls(){if(Fs){var r=Vo;if(r!==null)throw r}}function Xa(r,l,d,g){Fs=!1;var x=r.updateQueue;Ci=!1;var C=x.firstBaseUpdate,I=x.lastBaseUpdate,k=x.shared.pending;if(k!==null){x.shared.pending=null;var J=k,ue=J.next;J.next=null,I===null?C=ue:I.next=ue,I=J;var ze=r.alternate;ze!==null&&(ze=ze.updateQueue,k=ze.lastBaseUpdate,k!==I&&(k===null?ze.firstBaseUpdate=ue:k.next=ue,ze.lastBaseUpdate=J))}if(C!==null){var We=x.baseState;I=0,ze=ue=J=null,k=C;do{var xe=k.lane&-536870913,Ne=xe!==k.lane;if(Ne?(Dt&xe)===xe:(g&xe)===xe){xe!==0&&xe===Fl&&(Fs=!0),ze!==null&&(ze=ze.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Mt=r,jt=k;xe=l;var Di=d;switch(jt.tag){case 1:if(Mt=jt.payload,typeof Mt=="function"){We=Mt.call(Di,We,xe);break e}We=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=jt.payload,xe=typeof Mt=="function"?Mt.call(Di,We,xe):Mt,xe==null)break e;We=L({},We,xe);break e;case 2:Ci=!0}}xe=k.callback,xe!==null&&(r.flags|=64,Ne&&(r.flags|=8192),Ne=x.callbacks,Ne===null?x.callbacks=[xe]:Ne.push(xe))}else Ne={lane:xe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ze===null?(ue=ze=Ne,J=We):ze=ze.next=Ne,I|=xe;if(k=k.next,k===null){if(k=x.shared.pending,k===null)break;Ne=k,k=Ne.next,Ne.next=null,x.lastBaseUpdate=Ne,x.shared.pending=null}}while(!0);ze===null&&(J=We),x.baseState=J,x.firstBaseUpdate=ue,x.lastBaseUpdate=ze,C===null&&(x.shared.lanes=0),Ka|=I,r.lanes=I,r.memoizedState=We}}function mr(r,l){if(typeof r!="function")throw Error(n(191,r));r.call(l)}function gr(r,l){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)mr(d[r],l)}function gi(r,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&r)===r){g=void 0;var C=d.create,I=d.inst;g=C(),I.destroy=g}d=d.next}while(d!==x)}}catch(k){Ze(l,l.return,k)}}function _a(r,l,d){try{var g=l.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var C=x.next;g=C;do{if((g.tag&r)===r){var I=g.inst,k=I.destroy;if(k!==void 0){I.destroy=void 0,x=l;var J=d;try{k()}catch(ue){Ze(x,J,ue)}}}g=g.next}while(g!==C)}}catch(ue){Ze(l,l.return,ue)}}function $r(r){var l=r.updateQueue;if(l!==null){var d=r.stateNode;try{gr(l,d)}catch(g){Ze(r,r.return,g)}}}function Sf(r,l,d){d.props=kl(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(g){Ze(r,l,g)}}function yi(r,l){try{var d=r.ref;if(d!==null){var g=r.stateNode;switch(r.tag){case 26:case 27:case 5:var x=g;break;default:x=g}typeof d=="function"?r.refCleanup=d(x):d.current=x}}catch(C){Ze(r,l,C)}}function In(r,l){var d=r.ref,g=r.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(x){Ze(r,l,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ze(r,l,x)}else d.current=null}function xn(r){var l=r.type,d=r.memoizedProps,g=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(x){Ze(r,r.return,x)}}function xa(r,l,d){try{var g=r.stateNode;RU(g,r.type,d,l),g[$t]=l}catch(x){Ze(r,r.return,x)}}function ja(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function bf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ja(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zs(r,l,d){var g=r.tag;if(g===5||g===6)r=r.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(r,l):d.insertBefore(r,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(r,d)):(l=d,l.appendChild(r)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=V0));else if(g!==4&&g!==27&&(r=r.child,r!==null))for(zs(r,l,d),r=r.sibling;r!==null;)zs(r,l,d),r=r.sibling}function eo(r,l,d){var g=r.tag;if(g===5||g===6)r=r.stateNode,l?d.insertBefore(r,l):d.appendChild(r);else if(g!==4&&g!==27&&(r=r.child,r!==null))for(eo(r,l,d),r=r.sibling;r!==null;)eo(r,l,d),r=r.sibling}var Ya=!1,Wn=!1,Qo=!1,pd=typeof WeakSet=="function"?WeakSet:Set,vi=null,md=!1;function Qc(r,l){if(r=r.containerInfo,rS=K0,r=Kp(r),nf(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var I=0,k=-1,J=-1,ue=0,ze=0,We=r,xe=null;t:for(;;){for(var Ne;We!==d||x!==0&&We.nodeType!==3||(k=I+x),We!==C||g!==0&&We.nodeType!==3||(J=I+g),We.nodeType===3&&(I+=We.nodeValue.length),(Ne=We.firstChild)!==null;)xe=We,We=Ne;for(;;){if(We===r)break t;if(xe===d&&++ue===x&&(k=I),xe===C&&++ze===g&&(J=I),(Ne=We.nextSibling)!==null)break;We=xe,xe=We.parentNode}We=Ne}d=k===-1||J===-1?null:{start:k,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(oS={focusedElem:r,selectionRange:d},K0=!1,vi=l;vi!==null;)if(l=vi,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,vi=r;else for(;vi!==null;){switch(l=vi,C=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&C!==null){r=void 0,d=l,x=C.memoizedProps,C=C.memoizedState,g=d.stateNode;try{var Mt=kl(d.type,x,d.elementType===d.type);r=g.getSnapshotBeforeUpdate(Mt,C),g.__reactInternalSnapshotBeforeUpdate=r}catch(jt){Ze(d,d.return,jt)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,d=r.nodeType,d===9)fS(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fS(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=l.sibling,r!==null){r.return=l.return,vi=r;break}vi=l.return}return Mt=md,md=!1,Mt}function $c(r,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:yr(r,d),g&4&&gi(5,d);break;case 1:if(yr(r,d),g&4)if(r=d.stateNode,l===null)try{r.componentDidMount()}catch(k){Ze(d,d.return,k)}else{var x=kl(d.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(x,l,r.__reactInternalSnapshotBeforeUpdate)}catch(k){Ze(d,d.return,k)}}g&64&&$r(d),g&512&&yi(d,d.return);break;case 3:if(yr(r,d),g&64&&(g=d.updateQueue,g!==null)){if(r=null,d.child!==null)switch(d.child.tag){case 27:case 5:r=d.child.stateNode;break;case 1:r=d.child.stateNode}try{gr(g,r)}catch(k){Ze(d,d.return,k)}}break;case 26:yr(r,d),g&512&&yi(d,d.return);break;case 27:case 5:yr(r,d),l===null&&g&4&&xn(d),g&512&&yi(d,d.return);break;case 12:yr(r,d);break;case 13:yr(r,d),g&4&&I0(r,d);break;case 22:if(x=d.memoizedState!==null||Ya,!x){l=l!==null&&l.memoizedState!==null||Wn;var C=Ya,I=Wn;Ya=x,(Wn=l)&&!I?Wa(r,d,(d.subtreeFlags&8772)!==0):yr(r,d),Ya=C,Wn=I}g&512&&(d.memoizedProps.mode==="manual"?yi(d,d.return):In(d,d.return));break;default:yr(r,d)}}function gd(r){var l=r.alternate;l!==null&&(r.alternate=null,gd(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Tl(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Kn=null,qi=!1;function cs(r,l,d){for(d=d.child;d!==null;)yd(r,l,d),d=d.sibling}function yd(r,l,d){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(At,d)}catch{}switch(d.tag){case 26:Wn||In(d,l),cs(r,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Wn||In(d,l);var g=Kn,x=qi;for(Kn=d.stateNode,cs(r,l,d),d=d.stateNode,l=d.attributes;l.length;)d.removeAttributeNode(l[0]);Tl(d),Kn=g,qi=x;break;case 5:Wn||In(d,l);case 6:x=Kn;var C=qi;if(Kn=null,cs(r,l,d),Kn=x,qi=C,Kn!==null)if(qi)try{r=Kn,g=d.stateNode,r.nodeType===8?r.parentNode.removeChild(g):r.removeChild(g)}catch(I){Ze(d,l,I)}else try{Kn.removeChild(d.stateNode)}catch(I){Ze(d,l,I)}break;case 18:Kn!==null&&(qi?(l=Kn,d=d.stateNode,l.nodeType===8?uS(l.parentNode,d):l.nodeType===1&&uS(l,d),Xm(l)):uS(Kn,d.stateNode));break;case 4:g=Kn,x=qi,Kn=d.stateNode.containerInfo,qi=!0,cs(r,l,d),Kn=g,qi=x;break;case 0:case 11:case 14:case 15:Wn||_a(2,d,l),Wn||_a(4,d,l),cs(r,l,d);break;case 1:Wn||(In(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&Sf(d,l,g)),cs(r,l,d);break;case 21:cs(r,l,d);break;case 22:Wn||In(d,l),Wn=(g=Wn)||d.memoizedState!==null,cs(r,l,d),Wn=g;break;default:cs(r,l,d)}}function I0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Xm(r)}catch(d){Ze(l,l.return,d)}}function Mf(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new pd),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new pd),l;default:throw Error(n(435,r.tag))}}function Ef(r,l){var d=Mf(r);l.forEach(function(g){var x=_e.bind(null,r,g);d.has(g)||(d.add(g),g.then(x,x))})}function Es(r,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g],C=r,I=l,k=I;e:for(;k!==null;){switch(k.tag){case 27:case 5:Kn=k.stateNode,qi=!1;break e;case 3:Kn=k.stateNode.containerInfo,qi=!0;break e;case 4:Kn=k.stateNode.containerInfo,qi=!0;break e}k=k.return}if(Kn===null)throw Error(n(160));yd(C,I,x),Kn=null,qi=!1,C=x.alternate,C!==null&&(C.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Yl(l,r),l=l.sibling}var us=null;function Yl(r,l){var d=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Es(l,r),fs(r),g&4&&(_a(3,r,r.return),gi(3,r),_a(5,r,r.return));break;case 1:Es(l,r),fs(r),g&512&&(Wn||d===null||In(d,d.return)),g&64&&Ya&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var x=us;if(Es(l,r),fs(r),g&512&&(Wn||d===null||In(d,d.return)),g&4){var C=d!==null?d.memoizedState:null;if(g=r.memoizedState,d===null)if(g===null)if(r.stateNode===null){e:{g=r.type,d=r.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":C=x.getElementsByTagName("title")[0],(!C||C[Dr]||C[si]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=x.createElement(g),x.head.insertBefore(C,x.querySelector("head > title"))),ws(C,g,d),C[si]=r,ye(C),g=C;break e;case"link":var I=GT("link","href",x).get(g+(d.href||""));if(I){for(var k=0;k<I.length;k++)if(C=I[k],C.getAttribute("href")===(d.href==null?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){I.splice(k,1);break t}}C=x.createElement(g),ws(C,g,d),x.head.appendChild(C);break;case"meta":if(I=GT("meta","content",x).get(g+(d.content||""))){for(k=0;k<I.length;k++)if(C=I[k],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){I.splice(k,1);break t}}C=x.createElement(g),ws(C,g,d),x.head.appendChild(C);break;default:throw Error(n(468,g))}C[si]=r,ye(C),g=C}r.stateNode=g}else VT(x,r.type,r.stateNode);else r.stateNode=HT(x,g,r.memoizedProps);else C!==g?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,g===null?VT(x,r.type,r.stateNode):HT(x,g,r.memoizedProps)):g===null&&r.stateNode!==null&&xa(r,r.memoizedProps,d.memoizedProps)}break;case 27:if(g&4&&r.alternate===null){x=r.stateNode,C=r.memoizedProps;try{for(var J=x.firstChild;J;){var ue=J.nextSibling,ze=J.nodeName;J[Dr]||ze==="HEAD"||ze==="BODY"||ze==="SCRIPT"||ze==="STYLE"||ze==="LINK"&&J.rel.toLowerCase()==="stylesheet"||x.removeChild(J),J=ue}for(var We=r.type,xe=x.attributes;xe.length;)x.removeAttributeNode(xe[0]);ws(x,We,C),x[si]=r,x[$t]=C}catch(Mt){Ze(r,r.return,Mt)}}case 5:if(Es(l,r),fs(r),g&512&&(Wn||d===null||In(d,d.return)),r.flags&32){x=r.stateNode;try{_s(x,"")}catch(Mt){Ze(r,r.return,Mt)}}g&4&&r.stateNode!=null&&(x=r.memoizedProps,xa(r,x,d!==null?d.memoizedProps:x)),g&1024&&(Qo=!0);break;case 6:if(Es(l,r),fs(r),g&4){if(r.stateNode===null)throw Error(n(162));g=r.memoizedProps,d=r.stateNode;try{d.nodeValue=g}catch(Mt){Ze(r,r.return,Mt)}}break;case 3:if(Y0=null,x=us,us=X0(l.containerInfo),Es(l,r),us=x,fs(r),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Xm(l.containerInfo)}catch(Mt){Ze(r,r.return,Mt)}Qo&&(Qo=!1,$o(r));break;case 4:g=us,us=X0(r.stateNode.containerInfo),Es(l,r),fs(r),us=g;break;case 12:Es(l,r),fs(r);break;case 13:Es(l,r),fs(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(tn=Se()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,Ef(r,g)));break;case 22:if(g&512&&(Wn||d===null||In(d,d.return)),J=r.memoizedState!==null,ue=d!==null&&d.memoizedState!==null,ze=Ya,We=Wn,Ya=ze||J,Wn=We||ue,Es(l,r),Wn=We,Ya=ze,fs(r),l=r.stateNode,l._current=r,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,g&8192&&(l._visibility=J?l._visibility&-2:l._visibility|1,J&&(l=Ya||Wn,d===null||ue||l||qa(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(d=null,l=r;;){if(l.tag===5||l.tag===26||l.tag===27){if(d===null){ue=d=l;try{if(x=ue.stateNode,J)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{I=ue.stateNode,k=ue.memoizedProps.style;var Ne=k!=null&&k.hasOwnProperty("display")?k.display:null;I.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(Mt){Ze(ue,ue.return,Mt)}}}else if(l.tag===6){if(d===null){ue=l;try{ue.stateNode.nodeValue=J?"":ue.memoizedProps}catch(Mt){Ze(ue,ue.return,Mt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=r.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Ef(r,d))));break;case 19:Es(l,r),fs(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,Ef(r,g)));break;case 21:break;default:Es(l,r),fs(r)}}function fs(r){var l=r.flags;if(l&2){try{if(r.tag!==27){e:{for(var d=r.return;d!==null;){if(ja(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 27:var x=g.stateNode,C=bf(r);eo(r,C,x);break;case 5:var I=g.stateNode;g.flags&32&&(_s(I,""),g.flags&=-33);var k=bf(r);eo(r,k,I);break;case 3:case 4:var J=g.stateNode.containerInfo,ue=bf(r);zs(r,ue,J);break;default:throw Error(n(161))}}}catch(ze){Ze(r,r.return,ze)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function $o(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;$o(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function yr(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$c(r,l.alternate,l),l=l.sibling}function qa(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:_a(4,l,l.return),qa(l);break;case 1:In(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Sf(l,l.return,d),qa(l);break;case 26:case 27:case 5:In(l,l.return),qa(l);break;case 22:In(l,l.return),l.memoizedState===null&&qa(l);break;default:qa(l)}r=r.sibling}}function Wa(r,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,x=r,C=l,I=C.flags;switch(C.tag){case 0:case 11:case 15:Wa(x,C,d),gi(4,C);break;case 1:if(Wa(x,C,d),g=C,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ue){Ze(g,g.return,ue)}if(g=C,x=g.updateQueue,x!==null){var k=g.stateNode;try{var J=x.shared.hiddenCallbacks;if(J!==null)for(x.shared.hiddenCallbacks=null,x=0;x<J.length;x++)mr(J[x],k)}catch(ue){Ze(g,g.return,ue)}}d&&I&64&&$r(C),yi(C,C.return);break;case 26:case 27:case 5:Wa(x,C,d),d&&g===null&&I&4&&xn(C),yi(C,C.return);break;case 12:Wa(x,C,d);break;case 13:Wa(x,C,d),d&&I&4&&I0(x,C);break;case 22:C.memoizedState===null&&Wa(x,C,d),yi(C,C.return);break;default:Wa(x,C,d)}l=l.sibling}}function Hs(r,l){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Ho(d))}function Sa(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Ho(r))}function Yn(r,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)to(r,l,d,g),l=l.sibling}function to(r,l,d,g){var x=l.flags;switch(l.tag){case 0:case 11:case 15:Yn(r,l,d,g),x&2048&&gi(9,l);break;case 3:Yn(r,l,d,g),x&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Ho(r)));break;case 12:if(x&2048){Yn(r,l,d,g),r=l.stateNode;try{var C=l.memoizedProps,I=C.id,k=C.onPostCommit;typeof k=="function"&&k(I,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(J){Ze(l,l.return,J)}}else Yn(r,l,d,g);break;case 23:break;case 22:C=l.stateNode,l.memoizedState!==null?C._visibility&4?Yn(r,l,d,g):En(r,l):C._visibility&4?Yn(r,l,d,g):(C._visibility|=4,Gt(r,l,d,g,(l.subtreeFlags&10256)!==0)),x&2048&&Hs(l.alternate,l);break;case 24:Yn(r,l,d,g),x&2048&&Sa(l.alternate,l);break;default:Yn(r,l,d,g)}}function Gt(r,l,d,g,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=r,I=l,k=d,J=g,ue=I.flags;switch(I.tag){case 0:case 11:case 15:Gt(C,I,k,J,x),gi(8,I);break;case 23:break;case 22:var ze=I.stateNode;I.memoizedState!==null?ze._visibility&4?Gt(C,I,k,J,x):En(C,I):(ze._visibility|=4,Gt(C,I,k,J,x)),x&&ue&2048&&Hs(I.alternate,I);break;case 24:Gt(C,I,k,J,x),x&&ue&2048&&Sa(I.alternate,I);break;default:Gt(C,I,k,J,x)}l=l.sibling}}function En(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=r,g=l,x=g.flags;switch(g.tag){case 22:En(d,g),x&2048&&Hs(g.alternate,g);break;case 24:En(d,g),x&2048&&Sa(g.alternate,g);break;default:En(d,g)}l=l.sibling}}var $n=8192;function no(r){if(r.subtreeFlags&$n)for(r=r.child;r!==null;)ql(r),r=r.sibling}function ql(r){switch(r.tag){case 26:no(r),r.flags&$n&&r.memoizedState!==null&&qU(us,r.memoizedState,r.memoizedProps);break;case 5:no(r);break;case 3:case 4:var l=us;us=X0(r.stateNode.containerInfo),no(r),us=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=$n,$n=16777216,no(r),$n=l):no(r));break;default:no(r)}}function el(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function tl(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];vi=g,F0(g,r)}el(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eu(r),r=r.sibling}function eu(r){switch(r.tag){case 0:case 11:case 15:tl(r),r.flags&2048&&_a(9,r,r.return);break;case 3:tl(r);break;case 12:tl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&4&&(r.return===null||r.return.tag!==13)?(l._visibility&=-5,io(r)):tl(r);break;default:tl(r)}}function io(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];vi=g,F0(g,r)}el(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:_a(8,l,l.return),io(l);break;case 22:d=l.stateNode,d._visibility&4&&(d._visibility&=-5,io(l));break;default:io(l)}r=r.sibling}}function F0(r,l){for(;vi!==null;){var d=vi;switch(d.tag){case 0:case 11:case 15:_a(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ho(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,vi=g;else e:for(d=r;vi!==null;){g=vi;var x=g.sibling,C=g.return;if(gd(g),g===d){vi=null;break e}if(x!==null){x.return=C,vi=x;break e}vi=C}}}function Bm(r,l,d,g){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(r,l,d,g){return new Bm(r,l,d,g)}function so(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ts(r,l){var d=r.alternate;return d===null?(d=Ai(r.tag,l,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=l,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&31457280,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,l=r.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function nl(r,l){r.flags&=31457282;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,l=d.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function tu(r,l,d,g,x,C){var I=0;if(g=r,typeof r=="function")so(r)&&(I=1);else if(typeof r=="string")I=jU(r,d,Ct.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case h:return il(d.children,x,C,l);case p:I=8,x|=24;break;case m:return r=Ai(12,d,l,x|2),r.elementType=m,r.lanes=C,r;case T:return r=Ai(13,d,l,x),r.elementType=T,r.lanes=C,r;case E:return r=Ai(19,d,l,x),r.elementType=E,r.lanes=C,r;case B:return Dm(d,x,C,l);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case y:case _:I=10;break e;case A:I=9;break e;case S:I=11;break e;case b:I=14;break e;case w:I=16,g=null;break e}I=29,d=Error(n(130,r===null?"null":typeof r,"")),g=null}return l=Ai(I,d,l,x),l.elementType=r,l.type=g,l.lanes=C,l}function il(r,l,d,g){return r=Ai(7,r,g,l),r.lanes=d,r}function Dm(r,l,d,g){r=Ai(22,r,g,l),r.elementType=B,r.lanes=d;var x={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=x._current;if(C===null)throw Error(n(456));if((x._pendingVisibility&2)===0){var I=Hr(C,2);I!==null&&(x._pendingVisibility|=2,Bi(I,C,2))}},attach:function(){var C=x._current;if(C===null)throw Error(n(456));if((x._pendingVisibility&2)!==0){var I=Hr(C,2);I!==null&&(x._pendingVisibility&=-3,Bi(I,C,2))}}};return r.stateNode=x,r}function Ri(r,l,d){return r=Ai(6,r,null,l),r.lanes=d,r}function Tf(r,l,d){return l=Ai(4,r.children!==null?r.children:[],r.key,l),l.lanes=d,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}function ba(r){r.flags|=4}function sl(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kT(l)){if(l=Ps.current,l!==null&&((Dt&4194176)===Dt?cr!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||l!==cr))throw Hc=Wh,nm;r.flags|=8192}}function Ma(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Wt():536870912,r.lanes|=l,Ar|=l)}function Cf(r,l){if(!_n)switch(r.tailMode){case"hidden":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function ti(r){var l=r.alternate!==null&&r.alternate.child===r.child,d=0,g=0;if(l)for(var x=r.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&31457280,g|=x.flags&31457280,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=g,r.childLanes=d,l}function Qx(r,l,d){var g=l.pendingProps;switch(Uo(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(l),null;case 1:return ti(l),null;case 3:return d=l.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Qr(di),Pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Fc(l)?ba(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,va!==null&&(Ra(va),va=null))),ti(l),null;case 26:return d=l.memoizedState,r===null?(ba(l),d!==null?(ti(l),sl(l,d)):(ti(l),l.flags&=-16777217)):d?d!==r.memoizedState?(ba(l),ti(l),sl(l,d)):(ti(l),l.flags&=-16777217):(r.memoizedProps!==g&&ba(l),ti(l),l.flags&=-16777217),null;case 27:Le(l),d=Bt.current;var x=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==g&&ba(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return ti(l),null}r=Ct.current,Fc(l)?Yy(l):(r=UT(x,g,d),l.stateNode=r,ba(l))}return ti(l),null;case 5:if(Le(l),d=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==g&&ba(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return ti(l),null}if(r=Ct.current,Fc(l))Yy(l);else{switch(x=k0(Bt.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof g.is=="string"?x.createElement("select",{is:g.is}):x.createElement("select"),g.multiple?r.multiple=!0:g.size&&(r.size=g.size);break;default:r=typeof g.is=="string"?x.createElement(d,{is:g.is}):x.createElement(d)}}r[si]=l,r[$t]=g;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=r;e:switch(ws(r,d,g),d){case"button":case"input":case"select":case"textarea":r=!!g.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ba(l)}}return ti(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==g&&ba(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(r=Bt.current,Fc(l)){if(r=l.stateNode,d=l.memoizedProps,g=null,x=rs,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}r[si]=l,r=!!(r.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||wT(r.nodeValue,d)),r||Ul(l)}else r=k0(r).createTextNode(g),r[si]=l,l.stateNode=r}return ti(l),null;case 13:if(g=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=Fc(l),g!==null&&g.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[si]=l}else zc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ti(l),x=!1}else va!==null&&(Ra(va),va=null),x=!0;if(!x)return l.flags&256?(ur(l),l):(ur(l),null)}if(ur(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=g!==null,r=r!==null&&r.memoizedState!==null,d){g=l.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool);var C=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==x&&(g.flags|=2048)}return d!==r&&d&&(l.child.flags|=8192),Ma(l,l.updateQueue),ti(l),null;case 4:return Pe(),r===null&&iS(l.stateNode.containerInfo),ti(l),null;case 10:return Qr(l.type),ti(l),null;case 19:if(vt(Ei),x=l.memoizedState,x===null)return ti(l),null;if(g=(l.flags&128)!==0,C=x.rendering,C===null)if(g)Cf(x,!1);else{if(Jn!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(C=Gc(r),C!==null){for(l.flags|=128,Cf(x,!1),r=C.updateQueue,l.updateQueue=r,Ma(l,r),l.subtreeFlags=0,r=d,d=l.child;d!==null;)nl(d,r),d=d.sibling;return it(Ei,Ei.current&1|2),l.child}r=r.sibling}x.tail!==null&&Se()>un&&(l.flags|=128,g=!0,Cf(x,!1),l.lanes=4194304)}else{if(!g)if(r=Gc(C),r!==null){if(l.flags|=128,g=!0,r=r.updateQueue,l.updateQueue=r,Ma(l,r),Cf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!_n)return ti(l),null}else 2*Se()-x.renderingStartTime>un&&d!==536870912&&(l.flags|=128,g=!0,Cf(x,!1),l.lanes=4194304);x.isBackwards?(C.sibling=l.child,l.child=C):(r=x.last,r!==null?r.sibling=C:l.child=C,x.last=C)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Se(),l.sibling=null,r=Ei.current,it(Ei,g?r&1|2:r&1),l):(ti(l),null);case 22:case 23:return ur(l),mf(),g=l.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(ti(l),l.subtreeFlags&6&&(l.flags|=8192)):ti(l),d=l.updateQueue,d!==null&&Ma(l,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),r!==null&&vt(qr),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Qr(di),ti(l),null;case 25:return null}throw Error(n(156,l.tag))}function oi(r,l){switch(Uo(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Qr(di),Pe(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Le(l),null;case 13:if(ur(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(n(340));zc()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return vt(Ei),null;case 4:return Pe(),null;case 10:return Qr(l.type),null;case 22:case 23:return ur(l),mf(),r!==null&&vt(qr),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Qr(di),null;case 25:return null;default:return null}}function Om(r,l){switch(Uo(l),l.tag){case 3:Qr(di),Pe();break;case 26:case 27:case 5:Le(l);break;case 4:Pe();break;case 13:ur(l);break;case 19:vt(Ei);break;case 10:Qr(l.type);break;case 22:case 23:ur(l),mf(),r!==null&&vt(qr);break;case 24:Qr(di)}}var Wl={getCacheForType:function(r){var l=os(di),d=l.data.get(r);return d===void 0&&(d=r(),l.data.set(r,d)),d}},ao=typeof WeakMap=="function"?WeakMap:Map,Vt=0,Fn=null,an=null,Dt=0,Gn=0,Tn=null,_i=!1,hs=!1,al=!1,ro=0,Jn=0,Ka=0,vr=0,nu=0,Cs=0,Ar=0,Rf=null,cn=null,zn=!1,tn=0,un=1/0,Pn=null,wi=null,Ea=!1,Ta=null,Kl=0,Ja=0,ei=null,Ca=0,oo=null;function Rs(){if((Vt&2)!==0&&Dt!==0)return Dt&-Dt;if(N.T!==null){var r=Fl;return r!==0?r:$x()}return Mc()}function oa(){Cs===0&&(Cs=(Dt&536870912)===0||_n?Ln():536870912);var r=Ps.current;return r!==null&&(r.flags|=32),Cs}function Bi(r,l,d){(r===Fn&&Gn===2||r.cancelPendingCommit!==null)&&(lo(r,0),la(r,Dt,Cs,!1)),fi(r,d),((Vt&2)===0||r!==Fn)&&(r===Fn&&((Vt&2)===0&&(vr|=d),Jn===4&&la(r,Dt,Cs,!1)),Vn(r))}function iu(r,l,d){if((Vt&6)!==0)throw Error(n(327));var g=!d&&(l&60)===0&&(l&r.expiredLanes)===0||St(r,l),x=g?u(r,l):Zl(r,l,!0),C=g;do{if(x===0){hs&&!g&&la(r,l,0,!1);break}else if(x===6)la(r,l,0,!_i);else{if(d=r.current.alternate,C&&!Lm(d)){x=Zl(r,l,!1),C=!1;continue}if(x===2){if(C=l,r.errorRecoveryDisabledLanes&C)var I=0;else I=r.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var k=r;x=Rf;var J=k.current.memoizedState.isDehydrated;if(J&&(lo(k,I).flags|=256),I=Zl(k,I,!1),I!==2){if(al&&!J){k.errorRecoveryDisabledLanes|=C,vr|=C,x=4;break e}C=cn,cn=x,C!==null&&Ra(C)}x=I}if(C=!1,x!==2)continue}}if(x===1){lo(r,0),la(r,l,0,!0);break}e:{switch(g=r,x){case 0:case 1:throw Error(n(345));case 4:if((l&4194176)===l){la(g,l,Cs,!_i);break e}break;case 2:cn=null;break;case 3:case 5:break;default:throw Error(n(329))}if(g.finishedWork=d,g.finishedLanes=l,(l&62914560)===l&&(C=tn+300-Se(),10<C)){if(la(g,l,Cs,!_i),rt(g,0)!==0)break e;g.timeoutHandle=OT(vd.bind(null,g,d,cn,Pn,zn,l,Cs,vr,Ar,_i,2,-0,0),C);break e}vd(g,d,cn,Pn,zn,l,Cs,vr,Ar,_i,0,-0,0)}}break}while(!0);Vn(r)}function Ra(r){cn===null?cn=r:cn.push.apply(cn,r)}function vd(r,l,d,g,x,C,I,k,J,ue,ze,We,xe){var Ne=l.subtreeFlags;if((Ne&8192||(Ne&16785408)===16785408)&&(zm={stylesheets:null,count:0,unsuspend:YU},ql(l),l=WU(),l!==null)){r.cancelPendingCommit=l(Q.bind(null,r,d,g,x,I,k,J,1,We,xe)),la(r,C,I,!ue);return}Q(r,d,g,x,I,k,J,ze,We,xe)}function Lm(r){for(var l=r;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var x=d[g],C=x.getSnapshot;x=x.value;try{if(!Os(C(),x))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function la(r,l,d,g){l&=~nu,l&=~vr,r.suspendedLanes|=l,r.pingedLanes&=~l,g&&(r.warmLanes|=l),g=r.expirationTimes;for(var x=l;0<x;){var C=31-Ce(x),I=1<<C;g[C]=-1,x&=~I}d!==0&&El(r,d,l)}function Jl(){return(Vt&6)===0?(pn(0),!1):!0}function _r(){if(an!==null){if(Gn===0)var r=an.return;else r=an,ka=pr=null,Qh(r),Fo=null,hf=0,r=an;for(;r!==null;)Om(r.alternate,r),r=r.return;an=null}}function lo(r,l){r.finishedWork=null,r.finishedLanes=0;var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,BU(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),_r(),Fn=r,an=d=Ts(r.current,null),Dt=l,Gn=0,Tn=null,_i=!1,hs=St(r,l),al=!1,Ar=Cs=nu=vr=Ka=Jn=0,cn=Rf=null,zn=!1,(l&8)!==0&&(l|=l&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=l;0<g;){var x=31-Ce(g),C=1<<x;l|=r[x],g&=~C}return ro=l,sf(),d}function rl(r,l){en=null,N.H=dr,l===Po?(l=Dn(),Gn=3):l===nm?(l=Dn(),Gn=4):Gn=l===ia?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Tn=l,an===null&&(Jn=1,od(r,Us(l,r.current)))}function su(){var r=N.H;return N.H=dr,r===null?dr:r}function Ad(){var r=N.A;return N.A=Wl,r}function wf(){Jn=4,_i||(Dt&4194176)!==Dt&&Ps.current!==null||(hs=!0),(Ka&134217727)===0&&(vr&134217727)===0||Fn===null||la(Fn,Dt,Cs,!1)}function Zl(r,l,d){var g=Vt;Vt|=2;var x=su(),C=Ad();(Fn!==r||Dt!==l)&&(Pn=null,lo(r,l)),l=!1;var I=Jn;e:do try{if(Gn!==0&&an!==null){var k=an,J=Tn;switch(Gn){case 8:_r(),I=6;break e;case 3:case 2:case 6:Ps.current===null&&(l=!0);var ue=Gn;if(Gn=0,Tn=null,R(r,k,J,ue),d&&hs){I=0;break e}break;default:ue=Gn,Gn=0,Tn=null,R(r,k,J,ue)}}Nm(),I=Jn;break}catch(ze){rl(r,ze)}while(!0);return l&&r.shellSuspendCounter++,ka=pr=null,Vt=g,N.H=x,N.A=C,an===null&&(Fn=null,Dt=0,sf()),I}function Nm(){for(;an!==null;)v(an)}function u(r,l){var d=Vt;Vt|=2;var g=su(),x=Ad();Fn!==r||Dt!==l?(Pn=null,un=Se()+500,lo(r,l)):hs=St(r,l);e:do try{if(Gn!==0&&an!==null){l=an;var C=Tn;t:switch(Gn){case 1:Gn=0,Tn=null,R(r,l,C,1);break;case 2:if(Wy(C)){Gn=0,Tn=null,M(l);break}l=function(){Gn===2&&Fn===r&&(Gn=7),Vn(r)},C.then(l,l);break e;case 3:Gn=7;break e;case 4:Gn=5;break e;case 7:Wy(C)?(Gn=0,Tn=null,M(l)):(Gn=0,Tn=null,R(r,l,C,7));break;case 5:var I=null;switch(an.tag){case 26:I=an.memoizedState;case 5:case 27:var k=an;if(!I||kT(I)){Gn=0,Tn=null;var J=k.sibling;if(J!==null)an=J;else{var ue=k.return;ue!==null?(an=ue,O(ue)):an=null}break t}}Gn=0,Tn=null,R(r,l,C,5);break;case 6:Gn=0,Tn=null,R(r,l,C,6);break;case 8:_r(),Jn=6;break e;default:throw Error(n(462))}}f();break}catch(ze){rl(r,ze)}while(!0);return ka=pr=null,N.H=g,N.A=x,Vt=d,an!==null?0:(Fn=null,Dt=0,sf(),Jn)}function f(){for(;an!==null&&!z();)v(an)}function v(r){var l=_f(r.alternate,r,ro);r.memoizedProps=r.pendingProps,l===null?O(r):an=l}function M(r){var l=r,d=l.alternate;switch(l.tag){case 15:case 0:l=N0(d,l,l.pendingProps,l.type,void 0,Dt);break;case 11:l=N0(d,l,l.pendingProps,l.type.render,l.ref,Dt);break;case 5:Qh(l);default:Om(d,l),l=an=nl(l,ro),l=_f(d,l,ro)}r.memoizedProps=r.pendingProps,l===null?O(r):an=l}function R(r,l,d,g){ka=pr=null,Qh(l),Fo=null,hf=0;var x=l.return;try{if(Jx(r,x,l,d,Dt)){Jn=1,od(r,Us(d,r.current)),an=null;return}}catch(C){if(x!==null)throw an=x,C;Jn=1,od(r,Us(d,r.current)),an=null;return}l.flags&32768?(_n||g===1?r=!0:hs||(Dt&536870912)!==0?r=!1:(_i=r=!0,(g===2||g===3||g===6)&&(g=Ps.current,g!==null&&g.tag===13&&(g.flags|=16384))),X(l,r)):O(l)}function O(r){var l=r;do{if((l.flags&32768)!==0){X(l,_i);return}r=l.return;var d=Qx(l.alternate,l,ro);if(d!==null){an=d;return}if(l=l.sibling,l!==null){an=l;return}an=l=r}while(l!==null);Jn===0&&(Jn=5)}function X(r,l){do{var d=oi(r.alternate,r);if(d!==null){d.flags&=32767,an=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(r=r.sibling,r!==null)){an=r;return}an=r=d}while(r!==null);Jn=6,an=null}function Q(r,l,d,g,x,C,I,k,J,ue){var ze=N.T,We=ie.p;try{ie.p=2,N.T=null,me(r,l,d,g,We,x,C,I,k,J,ue)}finally{N.T=ze,ie.p=We}}function me(r,l,d,g,x,C,I,k){do $e();while(Ta!==null);if((Vt&6)!==0)throw Error(n(327));var J=r.finishedWork;if(g=r.finishedLanes,J===null)return null;if(r.finishedWork=null,r.finishedLanes=0,J===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var ue=J.lanes|J.childLanes;if(ue|=zr,Hu(r,g,ue,C,I,k),r===Fn&&(an=Fn=null,Dt=0),(J.subtreeFlags&10256)===0&&(J.flags&10256)===0||Ea||(Ea=!0,Ja=ue,ei=d,de(tt,function(){return $e(),null})),d=(J.flags&15990)!==0,(J.subtreeFlags&15990)!==0||d?(d=N.T,N.T=null,C=ie.p,ie.p=2,I=Vt,Vt|=4,Qc(r,J),Yl(J,r),Jp(oS,r.containerInfo),K0=!!rS,oS=rS=null,r.current=J,$c(r,J.alternate,J),fe(),Vt=I,ie.p=C,N.T=d):r.current=J,Ea?(Ea=!1,Ta=r,Kl=g):Fe(r,ue),ue=r.pendingLanes,ue===0&&(wi=null),lt(J.stateNode),Vn(r),l!==null)for(x=r.onRecoverableError,J=0;J<l.length;J++)ue=l[J],x(ue.value,{componentStack:ue.stack});return(Kl&3)!==0&&$e(),ue=r.pendingLanes,(g&4194218)!==0&&(ue&42)!==0?r===oo?Ca++:(Ca=0,oo=r):Ca=0,pn(0),null}function Fe(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Ho(l)))}function $e(){if(Ta!==null){var r=Ta,l=Ja;Ja=0;var d=$s(Kl),g=N.T,x=ie.p;try{if(ie.p=32>d?32:d,N.T=null,Ta===null)var C=!1;else{d=ei,ei=null;var I=Ta,k=Kl;if(Ta=null,Kl=0,(Vt&6)!==0)throw Error(n(331));var J=Vt;if(Vt|=4,eu(I.current),to(I,I.current,k,d),Vt=J,pn(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(At,I)}catch{}C=!0}return C}finally{ie.p=x,N.T=g,Fe(r,l)}}return!1}function ht(r,l,d){l=Us(d,l),l=vm(r.stateNode,l,2),r=ra(r,l,2),r!==null&&(fi(r,2),Vn(r))}function Ze(r,l,d){if(r.tag===3)ht(r,r,d);else for(;l!==null;){if(l.tag===3){ht(l,r,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(wi===null||!wi.has(g))){r=Us(d,r),d=Am(2),g=ra(l,d,2),g!==null&&(O0(d,g,l,r),fi(g,2),Vn(g));break}}l=l.return}}function kt(r,l,d){var g=r.pingCache;if(g===null){g=r.pingCache=new ao;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(d)||(al=!0,x.add(d),r=wa.bind(null,r,l,d),l.then(r,r))}function wa(r,l,d){var g=r.pingCache;g!==null&&g.delete(l),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,Fn===r&&(Dt&d)===d&&(Jn===4||Jn===3&&(Dt&62914560)===Dt&&300>Se()-tn?(Vt&2)===0&&lo(r,0):nu|=d,Ar===Dt&&(Ar=0)),Vn(r)}function au(r,l){l===0&&(l=Wt()),r=Hr(r,l),r!==null&&(fi(r,l),Vn(r))}function Ql(r){var l=r.memoizedState,d=0;l!==null&&(d=l.retryLane),au(r,d)}function _e(r,l){var d=0;switch(r.tag){case 13:var g=r.stateNode,x=r.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(l),au(r,d)}function de(r,l){return we(r,l)}var be=null,Ke=null,bt=!1,Hn=!1,Ut=!1,rn=0;function Vn(r){r!==Ke&&r.next===null&&(Ke===null?be=Ke=r:Ke=Ke.next=r),Hn=!0,bt||(bt=!0,xU(ol))}function pn(r,l){if(!Ut&&Hn){Ut=!0;do for(var d=!1,g=be;g!==null;){if(r!==0){var x=g.pendingLanes;if(x===0)var C=0;else{var I=g.suspendedLanes,k=g.pingedLanes;C=(1<<31-Ce(42|r)+1)-1,C&=x&~(I&~k),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(d=!0,ST(g,C))}else C=Dt,C=rt(g,g===Fn?C:0),(C&3)===0||St(g,C)||(d=!0,ST(g,C));g=g.next}while(d);Ut=!1}}function ol(){Hn=bt=!1;var r=0;rn!==0&&(wU()&&(r=rn),rn=0);for(var l=Se(),d=null,g=be;g!==null;){var x=g.next,C=z0(g,l);C===0?(g.next=null,d===null?be=x:d.next=x,x===null&&(Ke=d)):(d=g,(r!==0||(C&3)!==0)&&(Hn=!0)),g=x}pn(r)}function z0(r,l){for(var d=r.suspendedLanes,g=r.pingedLanes,x=r.expirationTimes,C=r.pendingLanes&-62914561;0<C;){var I=31-Ce(C),k=1<<I,J=x[I];J===-1?((k&d)===0||(k&g)!==0)&&(x[I]=on(k,l)):J<=l&&(r.expiredLanes|=k),C&=~k}if(l=Fn,d=Dt,d=rt(r,r===l?d:0),g=r.callbackNode,d===0||r===l&&Gn===2||r.cancelPendingCommit!==null)return g!==null&&g!==null&&j(g),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||St(r,d)){if(l=d&-d,l===r.callbackPriority)return l;switch(g!==null&&j(g),$s(d)){case 2:case 8:d=yt;break;case 32:d=tt;break;case 268435456:d=qt;break;default:d=tt}return g=xT.bind(null,r),d=we(d,g),r.callbackPriority=l,r.callbackNode=d,l}return g!==null&&g!==null&&j(g),r.callbackPriority=2,r.callbackNode=null,2}function xT(r,l){var d=r.callbackNode;if($e()&&r.callbackNode!==d)return null;var g=Dt;return g=rt(r,r===Fn?g:0),g===0?null:(iu(r,g,l),z0(r,Se()),r.callbackNode!=null&&r.callbackNode===d?xT.bind(null,r):null)}function ST(r,l){if($e())return null;iu(r,l,!0)}function xU(r){DU(function(){(Vt&6)!==0?we(De,r):r()})}function $x(){return rn===0&&(rn=Ln()),rn}function bT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ku(""+r)}function MT(r,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,r.id&&d.setAttribute("form",r.id),l.parentNode.insertBefore(d,l),r=new FormData(r),d.parentNode.removeChild(d),r}function SU(r,l,d,g,x){if(l==="submit"&&d&&d.stateNode===x){var C=bT((x[$t]||null).action),I=g.submitter;I&&(l=(l=I[$t]||null)?bT(l.formAction):I.getAttribute("formAction"),l!==null&&(C=l,I=null));var k=new Rc("action","action",null,g,x);r.push({event:k,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(rn!==0){var J=I?MT(x,I):new FormData(x);dm(d,{pending:!0,data:J,method:x.method,action:C},null,J)}}else typeof C=="function"&&(k.preventDefault(),J=I?MT(x,I):new FormData(x),dm(d,{pending:!0,data:J,method:x.method,action:C},C,J))},currentTarget:x}]})}}for(var eS=0;eS<Fr.length;eS++){var tS=Fr[eS],bU=tS.toLowerCase(),MU=tS[0].toUpperCase()+tS.slice(1);ya(bU,"on"+MU)}ya($p,"onAnimationEnd"),ya(Ns,"onAnimationIteration"),ya(em,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(Ir,"onTransitionRun"),ya(Ic,"onTransitionStart"),ya(Oo,"onTransitionCancel"),ya(jh,"onTransitionEnd"),ft("onMouseEnter",["mouseout","mouseover"]),ft("onMouseLeave",["mouseout","mouseover"]),ft("onPointerEnter",["pointerout","pointerover"]),ft("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Um="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Um));function ET(r,l){l=(l&4)!==0;for(var d=0;d<r.length;d++){var g=r[d],x=g.event;g=g.listeners;e:{var C=void 0;if(l)for(var I=g.length-1;0<=I;I--){var k=g[I],J=k.instance,ue=k.currentTarget;if(k=k.listener,J!==C&&x.isPropagationStopped())break e;C=k,x.currentTarget=ue;try{C(x)}catch(ze){rd(ze)}x.currentTarget=null,C=J}else for(I=0;I<g.length;I++){if(k=g[I],J=k.instance,ue=k.currentTarget,k=k.listener,J!==C&&x.isPropagationStopped())break e;C=k,x.currentTarget=ue;try{C(x)}catch(ze){rd(ze)}x.currentTarget=null,C=J}}}}function Sn(r,l){var d=l[Eo];d===void 0&&(d=l[Eo]=new Set);var g=r+"__bubble";d.has(g)||(TT(l,r,2,!1),d.add(g))}function nS(r,l,d){var g=0;l&&(g|=4),TT(d,r,g,l)}var H0="_reactListening"+Math.random().toString(36).slice(2);function iS(r){if(!r[H0]){r[H0]=!0,he.forEach(function(d){d!=="selectionchange"&&(EU.has(d)||nS(d,!1,r),nS(d,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[H0]||(l[H0]=!0,nS("selectionchange",!1,l))}}function TT(r,l,d,g){switch(KT(l)){case 2:var x=ZU;break;case 8:x=QU;break;default:x=gS}d=x.bind(null,l,d,r),x=void 0,!ju||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?r.addEventListener(l,d,{capture:!0,passive:x}):r.addEventListener(l,d,!0):x!==void 0?r.addEventListener(l,d,{passive:x}):r.addEventListener(l,d,!1)}function sS(r,l,d,g,x){var C=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var k=g.stateNode.containerInfo;if(k===x||k.nodeType===8&&k.parentNode===x)break;if(I===4)for(I=g.return;I!==null;){var J=I.tag;if((J===3||J===4)&&(J=I.stateNode.containerInfo,J===x||J.nodeType===8&&J.parentNode===x))return;I=I.return}for(;k!==null;){if(I=Fa(k),I===null)return;if(J=I.tag,J===5||J===6||J===26||J===27){g=C=I;continue e}k=k.parentNode}}g=g.return}Up(function(){var ue=C,ze=Xu(d),We=[];e:{var xe=Yh.get(r);if(xe!==void 0){var Ne=Rc,Mt=r;switch(r){case"keypress":if(To(d)===0)break e;case"keydown":case"keyup":Ne=Hp;break;case"focusin":Mt="focus",Ne=Uh;break;case"focusout":Mt="blur",Ne=Uh;break;case"beforeblur":case"afterblur":Ne=Uh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Vp;break;case $p:case Ns:case em:Ne=Oy;break;case jh:Ne=Nr;break;case"scroll":case"scrollend":Ne=wy;break;case"wheel":Ne=Gx;break;case"copy":case"cut":case"paste":Ne=Ny;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Ih;break;case"toggle":case"beforetoggle":Ne=Ro}var jt=(l&4)!==0,Di=!jt&&(r==="scroll"||r==="scrollend"),pe=jt?xe!==null?xe+"Capture":null:xe;jt=[];for(var ce=ue,ve;ce!==null;){var Xe=ce;if(ve=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||ve===null||pe===null||(Xe=Ec(ce,pe),Xe!=null&&jt.push(Pm(ce,Xe,ve))),Di)break;ce=ce.return}0<jt.length&&(xe=new Ne(xe,Mt,null,d,ze),We.push({event:xe,listeners:jt}))}}if((l&7)===0){e:{if(xe=r==="mouseover"||r==="pointerover",Ne=r==="mouseout"||r==="pointerout",xe&&d!==Dh&&(Mt=d.relatedTarget||d.fromElement)&&(Fa(Mt)||Mt[Ia]))break e;if((Ne||xe)&&(xe=ze.window===ze?ze:(xe=ze.ownerDocument)?xe.defaultView||xe.parentWindow:window,Ne?(Mt=d.relatedTarget||d.toElement,Ne=ue,Mt=Mt?Fa(Mt):null,Mt!==null&&(Di=se(Mt),jt=Mt.tag,Mt!==Di||jt!==5&&jt!==27&&jt!==6)&&(Mt=null)):(Ne=null,Mt=ue),Ne!==Mt)){if(jt=Fp,Xe="onMouseLeave",pe="onMouseEnter",ce="mouse",(r==="pointerout"||r==="pointerover")&&(jt=Ih,Xe="onPointerLeave",pe="onPointerEnter",ce="pointer"),Di=Ne==null?xe:ae(Ne),ve=Mt==null?xe:ae(Mt),xe=new jt(Xe,ce+"leave",Ne,d,ze),xe.target=Di,xe.relatedTarget=ve,Xe=null,Fa(ze)===ue&&(jt=new jt(pe,ce+"enter",Mt,d,ze),jt.target=ve,jt.relatedTarget=Di,Xe=jt),Di=Xe,Ne&&Mt)t:{for(jt=Ne,pe=Mt,ce=0,ve=jt;ve;ve=_d(ve))ce++;for(ve=0,Xe=pe;Xe;Xe=_d(Xe))ve++;for(;0<ce-ve;)jt=_d(jt),ce--;for(;0<ve-ce;)pe=_d(pe),ve--;for(;ce--;){if(jt===pe||pe!==null&&jt===pe.alternate)break t;jt=_d(jt),pe=_d(pe)}jt=null}else jt=null;Ne!==null&&CT(We,xe,Ne,jt,!1),Mt!==null&&Di!==null&&CT(We,Di,Mt,jt,!0)}}e:{if(xe=ue?ae(ue):window,Ne=xe.nodeName&&xe.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&xe.type==="file")var _t=zh;else if(Yp(xe))if(Hh)_t=Do;else{_t=Xy;var mn=Vx}else Ne=xe.nodeName,!Ne||Ne.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?ue&&Vu(ue.elementType)&&(_t=zh):_t=tf;if(_t&&(_t=_t(r,ue))){Ds(We,_t,d,ze);break e}mn&&mn(r,xe,ue),r==="focusout"&&ue&&xe.type==="number"&&ue.memoizedProps.value!=null&&Ki(xe,"number",xe.value)}switch(mn=ue?ae(ue):window,r){case"focusin":(Yp(mn)||mn.contentEditable==="true")&&(Dl=mn,Zp=ue,Pc=null);break;case"focusout":Pc=Zp=Dl=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,ga(We,d,ze);break;case"selectionchange":if(Vh)break;case"keydown":case"keyup":ga(We,d,ze)}var wt;if(Ku)e:{switch(r){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else Bo?Qu(r,d)&&(Ft="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Ft="onCompositionStart");Ft&&(Zu&&d.locale!=="ko"&&(Bo||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Bo&&(wt=Ip()):(Or=ze,Pp="value"in Or?Or.value:Or.textContent,Bo=!0)),mn=G0(ue,Ft),0<mn.length&&(Ft=new Ph(Ft,r,null,d,ze),We.push({event:Ft,listeners:mn}),wt?Ft.data=wt:(wt=Xp(d),wt!==null&&(Ft.data=wt)))),(wt=Ju?$u(r,d):jp(r,d))&&(Ft=G0(ue,"onBeforeInput"),0<Ft.length&&(mn=new Ph("onBeforeInput","beforeinput",null,d,ze),We.push({event:mn,listeners:Ft}),mn.data=wt)),SU(We,r,ue,d,ze)}ET(We,l)})}function Pm(r,l,d){return{instance:r,listener:l,currentTarget:d}}function G0(r,l){for(var d=l+"Capture",g=[];r!==null;){var x=r,C=x.stateNode;x=x.tag,x!==5&&x!==26&&x!==27||C===null||(x=Ec(r,d),x!=null&&g.unshift(Pm(r,x,C)),x=Ec(r,l),x!=null&&g.push(Pm(r,x,C))),r=r.return}return g}function _d(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function CT(r,l,d,g,x){for(var C=l._reactName,I=[];d!==null&&d!==g;){var k=d,J=k.alternate,ue=k.stateNode;if(k=k.tag,J!==null&&J===g)break;k!==5&&k!==26&&k!==27||ue===null||(J=ue,x?(ue=Ec(d,C),ue!=null&&I.unshift(Pm(d,ue,J))):x||(ue=Ec(d,C),ue!=null&&I.push(Pm(d,ue,J)))),d=d.return}I.length!==0&&r.push({event:l,listeners:I})}var TU=/\r\n?/g,CU=/\u0000|\uFFFD/g;function RT(r){return(typeof r=="string"?r:""+r).replace(TU,`
`).replace(CU,"")}function wT(r,l){return l=RT(l),RT(r)===l}function V0(){}function qn(r,l,d,g,x,C){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||_s(r,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&_s(r,""+g);break;case"className":Xn(r,"class",g);break;case"tabIndex":Xn(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(r,d,g);break;case"style":Np(r,g,C);break;case"data":if(l!=="object"){Xn(r,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){r.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(d);break}g=ku(""+g),r.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(l!=="input"&&qn(r,l,"name",x.name,x,null),qn(r,l,"formEncType",x.formEncType,x,null),qn(r,l,"formMethod",x.formMethod,x,null),qn(r,l,"formTarget",x.formTarget,x,null)):(qn(r,l,"encType",x.encType,x,null),qn(r,l,"method",x.method,x,null),qn(r,l,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(d);break}g=ku(""+g),r.setAttribute(d,g);break;case"onClick":g!=null&&(r.onclick=V0);break;case"onScroll":g!=null&&Sn("scroll",r);break;case"onScrollEnd":g!=null&&Sn("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}d=ku(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(d,""+g):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":g===!0?r.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(d,g):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(d,g):r.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(d):r.setAttribute(d,g);break;case"popover":Sn("beforetoggle",r),Sn("toggle",r),hn(r,"popover",g);break;case"xlinkActuate":An(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":An(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":An(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":An(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":An(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":An(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":An(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":An(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":An(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":hn(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Cy.get(d)||d,hn(r,d,g))}}function aS(r,l,d,g,x,C){switch(d){case"style":Np(r,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"children":typeof g=="string"?_s(r,g):(typeof g=="number"||typeof g=="bigint")&&_s(r,""+g);break;case"onScroll":g!=null&&Sn("scroll",r);break;case"onScrollEnd":g!=null&&Sn("scrollend",r);break;case"onClick":g!=null&&(r.onclick=V0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qe.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),l=d.slice(2,x?d.length-7:void 0),C=r[$t]||null,C=C!=null?C[d]:null,typeof C=="function"&&r.removeEventListener(l,C,x),typeof g=="function")){typeof C!="function"&&C!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(l,g,x);break e}d in r?r[d]=g:g===!0?r.setAttribute(d,""):hn(r,d,g)}}}function ws(r,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Sn("error",r),Sn("load",r);var g=!1,x=!1,C;for(C in d)if(d.hasOwnProperty(C)){var I=d[C];if(I!=null)switch(C){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:qn(r,l,C,I,d,null)}}x&&qn(r,l,"srcSet",d.srcSet,d,null),g&&qn(r,l,"src",d.src,d,null);return;case"input":Sn("invalid",r);var k=C=I=x=null,J=null,ue=null;for(g in d)if(d.hasOwnProperty(g)){var ze=d[g];if(ze!=null)switch(g){case"name":x=ze;break;case"type":I=ze;break;case"checked":J=ze;break;case"defaultChecked":ue=ze;break;case"value":C=ze;break;case"defaultValue":k=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(137,l));break;default:qn(r,l,g,ze,d,null)}}ss(r,C,k,J,ue,I,x,!1),dn(r);return;case"select":Sn("invalid",r),g=I=C=null;for(x in d)if(d.hasOwnProperty(x)&&(k=d[x],k!=null))switch(x){case"value":C=k;break;case"defaultValue":I=k;break;case"multiple":g=k;default:qn(r,l,x,k,d,null)}l=C,d=I,r.multiple=!!g,l!=null?ai(r,!!g,l,!1):d!=null&&ai(r,!!g,d,!0);return;case"textarea":Sn("invalid",r),C=x=g=null;for(I in d)if(d.hasOwnProperty(I)&&(k=d[I],k!=null))switch(I){case"value":g=k;break;case"defaultValue":x=k;break;case"children":C=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:qn(r,l,I,k,d,null)}za(r,g,x,C),dn(r);return;case"option":for(J in d)if(d.hasOwnProperty(J)&&(g=d[J],g!=null))switch(J){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:qn(r,l,J,g,d,null)}return;case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":Sn("load",r);break;case"video":case"audio":for(g=0;g<Um.length;g++)Sn(Um[g],r);break;case"image":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"embed":case"source":case"link":Sn("error",r),Sn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(g=d[ue],g!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:qn(r,l,ue,g,d,null)}return;default:if(Vu(l)){for(ze in d)d.hasOwnProperty(ze)&&(g=d[ze],g!==void 0&&aS(r,l,ze,g,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(g=d[k],g!=null&&qn(r,l,k,g,d,null))}function RU(r,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,C=null,I=null,k=null,J=null,ue=null,ze=null;for(Ne in d){var We=d[Ne];if(d.hasOwnProperty(Ne)&&We!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":J=We;default:g.hasOwnProperty(Ne)||qn(r,l,Ne,null,g,We)}}for(var xe in g){var Ne=g[xe];if(We=d[xe],g.hasOwnProperty(xe)&&(Ne!=null||We!=null))switch(xe){case"type":C=Ne;break;case"name":x=Ne;break;case"checked":ue=Ne;break;case"defaultChecked":ze=Ne;break;case"value":I=Ne;break;case"defaultValue":k=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,l));break;default:Ne!==We&&qn(r,l,xe,Ne,g,We)}}Nn(r,I,k,J,ue,ze,C,x);return;case"select":Ne=I=k=xe=null;for(C in d)if(J=d[C],d.hasOwnProperty(C)&&J!=null)switch(C){case"value":break;case"multiple":Ne=J;default:g.hasOwnProperty(C)||qn(r,l,C,null,g,J)}for(x in g)if(C=g[x],J=d[x],g.hasOwnProperty(x)&&(C!=null||J!=null))switch(x){case"value":xe=C;break;case"defaultValue":k=C;break;case"multiple":I=C;default:C!==J&&qn(r,l,x,C,g,J)}l=k,d=I,g=Ne,xe!=null?ai(r,!!d,xe,!1):!!g!=!!d&&(l!=null?ai(r,!!d,l,!0):ai(r,!!d,d?[]:"",!1));return;case"textarea":Ne=xe=null;for(k in d)if(x=d[k],d.hasOwnProperty(k)&&x!=null&&!g.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:qn(r,l,k,null,g,x)}for(I in g)if(x=g[I],C=d[I],g.hasOwnProperty(I)&&(x!=null||C!=null))switch(I){case"value":xe=x;break;case"defaultValue":Ne=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==C&&qn(r,l,I,x,g,C)}Xi(r,xe,Ne);return;case"option":for(var Mt in d)if(xe=d[Mt],d.hasOwnProperty(Mt)&&xe!=null&&!g.hasOwnProperty(Mt))switch(Mt){case"selected":r.selected=!1;break;default:qn(r,l,Mt,null,g,xe)}for(J in g)if(xe=g[J],Ne=d[J],g.hasOwnProperty(J)&&xe!==Ne&&(xe!=null||Ne!=null))switch(J){case"selected":r.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:qn(r,l,J,xe,g,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in d)xe=d[jt],d.hasOwnProperty(jt)&&xe!=null&&!g.hasOwnProperty(jt)&&qn(r,l,jt,null,g,xe);for(ue in g)if(xe=g[ue],Ne=d[ue],g.hasOwnProperty(ue)&&xe!==Ne&&(xe!=null||Ne!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(n(137,l));break;default:qn(r,l,ue,xe,g,Ne)}return;default:if(Vu(l)){for(var Di in d)xe=d[Di],d.hasOwnProperty(Di)&&xe!==void 0&&!g.hasOwnProperty(Di)&&aS(r,l,Di,void 0,g,xe);for(ze in g)xe=g[ze],Ne=d[ze],!g.hasOwnProperty(ze)||xe===Ne||xe===void 0&&Ne===void 0||aS(r,l,ze,xe,g,Ne);return}}for(var pe in d)xe=d[pe],d.hasOwnProperty(pe)&&xe!=null&&!g.hasOwnProperty(pe)&&qn(r,l,pe,null,g,xe);for(We in g)xe=g[We],Ne=d[We],!g.hasOwnProperty(We)||xe===Ne||xe==null&&Ne==null||qn(r,l,We,xe,g,Ne)}var rS=null,oS=null;function k0(r){return r.nodeType===9?r:r.ownerDocument}function BT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DT(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function lS(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var cS=null;function wU(){var r=window.event;return r&&r.type==="popstate"?r===cS?!1:(cS=r,!0):(cS=null,!1)}var OT=typeof setTimeout=="function"?setTimeout:void 0,BU=typeof clearTimeout=="function"?clearTimeout:void 0,LT=typeof Promise=="function"?Promise:void 0,DU=typeof queueMicrotask=="function"?queueMicrotask:typeof LT<"u"?function(r){return LT.resolve(null).then(r).catch(OU)}:OT;function OU(r){setTimeout(function(){throw r})}function uS(r,l){var d=l,g=0;do{var x=d.nextSibling;if(r.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){r.removeChild(x),Xm(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);Xm(l)}function fS(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":fS(d),Tl(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function LU(r,l,d,g){for(;r.nodeType===1;){var x=d;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[Dr])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(C=r.getAttribute("rel"),C==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(C!==x.rel||r.getAttribute("href")!==(x.href==null?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(C=r.getAttribute("src"),(C!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&C&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var C=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===C)return r}else return r;if(r=co(r.nextSibling),r===null)break}return null}function NU(r,l,d){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=co(r.nextSibling),r===null))return null;return r}function co(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}function NT(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return r;l--}else d==="/$"&&l++}r=r.previousSibling}return null}function UT(r,l,d){switch(l=k0(d),r){case"html":if(r=l.documentElement,!r)throw Error(n(452));return r;case"head":if(r=l.head,!r)throw Error(n(453));return r;case"body":if(r=l.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}var xr=new Map,PT=new Set;function X0(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var $l=ie.d;ie.d={f:UU,r:PU,D:IU,C:FU,L:zU,m:HU,X:VU,S:GU,M:kU};function UU(){var r=$l.f(),l=Jl();return r||l}function PU(r){var l=V(r);l!==null&&l.tag===5&&l.type==="form"?_0(l):$l.r(r)}var xd=typeof document>"u"?null:document;function IT(r,l,d){var g=xd;if(g&&typeof l=="string"&&l){var x=Ui(l);x='link[rel="'+r+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),PT.has(x)||(PT.add(x),r={rel:r,crossOrigin:d,href:l},g.querySelector(x)===null&&(l=g.createElement("link"),ws(l,"link",r),ye(l),g.head.appendChild(l)))}}function IU(r){$l.D(r),IT("dns-prefetch",r,null)}function FU(r,l){$l.C(r,l),IT("preconnect",r,l)}function zU(r,l,d){$l.L(r,l,d);var g=xd;if(g&&r&&l){var x='link[rel="preload"][as="'+Ui(l)+'"]';l==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Ui(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Ui(d.imageSizes)+'"]')):x+='[href="'+Ui(r)+'"]';var C=x;switch(l){case"style":C=Sd(r);break;case"script":C=bd(r)}xr.has(C)||(r=L({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:r,as:l},d),xr.set(C,r),g.querySelector(x)!==null||l==="style"&&g.querySelector(Im(C))||l==="script"&&g.querySelector(Fm(C))||(l=g.createElement("link"),ws(l,"link",r),ye(l),g.head.appendChild(l)))}}function HU(r,l){$l.m(r,l);var d=xd;if(d&&r){var g=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+Ui(g)+'"][href="'+Ui(r)+'"]',C=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=bd(r)}if(!xr.has(C)&&(r=L({rel:"modulepreload",href:r},l),xr.set(C,r),d.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Fm(C)))return}g=d.createElement("link"),ws(g,"link",r),ye(g),d.head.appendChild(g)}}}function GU(r,l,d){$l.S(r,l,d);var g=xd;if(g&&r){var x=Ae(g).hoistableStyles,C=Sd(r);l=l||"default";var I=x.get(C);if(!I){var k={loading:0,preload:null};if(I=g.querySelector(Im(C)))k.loading=5;else{r=L({rel:"stylesheet",href:r,"data-precedence":l},d),(d=xr.get(C))&&hS(r,d);var J=I=g.createElement("link");ye(J),ws(J,"link",r),J._p=new Promise(function(ue,ze){J.onload=ue,J.onerror=ze}),J.addEventListener("load",function(){k.loading|=1}),J.addEventListener("error",function(){k.loading|=2}),k.loading|=4,j0(I,l,g)}I={type:"stylesheet",instance:I,count:1,state:k},x.set(C,I)}}}function VU(r,l){$l.X(r,l);var d=xd;if(d&&r){var g=Ae(d).hoistableScripts,x=bd(r),C=g.get(x);C||(C=d.querySelector(Fm(x)),C||(r=L({src:r,async:!0},l),(l=xr.get(x))&&dS(r,l),C=d.createElement("script"),ye(C),ws(C,"link",r),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(x,C))}}function kU(r,l){$l.M(r,l);var d=xd;if(d&&r){var g=Ae(d).hoistableScripts,x=bd(r),C=g.get(x);C||(C=d.querySelector(Fm(x)),C||(r=L({src:r,async:!0,type:"module"},l),(l=xr.get(x))&&dS(r,l),C=d.createElement("script"),ye(C),ws(C,"link",r),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(x,C))}}function FT(r,l,d,g){var x=(x=Bt.current)?X0(x):null;if(!x)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Sd(d.href),d=Ae(x).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Sd(d.href);var C=Ae(x).hoistableStyles,I=C.get(r);if(I||(x=x.ownerDocument||x,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(r,I),(C=x.querySelector(Im(r)))&&!C._p&&(I.instance=C,I.state.loading=5),xr.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},xr.set(r,d),C||XU(x,r,d,I.state))),l&&g===null)throw Error(n(528,""));return I}if(l&&g!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=bd(d),d=Ae(x).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Sd(r){return'href="'+Ui(r)+'"'}function Im(r){return'link[rel="stylesheet"]['+r+"]"}function zT(r){return L({},r,{"data-precedence":r.precedence,precedence:null})}function XU(r,l,d,g){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=r.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),ws(l,"link",d),ye(l),r.head.appendChild(l))}function bd(r){return'[src="'+Ui(r)+'"]'}function Fm(r){return"script[async]"+r}function HT(r,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=r.querySelector('style[data-href~="'+Ui(d.href)+'"]');if(g)return l.instance=g,ye(g),g;var x=L({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),ye(g),ws(g,"style",x),j0(g,d.precedence,r),l.instance=g;case"stylesheet":x=Sd(d.href);var C=r.querySelector(Im(x));if(C)return l.state.loading|=4,l.instance=C,ye(C),C;g=zT(d),(x=xr.get(x))&&hS(g,x),C=(r.ownerDocument||r).createElement("link"),ye(C);var I=C;return I._p=new Promise(function(k,J){I.onload=k,I.onerror=J}),ws(C,"link",g),l.state.loading|=4,j0(C,d.precedence,r),l.instance=C;case"script":return C=bd(d.src),(x=r.querySelector(Fm(C)))?(l.instance=x,ye(x),x):(g=d,(x=xr.get(C))&&(g=L({},d),dS(g,x)),r=r.ownerDocument||r,x=r.createElement("script"),ye(x),ws(x,"link",g),r.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,j0(g,d.precedence,r));return l.instance}function j0(r,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,C=x,I=0;I<g.length;I++){var k=g[I];if(k.dataset.precedence===l)C=k;else if(C!==x)break}C?C.parentNode.insertBefore(r,C.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(r,l.firstChild))}function hS(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function dS(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Y0=null;function GT(r,l,d){if(Y0===null){var g=new Map,x=Y0=new Map;x.set(d,g)}else x=Y0,g=x.get(d),g||(g=new Map,x.set(d,g));if(g.has(r))return g;for(g.set(r,null),d=d.getElementsByTagName(r),x=0;x<d.length;x++){var C=d[x];if(!(C[Dr]||C[si]||r==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var I=C.getAttribute(l)||"";I=r+I;var k=g.get(I);k?k.push(C):g.set(I,[C])}}return g}function VT(r,l,d){r=r.ownerDocument||r,r.head.insertBefore(d,l==="title"?r.querySelector("head > title"):null)}function jU(r,l,d){if(d===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function kT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var zm=null;function YU(){}function qU(r,l,d){if(zm===null)throw Error(n(475));var g=zm;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Sd(d.href),C=r.querySelector(Im(x));if(C){r=C._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(g.count++,g=q0.bind(g),r.then(g,g)),l.state.loading|=4,l.instance=C,ye(C);return}C=r.ownerDocument||r,d=zT(d),(x=xr.get(x))&&hS(d,x),C=C.createElement("link"),ye(C);var I=C;I._p=new Promise(function(k,J){I.onload=k,I.onerror=J}),ws(C,"link",d),l.instance=C}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=q0.bind(g),r.addEventListener("load",l),r.addEventListener("error",l))}}function WU(){if(zm===null)throw Error(n(475));var r=zm;return r.stylesheets&&r.count===0&&pS(r,r.stylesheets),0<r.count?function(l){var d=setTimeout(function(){if(r.stylesheets&&pS(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d)}}:null}function q0(){if(this.count--,this.count===0){if(this.stylesheets)pS(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var W0=null;function pS(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,W0=new Map,l.forEach(KU,r),W0=null,q0.call(r))}function KU(r,l){if(!(l.state.loading&4)){var d=W0.get(r);if(d)var g=d.get(null);else{d=new Map,W0.set(r,d);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<x.length;C++){var I=x[C];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(d.set(I.dataset.precedence,I),g=I)}g&&d.set(null,g)}x=l.instance,I=x.getAttribute("data-precedence"),C=d.get(I)||g,C===g&&d.set(null,x),d.set(I,x),this.count++,g=q0.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),C?C.parentNode.insertBefore(x,C.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),l.state.loading|=4}}var Hm={$$typeof:_,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function JU(r,l,d,g,x,C,I,k){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=C,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function XT(r,l,d,g,x,C,I,k,J,ue,ze,We){return r=new JU(r,l,d,I,k,J,ue,We),l=1,C===!0&&(l|=24),C=Ai(3,null,null,l),r.current=C,C.stateNode=r,l=sm(),l.refCount++,r.pooledCache=l,l.refCount++,C.memoizedState={element:g,isDehydrated:d,cache:l},Ms(C),r}function jT(r){return r?(r=Lo,r):Lo}function YT(r,l,d,g,x,C){x=jT(x),g.context===null?g.context=x:g.pendingContext=x,g=aa(l),g.payload={element:d},C=C===void 0?null:C,C!==null&&(g.callback=C),d=ra(r,g,l),d!==null&&(Bi(d,r,l),Zo(d,r,l))}function qT(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<l?d:l}}function mS(r,l){qT(r,l),(r=r.alternate)&&qT(r,l)}function WT(r){if(r.tag===13){var l=Hr(r,67108864);l!==null&&Bi(l,r,67108864),mS(r,67108864)}}var K0=!0;function ZU(r,l,d,g){var x=N.T;N.T=null;var C=ie.p;try{ie.p=2,gS(r,l,d,g)}finally{ie.p=C,N.T=x}}function QU(r,l,d,g){var x=N.T;N.T=null;var C=ie.p;try{ie.p=8,gS(r,l,d,g)}finally{ie.p=C,N.T=x}}function gS(r,l,d,g){if(K0){var x=yS(g);if(x===null)sS(r,l,g,J0,d),JT(r,g);else if(eP(x,r,l,d,g))g.stopPropagation();else if(JT(r,g),l&4&&-1<$U.indexOf(r)){for(;x!==null;){var C=V(x);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var I=at(C.pendingLanes);if(I!==0){var k=C;for(k.pendingLanes|=2,k.entangledLanes|=2;I;){var J=1<<31-Ce(I);k.entanglements[1]|=J,I&=~J}Vn(C),(Vt&6)===0&&(un=Se()+500,pn(0))}}break;case 13:k=Hr(C,2),k!==null&&Bi(k,C,2),Jl(),mS(C,2)}if(C=yS(g),C===null&&sS(r,l,g,J0,d),C===x)break;x=C}x!==null&&g.stopPropagation()}else sS(r,l,g,null,d)}}function yS(r){return r=Xu(r),vS(r)}var J0=null;function vS(r){if(J0=null,r=Fa(r),r!==null){var l=se(r);if(l===null)r=null;else{var d=l.tag;if(d===13){if(r=Te(l),r!==null)return r;r=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return J0=r,null}function KT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case De:return 2;case yt:return 8;case tt:case pt:return 32;case qt:return 268435456;default:return 32}default:return 32}}var AS=!1,ru=null,ou=null,lu=null,Gm=new Map,Vm=new Map,cu=[],$U="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JT(r,l){switch(r){case"focusin":case"focusout":ru=null;break;case"dragenter":case"dragleave":ou=null;break;case"mouseover":case"mouseout":lu=null;break;case"pointerover":case"pointerout":Gm.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vm.delete(l.pointerId)}}function km(r,l,d,g,x,C){return r===null||r.nativeEvent!==C?(r={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:C,targetContainers:[x]},l!==null&&(l=V(l),l!==null&&WT(l)),r):(r.eventSystemFlags|=g,l=r.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),r)}function eP(r,l,d,g,x){switch(l){case"focusin":return ru=km(ru,r,l,d,g,x),!0;case"dragenter":return ou=km(ou,r,l,d,g,x),!0;case"mouseover":return lu=km(lu,r,l,d,g,x),!0;case"pointerover":var C=x.pointerId;return Gm.set(C,km(Gm.get(C)||null,r,l,d,g,x)),!0;case"gotpointercapture":return C=x.pointerId,Vm.set(C,km(Vm.get(C)||null,r,l,d,g,x)),!0}return!1}function ZT(r){var l=Fa(r.target);if(l!==null){var d=se(l);if(d!==null){if(l=d.tag,l===13){if(l=Te(d),l!==null){r.blockedOn=l,Pa(r.priority,function(){if(d.tag===13){var g=Rs(),x=Hr(d,g);x!==null&&Bi(x,d,g),mS(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Z0(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var d=yS(r.nativeEvent);if(d===null){d=r.nativeEvent;var g=new d.constructor(d.type,d);Dh=g,d.target.dispatchEvent(g),Dh=null}else return l=V(d),l!==null&&WT(l),r.blockedOn=d,!1;l.shift()}return!0}function QT(r,l,d){Z0(r)&&d.delete(l)}function tP(){AS=!1,ru!==null&&Z0(ru)&&(ru=null),ou!==null&&Z0(ou)&&(ou=null),lu!==null&&Z0(lu)&&(lu=null),Gm.forEach(QT),Vm.forEach(QT)}function Q0(r,l){r.blockedOn===l&&(r.blockedOn=null,AS||(AS=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tP)))}var $0=null;function $T(r){$0!==r&&($0=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$0===r&&($0=null);for(var l=0;l<r.length;l+=3){var d=r[l],g=r[l+1],x=r[l+2];if(typeof g!="function"){if(vS(g||d)===null)continue;break}var C=V(d);C!==null&&(r.splice(l,3),l-=3,dm(C,{pending:!0,data:x,method:d.method,action:g},g,x))}}))}function Xm(r){function l(J){return Q0(J,r)}ru!==null&&Q0(ru,r),ou!==null&&Q0(ou,r),lu!==null&&Q0(lu,r),Gm.forEach(l),Vm.forEach(l);for(var d=0;d<cu.length;d++){var g=cu[d];g.blockedOn===r&&(g.blockedOn=null)}for(;0<cu.length&&(d=cu[0],d.blockedOn===null);)ZT(d),d.blockedOn===null&&cu.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var x=d[g],C=d[g+1],I=x[$t]||null;if(typeof C=="function")I||$T(d);else if(I){var k=null;if(C&&C.hasAttribute("formAction")){if(x=C,I=C[$t]||null)k=I.formAction;else if(vS(x)!==null)continue}else k=I.action;typeof k=="function"?d[g+1]=k:(d.splice(g,3),g-=3),$T(d)}}}function _S(r){this._internalRoot=r}ev.prototype.render=_S.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,g=Rs();YT(d,g,r,l,null,null)},ev.prototype.unmount=_S.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;r.tag===0&&$e(),YT(r.current,2,null,r,null,null),Jl(),l[Ia]=null}};function ev(r){this._internalRoot=r}ev.prototype.unstable_scheduleHydration=function(r){if(r){var l=Mc();r={blockedOn:null,target:r,priority:l};for(var d=0;d<cu.length&&l!==0&&l<cu[d].priority;d++);cu.splice(d,0,r),d===0&&ZT(r)}};var eC=e.version;if(eC!=="19.0.0")throw Error(n(527,eC,"19.0.0"));ie.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=oe(l),r=r!==null?Oe(r):null,r=r===null?null:r.stateNode,r};var nP={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:Fa,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tv.isDisabled&&tv.supportsFiber)try{At=tv.inject(nP),mt=tv}catch{}}return Ym.createRoot=function(r,l){if(!s(r))throw Error(n(299));var d=!1,g="",x=R0,C=w0,I=B0,k=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks)),l=XT(r,1,!1,null,null,d,g,x,C,I,k,null),r[Ia]=l.current,iS(r.nodeType===8?r.parentNode:r),new _S(l)},Ym.hydrateRoot=function(r,l,d){if(!s(r))throw Error(n(299));var g=!1,x="",C=R0,I=w0,k=B0,J=null,ue=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(J=d.unstable_transitionCallbacks),d.formState!==void 0&&(ue=d.formState)),l=XT(r,1,!0,l,d??null,g,x,C,I,k,J,ue),l.context=jT(null),d=l.current,g=Rs(),x=aa(g),x.callback=null,ra(d,x,g),l.current.lanes=g,fi(l,g),Vn(l),r[Ia]=l.current,iS(r),new ev(l)},Ym.version="19.0.0",Ym}var uC;function uP(){if(uC)return bS.exports;uC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bS.exports=cP(),bS.exports}var fP=uP();const sD=Me.createContext(),hP=({children:i})=>{const[e,t]=Me.useState("light");Me.useEffect(()=>{document.body.className=e},[e]);const n=()=>{t(s=>s==="light"?"dark":"light")};return le.jsx(sD.Provider,{value:{theme:e,toggleTheme:n},children:i})};var li={},iv={},sv={},av={},CS,fC;function dP(){if(fC)return CS;fC=1;var i="Expected a function",e=NaN,t="[object Symbol]",n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt,h=typeof nv=="object"&&nv&&nv.Object===Object&&nv,p=typeof self=="object"&&self&&self.Object===Object&&self,m=h||p||Function("return this")(),y=Object.prototype,A=y.toString,_=Math.max,S=Math.min,T=function(){return m.Date.now()};function E(P,F,H){var N,L,G,W,K,$,ge=0,ee=!1,re=!1,se=!0;if(typeof P!="function")throw new TypeError(i);F=U(F)||0,w(H)&&(ee=!!H.leading,re="maxWait"in H,G=re?_(U(H.maxWait)||0,F):G,se="trailing"in H?!!H.trailing:se);function Te(ke){var vt=N,it=L;return N=L=void 0,ge=ke,W=P.apply(it,vt),W}function Y(ke){return ge=ke,K=setTimeout(je,F),ee?Te(ke):W}function oe(ke){var vt=ke-$,it=ke-ge,Ct=F-vt;return re?S(Ct,G-it):Ct}function Oe(ke){var vt=ke-$,it=ke-ge;return $===void 0||vt>=F||vt<0||re&&it>=G}function je(){var ke=T();if(Oe(ke))return ie(ke);K=setTimeout(je,oe(ke))}function ie(ke){return K=void 0,se&&N?Te(ke):(N=L=void 0,W)}function Re(){K!==void 0&&clearTimeout(K),ge=0,N=$=L=K=void 0}function Ge(){return K===void 0?W:ie(T())}function Ye(){var ke=T(),vt=Oe(ke);if(N=arguments,L=this,$=ke,vt){if(K===void 0)return Y($);if(re)return K=setTimeout(je,F),Te($)}return K===void 0&&(K=setTimeout(je,F)),W}return Ye.cancel=Re,Ye.flush=Ge,Ye}function b(P,F,H){var N=!0,L=!0;if(typeof P!="function")throw new TypeError(i);return w(H)&&(N="leading"in H?!!H.leading:N,L="trailing"in H?!!H.trailing:L),E(P,F,{leading:N,maxWait:F,trailing:L})}function w(P){var F=typeof P;return!!P&&(F=="object"||F=="function")}function B(P){return!!P&&typeof P=="object"}function D(P){return typeof P=="symbol"||B(P)&&A.call(P)==t}function U(P){if(typeof P=="number")return P;if(D(P))return e;if(w(P)){var F=typeof P.valueOf=="function"?P.valueOf():P;P=w(F)?F+"":F}if(typeof P!="string")return P===0?P:+P;P=P.replace(n,"");var H=a.test(P);return H||o.test(P)?c(P.slice(2),H?2:8):s.test(P)?e:+P}return CS=b,CS}var qm={},hC;function MM(){if(hC)return qm;hC=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.addPassiveEventListener=function(t,n,s){var a=s.name;a||(a=n,console.warn("Listener must be a named function.")),i.has(n)||i.set(n,new Set);var o=i.get(n);if(!o.has(a)){var c=function(){var h=!1;try{var p=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("test",null,p)}catch{}return h}();t.addEventListener(n,s,c?{passive:!0}:!1),o.add(a)}},qm.removePassiveEventListener=function(t,n,s){t.removeEventListener(n,s),i.get(n).delete(s.name||n)};var i=new Map;return qm}var dC;function EM(){if(dC)return av;dC=1,Object.defineProperty(av,"__esModule",{value:!0});var i=dP(),e=n(i),t=MM();function n(o){return o&&o.__esModule?o:{default:o}}var s=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,e.default)(c,h)},a={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(c,h){if(c){var p=s(function(m){a.scrollHandler(c)},h);return a.scrollSpyContainers.push(c),(0,t.addPassiveEventListener)(c,"scroll",p),function(){return(0,t.removePassiveEventListener)(c,"scroll",p)}}return function(){}},isMounted:function(c){return a.scrollSpyContainers.indexOf(c)!==-1},currentPositionX:function(c){if(c===document){var h=window.pageYOffset!==void 0,p=(document.compatMode||"")==="CSS1Compat";return h?window.pageXOffset:p?document.documentElement.scrollLeft:document.body.scrollLeft}else return c.scrollLeft},currentPositionY:function(c){if(c===document){var h=window.pageXOffset!==void 0,p=(document.compatMode||"")==="CSS1Compat";return h?window.pageYOffset:p?document.documentElement.scrollTop:document.body.scrollTop}else return c.scrollTop},scrollHandler:function(c){var h=a.scrollSpyContainers[a.scrollSpyContainers.indexOf(c)].spyCallbacks||[];h.forEach(function(p){return p(a.currentPositionX(c),a.currentPositionY(c))})},addStateHandler:function(c){a.spySetState.push(c)},addSpyHandler:function(c,h){var p=a.scrollSpyContainers[a.scrollSpyContainers.indexOf(h)];p.spyCallbacks||(p.spyCallbacks=[]),p.spyCallbacks.push(c),c(a.currentPositionX(h),a.currentPositionY(h))},updateStates:function(){a.spySetState.forEach(function(c){return c()})},unmount:function(c,h){a.scrollSpyContainers.forEach(function(p){return p.spyCallbacks&&p.spyCallbacks.length&&p.spyCallbacks.indexOf(h)>-1&&p.spyCallbacks.splice(p.spyCallbacks.indexOf(h),1)}),a.spySetState&&a.spySetState.length&&a.spySetState.indexOf(c)>-1&&a.spySetState.splice(a.spySetState.indexOf(c),1),document.removeEventListener("scroll",a.scrollHandler)},update:function(){return a.scrollSpyContainers.forEach(function(c){return a.scrollHandler(c)})}};return av.default=a,av}var rv={},ov={},pC;function F_(){if(pC)return ov;pC=1,Object.defineProperty(ov,"__esModule",{value:!0});var i=function(c,h){var p=c.indexOf("#")===0?c.substring(1):c,m=p?"#"+p:"",y=window&&window.location,A=m?y.pathname+y.search+m:y.pathname+y.search;h?history.pushState(history.state,"",A):history.replaceState(history.state,"",A)},e=function(){return window.location.hash.replace(/^#/,"")},t=function(c){return function(h){return c.contains?c!=h&&c.contains(h):!!(c.compareDocumentPosition(h)&16)}},n=function(c){return getComputedStyle(c).position!=="static"},s=function(c,h){for(var p=c.offsetTop,m=c.offsetParent;m&&!h(m);)p+=m.offsetTop,m=m.offsetParent;return{offsetTop:p,offsetParent:m}},a=function(c,h,p){if(p)return c===document?h.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(c).position!=="static"?h.offsetLeft:h.offsetLeft-c.offsetLeft;if(c===document)return h.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(n(c)){if(h.offsetParent!==c){var m=function(E){return E===c||E===document},y=s(h,m),A=y.offsetTop,_=y.offsetParent;if(_!==c)throw new Error("Seems containerElement is not an ancestor of the Element");return A}return h.offsetTop}if(h.offsetParent===c.offsetParent)return h.offsetTop-c.offsetTop;var S=function(E){return E===document};return s(h,S).offsetTop-s(c,S).offsetTop};return ov.default={updateHash:i,getHash:e,filterElementInContainer:t,scrollOffset:a},ov}var lv={},cv={},mC;function pP(){return mC||(mC=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),cv}var uv={},gC;function mP(){if(gC)return uv;gC=1,Object.defineProperty(uv,"__esModule",{value:!0});var i=MM(),e=["mousedown","wheel","touchmove","keydown"];return uv.default={subscribe:function(n){return typeof document<"u"&&e.forEach(function(s){return(0,i.addPassiveEventListener)(document,s,n)})}},uv}var fv={},yC;function TM(){if(yC)return fv;yC=1,Object.defineProperty(fv,"__esModule",{value:!0});var i={registered:{},scrollEvent:{register:function(t,n){i.registered[t]=n},remove:function(t){i.registered[t]=null}}};return fv.default=i,fv}var vC;function aD(){if(vC)return lv;vC=1,Object.defineProperty(lv,"__esModule",{value:!0});var i=Object.assign||function(L){for(var G=1;G<arguments.length;G++){var W=arguments[G];for(var K in W)Object.prototype.hasOwnProperty.call(W,K)&&(L[K]=W[K])}return L},e=F_();h(e);var t=pP(),n=h(t),s=mP(),a=h(s),o=TM(),c=h(o);function h(L){return L&&L.__esModule?L:{default:L}}var p=function(G){return n.default[G.smooth]||n.default.defaultEasing},m=function(G){return typeof G=="function"?G:function(){return G}},y=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},A=function(){return y()||function(L,G,W){window.setTimeout(L,W||1e3/60,new Date().getTime())}}(),_=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},S=function(G){var W=G.data.containerElement;if(W&&W!==document&&W!==document.body)return W.scrollLeft;var K=window.pageXOffset!==void 0,$=(document.compatMode||"")==="CSS1Compat";return K?window.pageXOffset:$?document.documentElement.scrollLeft:document.body.scrollLeft},T=function(G){var W=G.data.containerElement;if(W&&W!==document&&W!==document.body)return W.scrollTop;var K=window.pageXOffset!==void 0,$=(document.compatMode||"")==="CSS1Compat";return K?window.pageYOffset:$?document.documentElement.scrollTop:document.body.scrollTop},E=function(G){var W=G.data.containerElement;if(W&&W!==document&&W!==document.body)return W.scrollWidth-W.offsetWidth;var K=document.body,$=document.documentElement;return Math.max(K.scrollWidth,K.offsetWidth,$.clientWidth,$.scrollWidth,$.offsetWidth)},b=function(G){var W=G.data.containerElement;if(W&&W!==document&&W!==document.body)return W.scrollHeight-W.offsetHeight;var K=document.body,$=document.documentElement;return Math.max(K.scrollHeight,K.offsetHeight,$.clientHeight,$.scrollHeight,$.offsetHeight)},w=function L(G,W,K){var $=W.data;if(!W.ignoreCancelEvents&&$.cancel){c.default.registered.end&&c.default.registered.end($.to,$.target,$.currentPositionY);return}if($.delta=Math.round($.targetPosition-$.startPosition),$.start===null&&($.start=K),$.progress=K-$.start,$.percent=$.progress>=$.duration?1:G($.progress/$.duration),$.currentPosition=$.startPosition+Math.ceil($.delta*$.percent),$.containerElement&&$.containerElement!==document&&$.containerElement!==document.body?W.horizontal?$.containerElement.scrollLeft=$.currentPosition:$.containerElement.scrollTop=$.currentPosition:W.horizontal?window.scrollTo($.currentPosition,0):window.scrollTo(0,$.currentPosition),$.percent<1){var ge=L.bind(null,G,W);A.call(window,ge);return}c.default.registered.end&&c.default.registered.end($.to,$.target,$.currentPosition)},B=function(G){G.data.containerElement=G?G.containerId?document.getElementById(G.containerId):G.container&&G.container.nodeType?G.container:document:null},D=function(G,W,K,$){W.data=W.data||_(),window.clearTimeout(W.data.delayTimeout);var ge=function(){W.data.cancel=!0};if(a.default.subscribe(ge),B(W),W.data.start=null,W.data.cancel=!1,W.data.startPosition=W.horizontal?S(W):T(W),W.data.targetPosition=W.absolute?G:G+W.data.startPosition,W.data.startPosition===W.data.targetPosition){c.default.registered.end&&c.default.registered.end(W.data.to,W.data.target,W.data.currentPosition);return}W.data.delta=Math.round(W.data.targetPosition-W.data.startPosition),W.data.duration=m(W.duration)(W.data.delta),W.data.duration=isNaN(parseFloat(W.data.duration))?1e3:parseFloat(W.data.duration),W.data.to=K,W.data.target=$;var ee=p(W),re=w.bind(null,ee,W);if(W&&W.delay>0){W.data.delayTimeout=window.setTimeout(function(){c.default.registered.begin&&c.default.registered.begin(W.data.to,W.data.target),A.call(window,re)},W.delay);return}c.default.registered.begin&&c.default.registered.begin(W.data.to,W.data.target),A.call(window,re)},U=function(G){return G=i({},G),G.data=G.data||_(),G.absolute=!0,G},P=function(G){D(0,U(G))},F=function(G,W){D(G,U(W))},H=function(G){G=U(G),B(G),D(G.horizontal?E(G):b(G),G)},N=function(G,W){W=U(W),B(W);var K=W.horizontal?S(W):T(W);D(G+K,W)};return lv.default={animateTopScroll:D,getAnimationType:p,scrollToTop:P,scrollToBottom:H,scrollTo:F,scrollMore:N},lv}var AC;function z_(){if(AC)return rv;AC=1,Object.defineProperty(rv,"__esModule",{value:!0});var i=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var A=arguments[y];for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(m[_]=A[_])}return m},e=F_(),t=c(e),n=aD(),s=c(n),a=TM(),o=c(a);function c(m){return m&&m.__esModule?m:{default:m}}var h={},p=void 0;return rv.default={unmount:function(){h={}},register:function(y,A){h[y]=A},unregister:function(y){delete h[y]},get:function(y){return h[y]||document.getElementById(y)||document.getElementsByName(y)[0]||document.getElementsByClassName(y)[0]},setActiveLink:function(y){return p=y},getActiveLink:function(){return p},scrollTo:function(y,A){var _=this.get(y);if(!_){console.warn("target Element not found");return}A=i({},A,{absolute:!1});var S=A.containerId,T=A.container,E=void 0;S?E=document.getElementById(S):T&&T.nodeType?E=T:E=document,A.absolute=!0;var b=A.horizontal,w=t.default.scrollOffset(E,_,b)+(A.offset||0);if(!A.smooth){o.default.registered.begin&&o.default.registered.begin(y,_),E===document?A.horizontal?window.scrollTo(w,0):window.scrollTo(0,w):E.scrollTop=w,o.default.registered.end&&o.default.registered.end(y,_);return}s.default.animateTopScroll(w,A,y,_)}},rv}var RS={exports:{}},wS,_C;function gP(){if(_C)return wS;_C=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wS=i,wS}var BS,xC;function yP(){if(xC)return BS;xC=1;var i=gP();function e(){}function t(){}return t.resetWarningCache=e,BS=function(){function n(o,c,h,p,m,y){if(y!==i){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},BS}var SC;function sy(){return SC||(SC=1,RS.exports=yP()()),RS.exports}var hv={},bC;function rD(){if(bC)return hv;bC=1,Object.defineProperty(hv,"__esModule",{value:!0}),MM();var i=F_(),e=t(i);function t(s){return s&&s.__esModule?s:{default:s}}var n={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(a){this.scroller=a,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(a,o){this.containers[a]=o},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var a=this,o=this.getHash();o?window.setTimeout(function(){a.scrollTo(o,!0),a.initialized=!0},10):this.initialized=!0},scrollTo:function(a,o){var c=this.scroller,h=c.get(a);if(h&&(o||a!==c.getActiveLink())){var p=this.containers[a]||document;c.scrollTo(a,{container:p})}},getHash:function(){return e.default.getHash()},changeHash:function(a,o){this.isInitialized()&&e.default.getHash()!==a&&e.default.updateHash(a,o)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};return hv.default=n,hv}var MC;function CM(){if(MC)return sv;MC=1,Object.defineProperty(sv,"__esModule",{value:!0});var i=Object.assign||function(b){for(var w=1;w<arguments.length;w++){var B=arguments[w];for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(b[D]=B[D])}return b},e=function(){function b(w,B){for(var D=0;D<B.length;D++){var U=B[D];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(w,U.key,U)}}return function(w,B,D){return B&&b(w.prototype,B),D&&b(w,D),w}}(),t=Rr(),n=A(t),s=EM(),a=A(s),o=z_(),c=A(o),h=sy(),p=A(h),m=rD(),y=A(m);function A(b){return b&&b.__esModule?b:{default:b}}function _(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function S(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function T(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var E={to:p.default.string.isRequired,containerId:p.default.string,container:p.default.object,activeClass:p.default.string,activeStyle:p.default.object,spy:p.default.bool,horizontal:p.default.bool,smooth:p.default.oneOfType([p.default.bool,p.default.string]),offset:p.default.number,delay:p.default.number,isDynamic:p.default.bool,onClick:p.default.func,duration:p.default.oneOfType([p.default.number,p.default.func]),absolute:p.default.bool,onSetActive:p.default.func,onSetInactive:p.default.func,ignoreCancelEvents:p.default.bool,hashSpy:p.default.bool,saveHashHistory:p.default.bool,spyThrottle:p.default.number};return sv.default=function(b,w){var B=w||c.default,D=function(P){T(F,P);function F(H){_(this,F);var N=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,H));return U.call(N),N.state={active:!1},N.beforeUnmountCallbacks=[],N}return e(F,[{key:"getScrollSpyContainer",value:function(){var N=this.props.containerId,L=this.props.container;return N&&!L?document.getElementById(N):L&&L.nodeType?L:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var N=this.getScrollSpyContainer();if(!a.default.isMounted(N)){var L=a.default.mount(N,this.props.spyThrottle);this.beforeUnmountCallbacks.push(L)}this.props.hashSpy&&(y.default.isMounted()||y.default.mount(B),y.default.mapContainer(this.props.to,N)),a.default.addSpyHandler(this.spyHandler,N),this.setState({container:N})}}},{key:"componentWillUnmount",value:function(){a.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(N){return N()})}},{key:"render",value:function(){var N="";this.state&&this.state.active?N=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():N=this.props.className;var L={};this.state&&this.state.active?L=i({},this.props.style,this.props.activeStyle):L=i({},this.props.style);var G=i({},this.props);for(var W in E)G.hasOwnProperty(W)&&delete G[W];return G.className=N,G.style=L,G.onClick=this.handleClick,n.default.createElement(b,G)}}]),F}(n.default.PureComponent),U=function(){var F=this;this.scrollTo=function(H,N){B.scrollTo(H,i({},F.state,N))},this.handleClick=function(H){F.props.onClick&&F.props.onClick(H),H.stopPropagation&&H.stopPropagation(),H.preventDefault&&H.preventDefault(),F.scrollTo(F.props.to,F.props)},this.spyHandler=function(H,N){var L=F.getScrollSpyContainer();if(!(y.default.isMounted()&&!y.default.isInitialized())){var G=F.props.horizontal,W=F.props.to,K=null,$=void 0,ge=void 0;if(G){var ee=0,re=0,se=0;if(L.getBoundingClientRect){var Te=L.getBoundingClientRect();se=Te.left}if(!K||F.props.isDynamic){if(K=B.get(W),!K)return;var Y=K.getBoundingClientRect();ee=Y.left-se+H,re=ee+Y.width}var oe=H-F.props.offset;$=oe>=Math.floor(ee)&&oe<Math.floor(re),ge=oe<Math.floor(ee)||oe>=Math.floor(re)}else{var Oe=0,je=0,ie=0;if(L.getBoundingClientRect){var Re=L.getBoundingClientRect();ie=Re.top}if(!K||F.props.isDynamic){if(K=B.get(W),!K)return;var Ge=K.getBoundingClientRect();Oe=Ge.top-ie+N,je=Oe+Ge.height}var Ye=N-F.props.offset;$=Ye>=Math.floor(Oe)&&Ye<Math.floor(je),ge=Ye<Math.floor(Oe)||Ye>=Math.floor(je)}var ke=B.getActiveLink();if(ge){if(W===ke&&B.setActiveLink(void 0),F.props.hashSpy&&y.default.getHash()===W){var vt=F.props.saveHashHistory,it=vt===void 0?!1:vt;y.default.changeHash("",it)}F.props.spy&&F.state.active&&(F.setState({active:!1}),F.props.onSetInactive&&F.props.onSetInactive(W,K))}if($&&(ke!==W||F.state.active===!1)){B.setActiveLink(W);var Ct=F.props.saveHashHistory,Xt=Ct===void 0?!1:Ct;F.props.hashSpy&&y.default.changeHash(W,Xt),F.props.spy&&(F.setState({active:!0}),F.props.onSetActive&&F.props.onSetActive(W,K))}}}};return D.propTypes=E,D.defaultProps={offset:0},D},sv}var EC;function vP(){if(EC)return iv;EC=1,Object.defineProperty(iv,"__esModule",{value:!0});var i=Rr(),e=s(i),t=CM(),n=s(t);function s(p){return p&&p.__esModule?p:{default:p}}function a(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function o(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){c(m,p);function m(){var y,A,_,S;a(this,m);for(var T=arguments.length,E=Array(T),b=0;b<T;b++)E[b]=arguments[b];return S=(A=(_=o(this,(y=m.__proto__||Object.getPrototypeOf(m)).call.apply(y,[this].concat(E))),_),_.render=function(){return e.default.createElement("a",_.props,_.props.children)},A),o(_,S)}return m}(e.default.Component);return iv.default=(0,n.default)(h),iv}var dv={},TC;function AP(){if(TC)return dv;TC=1,Object.defineProperty(dv,"__esModule",{value:!0});var i=function(){function m(y,A){for(var _=0;_<A.length;_++){var S=A[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,A,_){return A&&m(y.prototype,A),_&&m(y,_),y}}(),e=Rr(),t=a(e),n=CM(),s=a(n);function a(m){return m&&m.__esModule?m:{default:m}}function o(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=function(m){h(y,m);function y(){return o(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"render",value:function(){return t.default.createElement("button",this.props,this.props.children)}}]),y}(t.default.Component);return dv.default=(0,s.default)(p),dv}var pv={},mv={},CC;function oD(){if(CC)return mv;CC=1,Object.defineProperty(mv,"__esModule",{value:!0});var i=Object.assign||function(_){for(var S=1;S<arguments.length;S++){var T=arguments[S];for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(_[E]=T[E])}return _},e=function(){function _(S,T){for(var E=0;E<T.length;E++){var b=T[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,T,E){return T&&_(S.prototype,T),E&&_(S,E),S}}(),t=Rr(),n=p(t),s=bM();p(s);var a=z_(),o=p(a),c=sy(),h=p(c);function p(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function y(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function A(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}return mv.default=function(_){var S=function(T){A(E,T);function E(b){m(this,E);var w=y(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,b));return w.childBindings={domNode:null},w}return e(E,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(w){this.props.name!==w.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;o.default.unregister(this.props.name)}},{key:"registerElems",value:function(w){o.default.register(w,this.childBindings.domNode)}},{key:"render",value:function(){return n.default.createElement(_,i({},this.props,{parentBindings:this.childBindings}))}}]),E}(n.default.Component);return S.propTypes={name:h.default.string,id:h.default.string},S},mv}var RC;function _P(){if(RC)return pv;RC=1,Object.defineProperty(pv,"__esModule",{value:!0});var i=Object.assign||function(_){for(var S=1;S<arguments.length;S++){var T=arguments[S];for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(_[E]=T[E])}return _},e=function(){function _(S,T){for(var E=0;E<T.length;E++){var b=T[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,T,E){return T&&_(S.prototype,T),E&&_(S,E),S}}(),t=Rr(),n=h(t),s=oD(),a=h(s),o=sy(),c=h(o);function h(_){return _&&_.__esModule?_:{default:_}}function p(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function m(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function y(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var A=function(_){y(S,_);function S(){return p(this,S),m(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return e(S,[{key:"render",value:function(){var E=this,b=i({},this.props);return delete b.name,b.parentBindings&&delete b.parentBindings,n.default.createElement("div",i({},b,{ref:function(B){E.props.parentBindings.domNode=B}}),this.props.children)}}]),S}(n.default.Component);return A.propTypes={name:c.default.string,id:c.default.string},pv.default=(0,a.default)(A),pv}var DS,wC;function xP(){if(wC)return DS;wC=1;var i=Object.assign||function(A){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(A[T]=S[T])}return A},e=function(){function A(_,S){for(var T=0;T<S.length;T++){var E=S[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,S,T){return S&&A(_.prototype,S),T&&A(_,T),_}}();function t(A,_){if(!(A instanceof _))throw new TypeError("Cannot call a class as a function")}function n(A,_){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:A}function s(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);A.prototype=Object.create(_&&_.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(A,_):A.__proto__=_)}var a=Rr();bM(),F_();var o=EM(),c=z_(),h=sy(),p=rD(),m={to:h.string.isRequired,containerId:h.string,container:h.object,activeClass:h.string,spy:h.bool,smooth:h.oneOfType([h.bool,h.string]),offset:h.number,delay:h.number,isDynamic:h.bool,onClick:h.func,duration:h.oneOfType([h.number,h.func]),absolute:h.bool,onSetActive:h.func,onSetInactive:h.func,ignoreCancelEvents:h.bool,hashSpy:h.bool,spyThrottle:h.number},y={Scroll:function(_,S){console.warn("Helpers.Scroll is deprecated since v1.7.0");var T=S||c,E=function(w){s(B,w);function B(D){t(this,B);var U=n(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,D));return b.call(U),U.state={active:!1},U}return e(B,[{key:"getScrollSpyContainer",value:function(){var U=this.props.containerId,P=this.props.container;return U?document.getElementById(U):P&&P.nodeType?P:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var U=this.getScrollSpyContainer();o.isMounted(U)||o.mount(U,this.props.spyThrottle),this.props.hashSpy&&(p.isMounted()||p.mount(T),p.mapContainer(this.props.to,U)),this.props.spy&&o.addStateHandler(this.stateHandler),o.addSpyHandler(this.spyHandler,U),this.setState({container:U})}}},{key:"componentWillUnmount",value:function(){o.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var U="";this.state&&this.state.active?U=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():U=this.props.className;var P=i({},this.props);for(var F in m)P.hasOwnProperty(F)&&delete P[F];return P.className=U,P.onClick=this.handleClick,a.createElement(_,P)}}]),B}(a.Component),b=function(){var B=this;this.scrollTo=function(D,U){T.scrollTo(D,i({},B.state,U))},this.handleClick=function(D){B.props.onClick&&B.props.onClick(D),D.stopPropagation&&D.stopPropagation(),D.preventDefault&&D.preventDefault(),B.scrollTo(B.props.to,B.props)},this.stateHandler=function(){T.getActiveLink()!==B.props.to&&(B.state!==null&&B.state.active&&B.props.onSetInactive&&B.props.onSetInactive(),B.setState({active:!1}))},this.spyHandler=function(D){var U=B.getScrollSpyContainer();if(!(p.isMounted()&&!p.isInitialized())){var P=B.props.to,F=null,H=0,N=0,L=0;if(U.getBoundingClientRect){var G=U.getBoundingClientRect();L=G.top}if(!F||B.props.isDynamic){if(F=T.get(P),!F)return;var W=F.getBoundingClientRect();H=W.top-L+D,N=H+W.height}var K=D-B.props.offset,$=K>=Math.floor(H)&&K<Math.floor(N),ge=K<Math.floor(H)||K>=Math.floor(N),ee=T.getActiveLink();if(ge)return P===ee&&T.setActiveLink(void 0),B.props.hashSpy&&p.getHash()===P&&p.changeHash(),B.props.spy&&B.state.active&&(B.setState({active:!1}),B.props.onSetInactive&&B.props.onSetInactive()),o.updateStates();if($&&ee!==P)return T.setActiveLink(P),B.props.hashSpy&&p.changeHash(P),B.props.spy&&(B.setState({active:!0}),B.props.onSetActive&&B.props.onSetActive(P)),o.updateStates()}}};return E.propTypes=m,E.defaultProps={offset:0},E},Element:function(_){console.warn("Helpers.Element is deprecated since v1.7.0");var S=function(T){s(E,T);function E(b){t(this,E);var w=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,b));return w.childBindings={domNode:null},w}return e(E,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(w){this.props.name!==w.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;c.unregister(this.props.name)}},{key:"registerElems",value:function(w){c.register(w,this.childBindings.domNode)}},{key:"render",value:function(){return a.createElement(_,i({},this.props,{parentBindings:this.childBindings}))}}]),E}(a.Component);return S.propTypes={name:h.string,id:h.string},S}};return DS=y,DS}var BC;function SP(){if(BC)return li;BC=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Helpers=li.ScrollElement=li.ScrollLink=li.animateScroll=li.scrollSpy=li.Events=li.scroller=li.Element=li.Button=li.Link=void 0;var i=vP(),e=D(i),t=AP(),n=D(t),s=_P(),a=D(s),o=z_(),c=D(o),h=TM(),p=D(h),m=EM(),y=D(m),A=aD(),_=D(A),S=CM(),T=D(S),E=oD(),b=D(E),w=xP(),B=D(w);function D(U){return U&&U.__esModule?U:{default:U}}return li.Link=e.default,li.Button=n.default,li.Element=a.default,li.scroller=c.default,li.Events=p.default,li.scrollSpy=y.default,li.animateScroll=_.default,li.ScrollLink=T.default,li.ScrollElement=b.default,li.Helpers=B.default,li.default={Link:e.default,Button:n.default,Element:a.default,scroller:c.default,Events:p.default,scrollSpy:y.default,animateScroll:_.default,ScrollLink:T.default,ScrollElement:b.default,Helpers:B.default},li}var xu=SP();function bP(){const[i,e]=Me.useState(!1),{theme:t}=Me.useContext(sD),[n,s]=Me.useState("Home"),a=()=>{e(c=>!c),console.log("Sidebar is now",i?"closed":"open")},o=c=>{s(c),a()};return le.jsxs("div",{children:[le.jsx("button",{className:"menu-icon",onClick:a,children:"☰"}),le.jsxs("div",{className:`sidebar ${t} ${i?"open":""}`,children:[le.jsx("button",{className:"close-btn",onClick:a,children:"✖"}),le.jsxs("nav",{children:[le.jsx(xu.Link,{to:"Home",smooth:!0,duration:500,onClick:()=>o("Home"),className:n==="Home"?"active":"",children:"Home"}),le.jsx(xu.Link,{to:"Skills",smooth:!0,duration:500,onClick:()=>o("Skills"),className:n==="Skills"?"active":"",children:"Skills"}),le.jsx(xu.Link,{to:"Qualification",smooth:!0,duration:500,onClick:()=>o("Qualification"),className:n==="Qualification"?"active":"",children:"Qualification"}),le.jsx(xu.Link,{to:"Experience",smooth:!0,duration:500,onClick:()=>o("Experience"),className:n==="Experience"?"active":"",children:"Experience"}),le.jsx(xu.Link,{to:"Services",smooth:!0,duration:500,onClick:()=>o("Services"),className:n==="Services"?"active":"",children:"Services"}),le.jsx(xu.Link,{to:"About",smooth:!0,duration:500,onClick:()=>o("About"),className:n==="About"?"active":"",children:"About me"}),le.jsx(xu.Link,{to:"Contact",smooth:!0,duration:500,onClick:()=>o("Contact"),className:n==="Contact"?"active":"",children:"Contact me"})]})]})]})}const lD=Me.createContext({});function sp(i){const e=Me.useRef(null);return e.current===null&&(e.current=i()),e.current}const RM=typeof window<"u",H_=RM?Me.useLayoutEffect:Me.useEffect,wM=Me.createContext(null),G_=Me.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function MP(i=!0){const e=Me.useContext(wM);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,a=Me.useId();Me.useEffect(()=>{if(i)return s(a)},[i]);const o=Me.useCallback(()=>i&&n&&n(a),[a,n,i]);return!t&&n?[!1,o]:[!0]}function BM(i,e){i.indexOf(e)===-1&&i.push(e)}function DM(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let EP=()=>{},cD=()=>{};const TP={useManualTiming:!1};function OM(i){let e;return()=>(e===void 0&&(e=i()),e)}const Na=i=>i,ap=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class LM{constructor(){this.subscriptions=[]}add(e){return BM(this.subscriptions,e),()=>DM(this.subscriptions,e)}notify(e,t,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pl=i=>i*1e3,ml=i=>i/1e3;function NM(i,e){return e?i*(1e3/e):0}const uD=OM(()=>window.ScrollTimeline!==void 0);class CP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(s=>{if(uD()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class RP extends CP{then(e,t){return this.finished.finally(e).then(()=>{})}}const UM=i=>Array.isArray(i)&&typeof i[0]=="number",wP={};function BP(i,e){const t=OM(i);return()=>wP[e]??t()}const Ug=BP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fD=(i,e,t=10)=>{let n="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)n+=i(a/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},fg=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,ob={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fg([0,.65,.55,1]),circOut:fg([.55,0,1,.45]),backIn:fg([.31,.01,.66,-.59]),backOut:fg([.33,1.53,.69,.99])};function hD(i,e){if(i)return typeof i=="function"&&Ug()?fD(i,e):UM(i)?fg(i):Array.isArray(i)?i.map(t=>hD(t,e)||ob.easeOut):ob[i]}function DP(i,e,t,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:c="easeInOut",times:h}={},p=void 0){const m={[e]:t};h&&(m.offset=h);const y=hD(c,s);return Array.isArray(y)&&(m.easing=y),i.animate(m,{delay:n,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal",pseudoElement:p})}function PM(i){return typeof i=="function"&&"applyToOptions"in i}function IM(i,e){return(i==null?void 0:i[e])??(i==null?void 0:i.default)??i}const LA=2e4;function FM(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<LA;)e+=t,n=i.next(e);return e>=LA?1/0:e}function OP(i,e=100,t){const n=t({...i,keyframes:[0,e]}),s=Math.min(FM(n),LA);return{type:"keyframes",ease:a=>n.next(s*a).value/e,duration:ml(s)}}function dD(i){return!!(typeof i=="function"&&Ug()||!i||typeof i=="string"&&(i in ob||Ug())||UM(i)||Array.isArray(i)&&i.every(dD))}function DC(i,e){i.timeline=e,i.onfinish=null}const gv=["read","resolveKeyframes","update","preRender","render","postRender"];function LP(i,e){let t=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){o.has(m)&&(p.schedule(m),i()),m(c)}const p={schedule:(m,y=!1,A=!1)=>{const S=A&&s?t:n;return y&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[t,n]=[n,t],t.forEach(h),t.clear(),s=!1,a&&(a=!1,p.process(m))}};return p}const NP=40;function pD(i,e){let t=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,o=gv.reduce((b,w)=>(b[w]=LP(a),b),{}),{read:c,resolveKeyframes:h,update:p,preRender:m,render:y,postRender:A}=o,_=()=>{const b=performance.now();t=!1,s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,NP),1),s.timestamp=b,s.isProcessing=!0,c.process(s),h.process(s),p.process(s),m.process(s),y.process(s),A.process(s),s.isProcessing=!1,t&&e&&(n=!1,i(_))},S=()=>{t=!0,n=!0,s.isProcessing||i(_)};return{schedule:gv.reduce((b,w)=>{const B=o[w];return b[w]=(D,U=!1,P=!1)=>(t||S(),B.schedule(D,U,P)),b},{}),cancel:b=>{for(let w=0;w<gv.length;w++)o[gv[w]].cancel(b)},state:s,steps:o}}const{schedule:wn,cancel:Ao,state:ms,steps:OS}=pD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Na,!0),{schedule:zM}=pD(queueMicrotask,!1);let yA;function UP(){yA=void 0}const gl={now:()=>(yA===void 0&&gl.set(ms.isProcessing||TP.useManualTiming?ms.timestamp:performance.now()),yA),set:i=>{yA=i,queueMicrotask(UP)}},po={x:!1,y:!1};function mD(){return po.x||po.y}function PP(i){return i==="x"||i==="y"?po[i]?null:(po[i]=!0,()=>{po[i]=!1}):po.x||po.y?null:(po.x=po.y=!0,()=>{po.x=po.y=!1})}function gD(i,e,t){if(i instanceof EventTarget)return[i];if(typeof i=="string"){const s=document.querySelectorAll(i);return s?Array.from(s):[]}return Array.from(i)}function yD(i,e){const t=gD(i),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[t,s,()=>n.abort()]}function OC(i){return!(i.pointerType==="touch"||mD())}function IP(i,e,t={}){const[n,s,a]=yD(i,t),o=c=>{if(!OC(c))return;const{target:h}=c,p=e(h,c);if(typeof p!="function"||!h)return;const m=y=>{OC(y)&&(p(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return n.forEach(c=>{c.addEventListener("pointerenter",o,s)}),a}const vD=(i,e)=>e?i===e?!0:vD(i,e.parentElement):!1,HM=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,FP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zP(i){return FP.has(i.tagName)||i.tabIndex!==-1}const hg=new WeakSet;function LC(i){return e=>{e.key==="Enter"&&i(e)}}function LS(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const HP=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=LC(()=>{if(hg.has(t))return;LS(t,"down");const s=LC(()=>{LS(t,"up")}),a=()=>LS(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function NC(i){return HM(i)&&!mD()}function GP(i,e,t={}){const[n,s,a]=yD(i,t),o=c=>{const h=c.currentTarget;if(!NC(c)||hg.has(h))return;hg.add(h);const p=e(h,c),m=(_,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",A),!(!NC(_)||!hg.has(h))&&(hg.delete(h),typeof p=="function"&&p(_,{success:S}))},y=_=>{m(_,h===window||h===document||t.useGlobalTarget||vD(h,_.target))},A=_=>{m(_,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",A,s)};return n.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),c instanceof HTMLElement&&(c.addEventListener("focus",p=>HP(p,s)),!zP(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}const UC=30,VP=i=>!isNaN(parseFloat(i)),yg={current:void 0};class kP{constructor(e,t={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=gl.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=gl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new LM);const n=this.events[e].add(t);return e==="change"?()=>{n(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return yg.current&&yg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=gl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>UC)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,UC);return NM(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fl(i,e){return new kP(i,e)}const AD=Me.createContext({strict:!1}),PC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rp={};for(const i in PC)rp[i]={isEnabled:e=>PC[i].some(t=>!!e[t])};function XP(i){for(const e in i)rp[e]={...rp[e],...i[e]}}const jP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function NA(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||jP.has(i)}let _D=i=>!NA(i);function YP(i){i&&(_D=e=>e.startsWith("on")?!NA(e):i(e))}try{YP(require("@emotion/is-prop-valid").default)}catch{}function qP(i,e,t){const n={};for(const s in i)s==="values"&&typeof i.values=="object"||(_D(s)||t===!0&&NA(s)||!e&&!NA(s)||i.draggable&&s.startsWith("onDrag"))&&(n[s]=i[s]);return n}function WP(i){if(typeof Proxy>"u")return i;const e=new Map,t=(...n)=>i(...n);return new Proxy(t,{get:(n,s)=>s==="create"?i:(e.has(s)||e.set(s,i(s)),e.get(s))})}const V_=Me.createContext({});function k_(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Pg(i){return typeof i=="string"||Array.isArray(i)}const GM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VM=["initial",...GM];function X_(i){return k_(i.animate)||VM.some(e=>Pg(i[e]))}function xD(i){return!!(X_(i)||i.variants)}function KP(i,e){if(X_(i)){const{initial:t,animate:n}=i;return{initial:t===!1||Pg(t)?t:void 0,animate:Pg(n)?n:void 0}}return i.inherit!==!1?e:{}}function JP(i){const{initial:e,animate:t}=KP(i,Me.useContext(V_));return Me.useMemo(()=>({initial:e,animate:t}),[IC(e),IC(t)])}function IC(i){return Array.isArray(i)?i.join(" "):i}const ZP=Symbol.for("motionComponentSymbol");function jd(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function QP(i,e,t){return Me.useCallback(n=>{n&&i.onMount&&i.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):jd(t)&&(t.current=n))},[e])}const kM=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$P="framerAppearId",SD="data-"+kM($P),bD=Me.createContext({});function eI(i,e,t,n,s){var T,E;const{visualElement:a}=Me.useContext(V_),o=Me.useContext(AD),c=Me.useContext(wM),h=Me.useContext(G_).reducedMotion,p=Me.useRef(null);n=n||o.renderer,!p.current&&n&&(p.current=n(i,{visualState:e,parent:a,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,y=Me.useContext(bD);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&tI(p.current,t,s,y);const A=Me.useRef(!1);Me.useInsertionEffect(()=>{m&&A.current&&m.update(t,c)});const _=t[SD],S=Me.useRef(!!_&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,_))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,_)));return H_(()=>{m&&(A.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),zM.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),Me.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,_)}),S.current=!1))}),m}function tI(i,e,t,n){const{layoutId:s,layout:a,drag:o,dragConstraints:c,layoutScroll:h,layoutRoot:p}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:MD(i.parent)),i.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||c&&jd(c),visualElement:i,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:h,layoutRoot:p})}function MD(i){if(i)return i.options.allowProjection!==!1?i.projection:MD(i.parent)}function nI({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:s}){i&&XP(i);function a(c,h){let p;const m={...Me.useContext(G_),...c,layoutId:iI(c)},{isStatic:y}=m,A=JP(c),_=n(c,y);if(!y&&RM){sI();const S=aI(m);p=S.MeasureLayout,A.visualElement=eI(s,_,m,e,S.ProjectionNode)}return le.jsxs(V_.Provider,{value:A,children:[p&&A.visualElement?le.jsx(p,{visualElement:A.visualElement,...m}):null,t(s,c,QP(_,A.visualElement,h),_,y,A.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=Me.forwardRef(a);return o[ZP]=s,o}function iI({layoutId:i}){const e=Me.useContext(lD).id;return e&&i!==void 0?e+"-"+i:i}function sI(i,e){Me.useContext(AD).strict}function aI(i){const{drag:e,layout:t}=rp;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(i)||t!=null&&t.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const ED=i=>e=>typeof e=="string"&&e.startsWith(i),XM=ED("--"),rI=ED("var(--"),jM=i=>rI(i)?oI.test(i.split("/*")[0].trim()):!1,oI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ig={};function lI(i){for(const e in i)Ig[e]=i[e],XM(e)&&(Ig[e].isCSSVariable=!0)}const Sp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sh=new Set(Sp);function TD(i,{layout:e,layoutId:t}){return Sh.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!Ig[i]||i==="opacity")}const gs=i=>!!(i&&i.getVelocity),CD=(i,e)=>e&&typeof i=="number"?e.transform(i):i,xl=(i,e,t)=>t>e?e:t<i?i:t,bp={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Fg={...bp,transform:i=>xl(0,1,i)},yv={...bp,default:1},ay=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),Su=ay("deg"),yl=ay("%"),zt=ay("px"),cI=ay("vh"),uI=ay("vw"),FC={...yl,parse:i=>yl.parse(i)/100,transform:i=>yl.transform(i*100)},fI={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt},hI={rotate:Su,rotateX:Su,rotateY:Su,rotateZ:Su,scale:yv,scaleX:yv,scaleY:yv,scaleZ:yv,skew:Su,skewX:Su,skewY:Su,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:Fg,originX:FC,originY:FC,originZ:zt},zC={...bp,transform:Math.round},YM={...fI,...hI,zIndex:zC,size:zt,fillOpacity:Fg,strokeOpacity:Fg,numOctaves:zC},dI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pI=Sp.length;function mI(i,e,t){let n="",s=!0;for(let a=0;a<pI;a++){const o=Sp[a],c=i[o];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(o.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||t){const p=CD(c,YM[o]);if(!h){s=!1;const m=dI[o]||o;n+=`${m}(${p}) `}t&&(e[o]=p)}}return n=n.trim(),t?n=t(e,s?"":n):s&&(n="none"),n}function qM(i,e,t){const{style:n,vars:s,transformOrigin:a}=i;let o=!1,c=!1;for(const h in e){const p=e[h];if(Sh.has(h)){o=!0;continue}else if(XM(h)){s[h]=p;continue}else{const m=CD(p,YM[h]);h.startsWith("origin")?(c=!0,a[h]=m):n[h]=m}}if(e.transform||(o||t?n.transform=mI(e,i.transform,t):n.transform&&(n.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;n.transformOrigin=`${h} ${p} ${m}`}}const WM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RD(i,e,t){for(const n in e)!gs(e[n])&&!TD(n,t)&&(i[n]=e[n])}function gI({transformTemplate:i},e){return Me.useMemo(()=>{const t=WM();return qM(t,e,i),Object.assign({},t.vars,t.style)},[e])}function yI(i,e){const t=i.style||{},n={};return RD(n,t,i),Object.assign(n,gI(i,e)),n}function vI(i,e){const t={},n=yI(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const AI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KM(i){return typeof i!="string"||i.includes("-")?!1:!!(AI.indexOf(i)>-1||/[A-Z]/u.test(i))}const _I={offset:"stroke-dashoffset",array:"stroke-dasharray"},xI={offset:"strokeDashoffset",array:"strokeDasharray"};function SI(i,e,t=1,n=0,s=!0){i.pathLength=1;const a=s?_I:xI;i[a.offset]=zt.transform(-n);const o=zt.transform(e),c=zt.transform(t);i[a.array]=`${o} ${c}`}function HC(i,e,t){return typeof i=="string"?i:zt.transform(e+t*i)}function bI(i,e,t){const n=HC(e,i.x,i.width),s=HC(t,i.y,i.height);return`${n} ${s}`}function JM(i,{attrX:e,attrY:t,attrScale:n,originX:s,originY:a,pathLength:o,pathSpacing:c=1,pathOffset:h=0,...p},m,y){if(qM(i,p,y),m){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:A,style:_,dimensions:S}=i;A.transform&&(S&&(_.transform=A.transform),delete A.transform),S&&(s!==void 0||a!==void 0||_.transform)&&(_.transformOrigin=bI(S,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(A.x=e),t!==void 0&&(A.y=t),n!==void 0&&(A.scale=n),o!==void 0&&SI(A,o,c,h,!1)}const wD=()=>({...WM(),attrs:{}}),ZM=i=>typeof i=="string"&&i.toLowerCase()==="svg";function MI(i,e,t,n){const s=Me.useMemo(()=>{const a=wD();return JM(a,e,ZM(n),i.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(i.style){const a={};RD(a,i.style,i),s.style={...a,...s.style}}return s}function EI(i=!1){return(t,n,s,{latestValues:a},o)=>{const h=(KM(t)?MI:vI)(n,a,o,t),p=qP(n,typeof t=="string",i),m=t!==Me.Fragment?{...p,...h,ref:s}:{},{children:y}=n,A=Me.useMemo(()=>gs(y)?y.get():y,[y]);return Me.createElement(t,{...m,children:A})}}function GC(i){const e=[{},{}];return i==null||i.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function QM(i,e,t,n){if(typeof e=="function"){const[s,a]=GC(n);e=e(t!==void 0?t:i.custom,s,a)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[s,a]=GC(n);e=e(t!==void 0?t:i.custom,s,a)}return e}const lb=i=>Array.isArray(i),TI=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),CI=i=>lb(i)?i[i.length-1]||0:i;function vA(i){const e=gs(i)?i.get():i;return TI(e)?e.toValue():e}function RI({scrapeMotionValuesFromProps:i,createRenderState:e,onUpdate:t},n,s,a){const o={latestValues:wI(n,s,a,i),renderState:e()};return t&&(o.onMount=c=>t({props:n,current:c,...o}),o.onUpdate=c=>t(c)),o}const BD=i=>(e,t)=>{const n=Me.useContext(V_),s=Me.useContext(wM),a=()=>RI(i,e,n,s);return t?a():sp(a)};function wI(i,e,t,n){const s={},a=n(i,{});for(const A in a)s[A]=vA(a[A]);let{initial:o,animate:c}=i;const h=X_(i),p=xD(i);e&&p&&!h&&i.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const y=m?c:o;if(y&&typeof y!="boolean"&&!k_(y)){const A=Array.isArray(y)?y:[y];for(let _=0;_<A.length;_++){const S=QM(i,A[_]);if(S){const{transitionEnd:T,transition:E,...b}=S;for(const w in b){let B=b[w];if(Array.isArray(B)){const D=m?B.length-1:0;B=B[D]}B!==null&&(s[w]=B)}for(const w in T)s[w]=T[w]}}}return s}function $M(i,e,t){var a;const{style:n}=i,s={};for(const o in n)(gs(n[o])||e.style&&gs(e.style[o])||TD(o,i)||((a=t==null?void 0:t.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const BI={useVisualState:BD({scrapeMotionValuesFromProps:$M,createRenderState:WM})};function DD(i,e){try{e.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function OD(i,{style:e,vars:t},n,s){Object.assign(i.style,e,s&&s.getProjectionStyles(n));for(const a in t)i.style.setProperty(a,t[a])}const LD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ND(i,e,t,n){OD(i,e,void 0,n);for(const s in e.attrs)i.setAttribute(LD.has(s)?s:kM(s),e.attrs[s])}function UD(i,e,t){const n=$M(i,e,t);for(const s in i)if(gs(i[s])||gs(e[s])){const a=Sp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=i[s]}return n}const VC=["x","y","width","height","cx","cy","r"],DI={useVisualState:BD({scrapeMotionValuesFromProps:UD,createRenderState:wD,onUpdate:({props:i,prevProps:e,current:t,renderState:n,latestValues:s})=>{if(!t)return;let a=!!i.drag;if(!a){for(const c in s)if(Sh.has(c)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let c=0;c<VC.length;c++){const h=VC[c];i[h]!==e[h]&&(o=!0)}o&&wn.read(()=>{DD(t,n),wn.render(()=>{JM(n,s,ZM(t.tagName),i.transformTemplate),ND(t,n)})})}})};function OI(i,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...KM(n)?DI:BI,preloadedFeatures:i,useRender:EI(s),createVisualElement:e,Component:n};return nI(o)}}function zg(i,e,t){const n=i.getProps();return QM(n,e,t!==void 0?t:n.custom,i)}const PD=new Set(["width","height","top","left","right","bottom",...Sp]);function LI(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,fl(t))}function NI(i,e){const t=zg(i,e);let{transitionEnd:n={},transition:s={},...a}=t||{};a={...a,...n};for(const o in a){const c=CI(a[o]);LI(i,o,c)}}function UI(i){return!!(gs(i)&&i.add)}function cb(i,e){const t=i.getValue("willChange");if(UI(t))return t.add(e)}function ID(i){return i.props[SD]}const FD=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,PI=1e-7,II=12;function FI(i,e,t,n,s){let a,o,c=0;do o=e+(t-e)/2,a=FD(o,n,s)-i,a>0?t=o:e=o;while(Math.abs(a)>PI&&++c<II);return o}function ry(i,e,t,n){if(i===e&&t===n)return Na;const s=a=>FI(a,0,1,i,t);return a=>a===0||a===1?a:FD(s(a),e,n)}const zD=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,HD=i=>e=>1-i(1-e),GD=ry(.33,1.53,.69,.99),eE=HD(GD),VD=zD(eE),kD=i=>(i*=2)<1?.5*eE(i):.5*(2-Math.pow(2,-10*(i-1))),tE=i=>1-Math.sin(Math.acos(i)),XD=HD(tE),jD=zD(tE),YD=i=>/^0[^.\s]+$/u.test(i);function zI(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||YD(i):!0}const vg=i=>Math.round(i*1e5)/1e5,nE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HI(i){return i==null}const GI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iE=(i,e)=>t=>!!(typeof t=="string"&&GI.test(t)&&t.startsWith(i)||e&&!HI(t)&&Object.prototype.hasOwnProperty.call(t,e)),qD=(i,e,t)=>n=>{if(typeof n!="string")return n;const[s,a,o,c]=n.match(nE);return{[i]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},VI=i=>xl(0,255,i),NS={...bp,transform:i=>Math.round(VI(i))},Zf={test:iE("rgb","red"),parse:qD("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+NS.transform(i)+", "+NS.transform(e)+", "+NS.transform(t)+", "+vg(Fg.transform(n))+")"};function kI(i){let e="",t="",n="",s="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),s=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),s=i.substring(4,5),e+=e,t+=t,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const ub={test:iE("#"),parse:kI,transform:Zf.transform},Yd={test:iE("hsl","hue"),parse:qD("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+yl.transform(vg(e))+", "+yl.transform(vg(t))+", "+vg(Fg.transform(n))+")"},js={test:i=>Zf.test(i)||ub.test(i)||Yd.test(i),parse:i=>Zf.test(i)?Zf.parse(i):Yd.test(i)?Yd.parse(i):ub.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Zf.transform(i):Yd.transform(i)},XI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jI(i){var e,t;return isNaN(i)&&typeof i=="string"&&(((e=i.match(nE))==null?void 0:e.length)||0)+(((t=i.match(XI))==null?void 0:t.length)||0)>0}const WD="number",KD="color",YI="var",qI="var(",kC="${}",WI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hg(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(WI,h=>(js.test(h)?(n.color.push(a),s.push(KD),t.push(js.parse(h))):h.startsWith(qI)?(n.var.push(a),s.push(YI),t.push(h)):(n.number.push(a),s.push(WD),t.push(parseFloat(h))),++a,kC)).split(kC);return{values:t,split:c,indexes:n,types:s}}function JD(i){return Hg(i).values}function ZD(i){const{split:e,types:t}=Hg(i),n=e.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],s[o]!==void 0){const c=t[o];c===WD?a+=vg(s[o]):c===KD?a+=js.transform(s[o]):a+=s[o]}return a}}const KI=i=>typeof i=="number"?0:i;function JI(i){const e=JD(i);return ZD(i)(e.map(KI))}const Ru={test:jI,parse:JD,createTransformer:ZD,getAnimatableNone:JI},ZI=new Set(["brightness","contrast","saturate","opacity"]);function QI(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(nE)||[];if(!n)return i;const s=t.replace(n,"");let a=ZI.has(e)?1:0;return n!==t&&(a*=100),e+"("+a+s+")"}const $I=/\b([a-z-]*)\(.*?\)/gu,fb={...Ru,getAnimatableNone:i=>{const e=i.match($I);return e?e.map(QI).join(" "):i}},e4={...YM,color:js,backgroundColor:js,outlineColor:js,fill:js,stroke:js,borderColor:js,borderTopColor:js,borderRightColor:js,borderBottomColor:js,borderLeftColor:js,filter:fb,WebkitFilter:fb},QD=i=>e4[i];function $D(i,e){let t=QD(i);return t!==fb&&(t=Ru),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const t4=new Set(["auto","none","0"]);function n4(i,e,t){let n=0,s;for(;n<i.length&&!s;){const a=i[n];typeof a=="string"&&!t4.has(a)&&Hg(a).values.length&&(s=i[n]),n++}if(s&&t)for(const a of e)i[a]=$D(t,s)}const Qf=i=>i*180/Math.PI,hb=i=>{const e=Qf(Math.atan2(i[1],i[0]));return db(e)},i4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:hb,rotateZ:hb,skewX:i=>Qf(Math.atan(i[1])),skewY:i=>Qf(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},db=i=>(i=i%360,i<0&&(i+=360),i),XC=hb,jC=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),YC=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),s4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jC,scaleY:YC,scale:i=>(jC(i)+YC(i))/2,rotateX:i=>db(Qf(Math.atan2(i[6],i[5]))),rotateY:i=>db(Qf(Math.atan2(-i[2],i[0]))),rotateZ:XC,rotate:XC,skewX:i=>Qf(Math.atan(i[4])),skewY:i=>Qf(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function qC(i){return i.includes("scale")?1:0}function pb(i,e){if(!i||i==="none")return qC(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(t)n=s4,s=t;else{const c=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=i4,s=c}if(!s)return qC(e);const a=n[e],o=s[1].split(",").map(r4);return typeof a=="function"?a(o):o[a]}const a4=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return pb(t,e)};function r4(i){return parseFloat(i.trim())}const WC=i=>i===bp||i===zt,o4=new Set(["x","y","z"]),l4=Sp.filter(i=>!o4.has(i));function c4(i){const e=[];return l4.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const op={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>pb(e,"x"),y:(i,{transform:e})=>pb(e,"y")};op.translateX=op.x;op.translateY=op.y;const oh=new Set;let mb=!1,gb=!1;function e3(){if(gb){const i=Array.from(oh).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const s=c4(n);s.length&&(t.set(n,s),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=t.get(n);s&&s.forEach(([a,o])=>{var c;(c=n.getValue(a))==null||c.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gb=!1,mb=!1,oh.forEach(i=>i.complete()),oh.clear()}function t3(){oh.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(gb=!0)})}function u4(){t3(),e3()}class sE{constructor(e,t,n,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(oh.add(this),mb||(mb=!0,wn.read(t3),wn.resolveKeyframes(e3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=s==null?void 0:s.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&t){const h=n.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),s&&o===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),oh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,oh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const n3=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),f4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h4(i){const e=f4.exec(i);if(!e)return[,];const[,t,n,s]=e;return[`--${t??n}`,s]}function i3(i,e,t=1){const[n,s]=h4(i);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return n3(o)?parseFloat(o):o}return jM(s)?i3(s,e,t+1):s}const s3=i=>e=>e.test(i),d4={test:i=>i==="auto",parse:i=>i},a3=[bp,zt,yl,Su,uI,cI,d4],KC=i=>a3.find(s3(i));class r3 extends sE{constructor(e,t,n,s,a){super(e,t,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),jM(p))){const m=i3(p,t.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!PD.has(n)||e.length!==2)return;const[s,a]=e,o=KC(s),c=KC(a);if(o!==c)if(WC(o)&&WC(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)zI(e[s])&&n.push(s);n.length&&n4(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=op[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=op[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const JC=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ru.test(i)||i==="0")&&!i.startsWith("url("));function p4(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function m4(i,e,t,n){const s=i[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=i[i.length-1],o=JC(s,e),c=JC(a,e);return!o||!c?!1:p4(i)||(t==="spring"||PM(t))&&n}const g4=i=>i!==null;function j_(i,{repeat:e,repeatType:t="loop"},n){const s=i.filter(g4),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const y4=40;class o3{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gl.now(),this.options={autoplay:e,delay:t,type:n,repeat:s,repeatDelay:a,repeatType:o,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>y4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&u4(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=gl.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:o,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!m4(e,n,s,a))if(o)this.options.duration=0;else{h&&h(j_(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xi=(i,e,t)=>i+(e-i)*t;function US(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function v4({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let s=0,a=0,o=0;if(!e)s=a=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,h=2*t-c;s=US(h,c,i+1/3),a=US(h,c,i),o=US(h,c,i-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function UA(i,e){return t=>t>0?e:i}const PS=(i,e,t)=>{const n=i*i,s=t*(e*e-n)+n;return s<0?0:Math.sqrt(s)},A4=[ub,Zf,Yd],_4=i=>A4.find(e=>e.test(i));function ZC(i){const e=_4(i);if(!e)return!1;let t=e.parse(i);return e===Yd&&(t=v4(t)),t}const QC=(i,e)=>{const t=ZC(i),n=ZC(e);if(!t||!n)return UA(i,e);const s={...t};return a=>(s.red=PS(t.red,n.red,a),s.green=PS(t.green,n.green,a),s.blue=PS(t.blue,n.blue,a),s.alpha=xi(t.alpha,n.alpha,a),Zf.transform(s))},x4=(i,e)=>t=>e(i(t)),oy=(...i)=>i.reduce(x4),yb=new Set(["none","hidden"]);function S4(i,e){return yb.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function b4(i,e){return t=>xi(i,e,t)}function aE(i){return typeof i=="number"?b4:typeof i=="string"?jM(i)?UA:js.test(i)?QC:T4:Array.isArray(i)?l3:typeof i=="object"?js.test(i)?QC:M4:UA}function l3(i,e){const t=[...i],n=t.length,s=i.map((a,o)=>aE(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)t[o]=s[o](a);return t}}function M4(i,e){const t={...i,...e},n={};for(const s in t)i[s]!==void 0&&e[s]!==void 0&&(n[s]=aE(i[s])(i[s],e[s]));return s=>{for(const a in n)t[a]=n[a](s);return t}}function E4(i,e){const t=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=i.indexes[a][n[a]],c=i.values[o]??0;t[s]=c,n[a]++}return t}const T4=(i,e)=>{const t=Ru.createTransformer(e),n=Hg(i),s=Hg(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?yb.has(i)&&!s.values.length||yb.has(e)&&!n.values.length?S4(i,e):oy(l3(E4(n,s),s.values),t):UA(i,e)};function c3(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?xi(i,e,t):aE(i)(i,e)}const C4=5;function u3(i,e,t){const n=Math.max(e-C4,0);return NM(t-i(n),e-n)}const Li={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$C=.001;function R4({duration:i=Li.duration,bounce:e=Li.bounce,velocity:t=Li.velocity,mass:n=Li.mass}){let s,a,o=1-e;o=xl(Li.minDamping,Li.maxDamping,o),i=xl(Li.minDuration,Li.maxDuration,ml(i)),o<1?(s=p=>{const m=p*o,y=m*i,A=m-t,_=vb(p,o),S=Math.exp(-y);return $C-A/_*S},a=p=>{const y=p*o*i,A=y*t+t,_=Math.pow(o,2)*Math.pow(p,2)*i,S=Math.exp(-y),T=vb(Math.pow(p,2),o);return(-s(p)+$C>0?-1:1)*((A-_)*S)/T}):(s=p=>{const m=Math.exp(-p*i),y=(p-t)*i+1;return-.001+m*y},a=p=>{const m=Math.exp(-p*i),y=(t-p)*(i*i);return m*y});const c=5/i,h=B4(s,a,c);if(i=pl(i),isNaN(h))return{stiffness:Li.stiffness,damping:Li.damping,duration:i};{const p=Math.pow(h,2)*n;return{stiffness:p,damping:o*2*Math.sqrt(n*p),duration:i}}}const w4=12;function B4(i,e,t){let n=t;for(let s=1;s<w4;s++)n=n-i(n)/e(n);return n}function vb(i,e){return i*Math.sqrt(1-e*e)}const D4=["duration","bounce"],O4=["stiffness","damping","mass"];function e2(i,e){return e.some(t=>i[t]!==void 0)}function L4(i){let e={velocity:Li.velocity,stiffness:Li.stiffness,damping:Li.damping,mass:Li.mass,isResolvedFromDuration:!1,...i};if(!e2(i,O4)&&e2(i,D4))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),s=n*n,a=2*xl(.05,1,1-(i.bounce||0))*Math.sqrt(s);e={...e,mass:Li.mass,stiffness:s,damping:a}}else{const t=R4(i);e={...e,...t,mass:Li.mass},e.isResolvedFromDuration=!0}return e}function PA(i=Li.visualDuration,e=Li.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:s}=t;const a=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:p,mass:m,duration:y,velocity:A,isResolvedFromDuration:_}=L4({...t,velocity:-ml(t.velocity||0)}),S=A||0,T=p/(2*Math.sqrt(h*m)),E=o-a,b=ml(Math.sqrt(h/m)),w=Math.abs(E)<5;n||(n=w?Li.restSpeed.granular:Li.restSpeed.default),s||(s=w?Li.restDelta.granular:Li.restDelta.default);let B;if(T<1){const U=vb(b,T);B=P=>{const F=Math.exp(-T*b*P);return o-F*((S+T*b*E)/U*Math.sin(U*P)+E*Math.cos(U*P))}}else if(T===1)B=U=>o-Math.exp(-b*U)*(E+(S+b*E)*U);else{const U=b*Math.sqrt(T*T-1);B=P=>{const F=Math.exp(-T*b*P),H=Math.min(U*P,300);return o-F*((S+T*b*E)*Math.sinh(H)+U*E*Math.cosh(H))/U}}const D={calculatedDuration:_&&y||null,next:U=>{const P=B(U);if(_)c.done=U>=y;else{let F=0;T<1&&(F=U===0?pl(S):u3(B,U,P));const H=Math.abs(F)<=n,N=Math.abs(o-P)<=s;c.done=H&&N}return c.value=c.done?o:P,c},toString:()=>{const U=Math.min(FM(D),LA),P=fD(F=>D.next(U*F).value,U,30);return U+"ms "+P},toTransition:()=>{}};return D}PA.applyToOptions=i=>{const e=OP(i,100,PA);return i.ease=Ug()?e.ease:"easeOut",i.duration=pl(e.duration),i.type="keyframes",i};function t2({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:h,restDelta:p=.5,restSpeed:m}){const y=i[0],A={done:!1,value:y},_=H=>c!==void 0&&H<c||h!==void 0&&H>h,S=H=>c===void 0?h:h===void 0||Math.abs(c-H)<Math.abs(h-H)?c:h;let T=t*e;const E=y+T,b=o===void 0?E:o(E);b!==E&&(T=b-y);const w=H=>-T*Math.exp(-H/n),B=H=>b+w(H),D=H=>{const N=w(H),L=B(H);A.done=Math.abs(N)<=p,A.value=A.done?b:L};let U,P;const F=H=>{_(A.value)&&(U=H,P=PA({keyframes:[A.value,S(A.value)],velocity:u3(B,H,A.value),damping:s,stiffness:a,restDelta:p,restSpeed:m}))};return F(0),{calculatedDuration:null,next:H=>{let N=!1;return!P&&U===void 0&&(N=!0,D(H),F(H)),U!==void 0&&H>=U?P.next(H-U):(!N&&D(H),A)}}}const N4=ry(.42,0,1,1),U4=ry(0,0,.58,1),f3=ry(.42,0,.58,1),P4=i=>Array.isArray(i)&&typeof i[0]!="number",I4={linear:Na,easeIn:N4,easeInOut:f3,easeOut:U4,circIn:tE,circInOut:jD,circOut:XD,backIn:eE,backInOut:VD,backOut:GD,anticipate:kD},n2=i=>{if(UM(i)){cD(i.length===4);const[e,t,n,s]=i;return ry(e,t,n,s)}else if(typeof i=="string")return I4[i];return i};function F4(i,e,t){const n=[],s=t||c3,a=i.length-1;for(let o=0;o<a;o++){let c=s(i[o],i[o+1]);if(e){const h=Array.isArray(e)?e[o]||Na:e;c=oy(h,c)}n.push(c)}return n}function rE(i,e,{clamp:t=!0,ease:n,mixer:s}={}){const a=i.length;if(cD(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=i[0]===i[1];i[0]>i[a-1]&&(i=[...i].reverse(),e=[...e].reverse());const c=F4(e,n,s),h=c.length,p=m=>{if(o&&m<i[0])return e[0];let y=0;if(h>1)for(;y<i.length-2&&!(m<i[y+1]);y++);const A=ap(i[y],i[y+1],m);return c[y](A)};return t?m=>p(xl(i[0],i[a-1],m)):p}function z4(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const s=ap(0,e,n);i.push(xi(t,1,s))}}function h3(i){const e=[0];return z4(e,i.length-1),e}function H4(i,e){return i.map(t=>t*e)}function G4(i,e){return i.map(()=>e||f3).splice(0,i.length-1)}function IA({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const s=P4(n)?n.map(n2):n2(n),a={done:!1,value:e[0]},o=H4(t&&t.length===e.length?t:h3(e),i),c=rE(o,e,{ease:Array.isArray(s)?s:G4(e,s)});return{calculatedDuration:i,next:h=>(a.value=c(h),a.done=h>=i,a)}}const V4=i=>{const e=({timestamp:t})=>i(t);return{start:()=>wn.update(e,!0),stop:()=>Ao(e),now:()=>ms.isProcessing?ms.timestamp:gl.now()}},k4={decay:t2,inertia:t2,tween:IA,keyframes:IA,spring:PA},X4=i=>i/100;class Y_ extends o3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:n,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||sE,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new o(a,c,t,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,c=PM(t)?t:k4[t]||IA;let h,p;c!==IA&&typeof e[0]!="number"&&(h=oy(X4,c3(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=FM(m));const{calculatedDuration:y}=m,A=y+s,_=A*(n+1)-s;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:A,totalDuration:_}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:H}=this.options;return{done:!0,value:H[H.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:m,resolvedDuration:y}=n;if(this.startTime===null)return a.next(0);const{delay:A,repeat:_,repeatType:S,repeatDelay:T,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-A*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>m;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,D=a;if(_){const H=Math.min(this.currentTime,m)/y;let N=Math.floor(H),L=H%1;!L&&H>=1&&(L=1),L===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(S==="reverse"?(L=1-L,T&&(L-=T/y)):S==="mirror"&&(D=o)),B=xl(0,1,L)*y}const U=w?{done:!1,value:h[0]}:D.next(B);c&&(U.value=c(U.value));let{done:P}=U;!w&&p!==null&&(P=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return F&&s!==void 0&&(U.value=j_(h,this.options,s)),E&&E(U.value),F&&this.finish(),U}get duration(){const{resolved:e}=this;return e?ml(e.calculatedDuration):0}get time(){return ml(this.currentTime)}set time(e){e=pl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ml(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=V4,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}function j4(i){return new Y_(i)}const Y4=new Set(["opacity","clipPath","filter","transform"]),q4=OM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),FA=10,W4=2e4;function K4(i){return PM(i.type)||i.type==="spring"||!dD(i.ease)}function J4(i,e){const t=new Y_({...e,keyframes:i,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:i[0]};const s=[];let a=0;for(;!n.done&&a<W4;)n=t.sample(a),s.push(n.value),a+=FA;return{times:void 0,keyframes:s,duration:a-FA,ease:"linear"}}const d3={anticipate:kD,backInOut:VD,circInOut:jD};function Z4(i){return i in d3}class i2 extends o3{constructor(e){super(e);const{name:t,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new r3(a,(o,c)=>this.onKeyframesResolved(o,c),t,n,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:s,ease:a,type:o,motionValue:c,name:h,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Ug()&&Z4(a)&&(a=d3[a]),K4(this.options)){const{onComplete:y,onUpdate:A,motionValue:_,element:S,...T}=this.options,E=J4(e,T);e=E.keyframes,e.length===1&&(e[1]=e[0]),n=E.duration,s=E.times,a=E.ease,o="keyframes"}const m=DP(c.owner.current,h,e,{...this.options,duration:n,times:s,ease:a});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(DC(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;c.set(j_(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:n,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ml(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ml(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=pl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Na;const{animation:n}=t;DC(n,e)}return Na}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:s,type:a,ease:o,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:y,element:A,..._}=this.options,S=new Y_({..._,keyframes:n,duration:s,type:a,ease:o,times:c,isGenerator:!0}),T=pl(this.time);p.setWithVelocity(S.sample(T-FA).value,S.sample(T).value,FA)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:o,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=t.owner.getProps();return q4()&&n&&Y4.has(n)&&(n!=="transform"||!p)&&!h&&!s&&a!=="mirror"&&o!==0&&c!=="inertia"}}const Q4={type:"spring",stiffness:500,damping:25,restSpeed:10},$4=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),eF={type:"keyframes",duration:.8},tF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nF=(i,{keyframes:e})=>e.length>2?eF:Sh.has(i)?i.startsWith("scale")?$4(e[1]):Q4:tF;function iF({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:c,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const oE=(i,e,t,n={},s,a)=>o=>{const c=IM(n,i)||{},h=c.delay||n.delay||0;let{elapsed:p=0}=n;p=p-pl(h);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:A=>{e.set(A),c.onUpdate&&c.onUpdate(A)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:i,motionValue:e,element:a?void 0:s};iF(c)||(m={...m,...nF(i,m)}),m.duration&&(m.duration=pl(m.duration)),m.repeatDelay&&(m.repeatDelay=pl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),m.allowFlatten=!c.type&&!c.ease,y&&!a&&e.get()!==void 0){const A=j_(m.keyframes,c);if(A!==void 0)return wn.update(()=>{m.onUpdate(A),m.onComplete()}),new RP([])}return!a&&i2.supports(m)?new i2(m):new Y_(m)};function sF({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function p3(i,e,{delay:t=0,transitionOverride:n,type:s}={}){let{transition:a=i.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(a=n);const h=[],p=s&&i.animationState&&i.animationState.getState()[s];for(const m in c){const y=i.getValue(m,i.latestValues[m]??null),A=c[m];if(A===void 0||p&&sF(p,m))continue;const _={delay:t,...IM(a||{},m)};let S=!1;if(window.MotionHandoffAnimation){const E=ID(i);if(E){const b=window.MotionHandoffAnimation(E,m,wn);b!==null&&(_.startTime=b,S=!0)}}cb(i,m),y.start(oE(m,y,A,i.shouldReduceMotion&&PD.has(m)?{type:!1}:_,i,S));const T=y.animation;T&&h.push(T)}return o&&Promise.all(h).then(()=>{wn.update(()=>{o&&NI(i,o)})}),h}function Ab(i,e,t={}){var h;const n=zg(i,e,t.type==="exit"?(h=i.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(s=t.transitionOverride);const a=n?()=>Promise.all(p3(i,n,t)):()=>Promise.resolve(),o=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:A}=s;return aF(i,e,m+p,y,A,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[p,m]=c==="beforeChildren"?[a,o]:[o,a];return p().then(()=>m())}else return Promise.all([a(),o(t.delay)])}function aF(i,e,t=0,n=0,s=1,a){const o=[],c=(i.variantChildren.size-1)*n,h=s===1?(p=0)=>p*n:(p=0)=>c-p*n;return Array.from(i.variantChildren).sort(rF).forEach((p,m)=>{p.notify("AnimationStart",e),o.push(Ab(p,e,{...a,delay:t+h(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(o)}function rF(i,e){return i.sortNodePosition(e)}function oF(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(a=>Ab(i,a,t));n=Promise.all(s)}else if(typeof e=="string")n=Ab(i,e,t);else{const s=typeof e=="function"?zg(i,e,t.custom):e;n=Promise.all(p3(i,s,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}function m3(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const lF=VM.length;function g3(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?g3(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<lF;t++){const n=VM[t],s=i.props[n];(Pg(s)||s===!1)&&(e[n]=s)}return e}const cF=[...GM].reverse(),uF=GM.length;function fF(i){return e=>Promise.all(e.map(({animation:t,options:n})=>oF(i,t,n)))}function hF(i){let e=fF(i),t=s2(),n=!0;const s=h=>(p,m)=>{var A;const y=zg(i,m,h==="exit"?(A=i.presenceContext)==null?void 0:A.custom:void 0);if(y){const{transition:_,transitionEnd:S,...T}=y;p={...p,...T,...S}}return p};function a(h){e=h(i)}function o(h){const{props:p}=i,m=g3(i.parent)||{},y=[],A=new Set;let _={},S=1/0;for(let E=0;E<uF;E++){const b=cF[E],w=t[b],B=p[b]!==void 0?p[b]:m[b],D=Pg(B),U=b===h?w.isActive:null;U===!1&&(S=E);let P=B===m[b]&&B!==p[b]&&D;if(P&&n&&i.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={..._},!w.isActive&&U===null||!B&&!w.prevProp||k_(B)||typeof B=="boolean")continue;const F=dF(w.prevProp,B);let H=F||b===h&&w.isActive&&!P&&D||E>S&&D,N=!1;const L=Array.isArray(B)?B:[B];let G=L.reduce(s(b),{});U===!1&&(G={});const{prevResolvedValues:W={}}=w,K={...W,...G},$=re=>{H=!0,A.has(re)&&(N=!0,A.delete(re)),w.needsAnimating[re]=!0;const se=i.getValue(re);se&&(se.liveStyle=!1)};for(const re in K){const se=G[re],Te=W[re];if(_.hasOwnProperty(re))continue;let Y=!1;lb(se)&&lb(Te)?Y=!m3(se,Te):Y=se!==Te,Y?se!=null?$(re):A.add(re):se!==void 0&&A.has(re)?$(re):w.protectedKeys[re]=!0}w.prevProp=B,w.prevResolvedValues=G,w.isActive&&(_={..._,...G}),n&&i.blockInitialAnimation&&(H=!1),H&&(!(P&&F)||N)&&y.push(...L.map(re=>({animation:re,options:{type:b}})))}if(A.size){const E={};if(typeof p.initial!="boolean"){const b=zg(i,Array.isArray(p.initial)?p.initial[0]:p.initial);b&&b.transition&&(E.transition=b.transition)}A.forEach(b=>{const w=i.getBaseTarget(b),B=i.getValue(b);B&&(B.liveStyle=!0),E[b]=w??null}),y.push({animation:E})}let T=!!y.length;return n&&(p.initial===!1||p.initial===p.animate)&&!i.manuallyAnimateOnMount&&(T=!1),n=!1,T?e(y):Promise.resolve()}function c(h,p){var y;if(t[h].isActive===p)return Promise.resolve();(y=i.variantChildren)==null||y.forEach(A=>{var _;return(_=A.animationState)==null?void 0:_.setActive(h,p)}),t[h].isActive=p;const m=o(h);for(const A in t)t[A].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=s2(),n=!0}}}function dF(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!m3(e,i):!1}function Bf(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s2(){return{animate:Bf(!0),whileInView:Bf(),whileHover:Bf(),whileTap:Bf(),whileDrag:Bf(),whileFocus:Bf(),exit:Bf()}}class Pu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pF extends Pu{constructor(e){super(e),e.animationState||(e.animationState=hF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();k_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mF=0;class gF extends Pu{constructor(){super(...arguments),this.id=mF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yF={animation:{Feature:pF},exit:{Feature:gF}};function Gg(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}function ly(i){return{point:{x:i.pageX,y:i.pageY}}}const vF=i=>e=>HM(e)&&i(e,ly(e));function Ag(i,e,t,n){return Gg(i,e,vF(t),n)}function y3({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function AF({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function _F(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}const v3=1e-4,xF=1-v3,SF=1+v3,A3=.01,bF=0-A3,MF=0+A3;function da(i){return i.max-i.min}function EF(i,e,t){return Math.abs(i-e)<=t}function a2(i,e,t,n=.5){i.origin=n,i.originPoint=xi(e.min,e.max,i.origin),i.scale=da(t)/da(e),i.translate=xi(t.min,t.max,i.origin)-i.originPoint,(i.scale>=xF&&i.scale<=SF||isNaN(i.scale))&&(i.scale=1),(i.translate>=bF&&i.translate<=MF||isNaN(i.translate))&&(i.translate=0)}function _g(i,e,t,n){a2(i.x,e.x,t.x,n?n.originX:void 0),a2(i.y,e.y,t.y,n?n.originY:void 0)}function r2(i,e,t){i.min=t.min+e.min,i.max=i.min+da(e)}function TF(i,e,t){r2(i.x,e.x,t.x),r2(i.y,e.y,t.y)}function o2(i,e,t){i.min=e.min-t.min,i.max=i.min+da(e)}function xg(i,e,t){o2(i.x,e.x,t.x),o2(i.y,e.y,t.y)}const l2=()=>({translate:0,scale:1,origin:0,originPoint:0}),qd=()=>({x:l2(),y:l2()}),c2=()=>({min:0,max:0}),zi=()=>({x:c2(),y:c2()});function Mr(i){return[i("x"),i("y")]}function IS(i){return i===void 0||i===1}function _b({scale:i,scaleX:e,scaleY:t}){return!IS(i)||!IS(e)||!IS(t)}function jf(i){return _b(i)||_3(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function _3(i){return u2(i.x)||u2(i.y)}function u2(i){return i&&i!=="0%"}function zA(i,e,t){const n=i-t,s=e*n;return t+s}function f2(i,e,t,n,s){return s!==void 0&&(i=zA(i,s,n)),zA(i,t,n)+e}function xb(i,e=0,t=1,n,s){i.min=f2(i.min,e,t,n,s),i.max=f2(i.max,e,t,n,s)}function x3(i,{x:e,y:t}){xb(i.x,e.translate,e.scale,e.originPoint),xb(i.y,t.translate,t.scale,t.originPoint)}const h2=.999999999999,d2=1.0000000000001;function CF(i,e,t,n=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,o;for(let c=0;c<s;c++){a=t[c],o=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Kd(i,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,x3(i,o)),n&&jf(a.latestValues)&&Kd(i,a.latestValues))}e.x<d2&&e.x>h2&&(e.x=1),e.y<d2&&e.y>h2&&(e.y=1)}function Wd(i,e){i.min=i.min+e,i.max=i.max+e}function p2(i,e,t,n,s=.5){const a=xi(i.min,i.max,s);xb(i,e,t,a,n)}function Kd(i,e){p2(i.x,e.x,e.scaleX,e.scale,e.originX),p2(i.y,e.y,e.scaleY,e.scale,e.originY)}function S3(i,e){return y3(_F(i.getBoundingClientRect(),e))}function RF(i,e,t){const n=S3(i,t),{scroll:s}=e;return s&&(Wd(n.x,s.offset.x),Wd(n.y,s.offset.y)),n}const b3=({current:i})=>i?i.ownerDocument.defaultView:null,m2=(i,e)=>Math.abs(i-e);function wF(i,e){const t=m2(i.x,e.x),n=m2(i.y,e.y);return Math.sqrt(t**2+n**2)}class M3{constructor(e,t,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=zS(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,_=wF(y.offset,{x:0,y:0})>=3;if(!A&&!_)return;const{point:S}=y,{timestamp:T}=ms;this.history.push({...S,timestamp:T});const{onStart:E,onMove:b}=this.handlers;A||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,y)},this.handlePointerMove=(y,A)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=FS(A,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(y,A)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=zS(y.type==="pointercancel"?this.lastMoveEventInfo:FS(A,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,E),S&&S(y,E)},!HM(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.contextWindow=s||window;const o=ly(e),c=FS(o,this.transformPagePoint),{point:h}=c,{timestamp:p}=ms;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=t;m&&m(e,zS(c,this.history)),this.removeListeners=oy(Ag(this.contextWindow,"pointermove",this.handlePointerMove),Ag(this.contextWindow,"pointerup",this.handlePointerUp),Ag(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ao(this.updatePoint)}}function FS(i,e){return e?{point:e(i.point)}:i}function g2(i,e){return{x:i.x-e.x,y:i.y-e.y}}function zS({point:i},e){return{point:i,delta:g2(i,E3(e)),offset:g2(i,BF(e)),velocity:DF(e,.1)}}function BF(i){return i[0]}function E3(i){return i[i.length-1]}function DF(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const s=E3(i);for(;t>=0&&(n=i[t],!(s.timestamp-n.timestamp>pl(e)));)t--;if(!n)return{x:0,y:0};const a=ml(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function OF(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?xi(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?xi(t,i,n.max):Math.min(i,t)),i}function y2(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function LF(i,{top:e,left:t,bottom:n,right:s}){return{x:y2(i.x,t,s),y:y2(i.y,e,n)}}function v2(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function NF(i,e){return{x:v2(i.x,e.x),y:v2(i.y,e.y)}}function UF(i,e){let t=.5;const n=da(i),s=da(e);return s>n?t=ap(e.min,e.max-n,i.min):n>s&&(t=ap(i.min,i.max-s,e.min)),xl(0,1,t)}function PF(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const Sb=.35;function IF(i=Sb){return i===!1?i=0:i===!0&&(i=Sb),{x:A2(i,"left","right"),y:A2(i,"top","bottom")}}function A2(i,e,t){return{min:_2(i,e),max:_2(i,t)}}function _2(i,e){return typeof i=="number"?i:i[e]||0}const FF=new WeakMap;class zF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ly(m).point)},a=(m,y)=>{const{drag:A,dragPropagation:_,onDragStart:S}=this.getProps();if(A&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PP(A),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(E=>{let b=this.getAxisMotionValue(E).get()||0;if(yl.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const B=w.layout.layoutBox[E];B&&(b=da(B)*(parseFloat(b)/100))}}this.originPoint[E]=b}),S&&wn.postRender(()=>S(m,y)),cb(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(m,y)=>{const{dragPropagation:A,dragDirectionLock:_,onDirectionLock:S,onDrag:T}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:E}=y;if(_&&this.currentDirection===null){this.currentDirection=HF(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),T&&T(m,y)},c=(m,y)=>this.stop(m,y),h=()=>Mr(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new M3(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:b3(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&wn.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:s}=this.getProps();if(!n||!vv(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=OF(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&jd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=LF(n.layoutBox,e):this.constraints=!1,this.elastic=IF(t),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Mr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=PF(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!jd(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=RF(n,s.root,this.visualElement.getTransformPagePoint());let o=NF(s.layout.layoutBox,a);if(t){const c=t(AF(o));this.hasMutatedConstraints=!!c,c&&(o=y3(c))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Mr(m=>{if(!vv(m,t,this.currentDirection))return;let y=h&&h[m]||{};o&&(y={min:0,max:0});const A=s?200:1e6,_=s?40:1e7,S={type:"inertia",velocity:n?e[m]:0,bounceStiffness:A,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,S)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return cb(this.visualElement,e),n.start(oE(e,n,0,t,this.visualElement,!1))}stopAnimation(){Mr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[t];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Mr(t=>{const{drag:n}=this.getProps();if(!vv(t,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[t];a.set(e[t]-xi(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!jd(t)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const h=c.get();s[o]=UF({min:h,max:h},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Mr(o=>{if(!vv(o,e,null))return;const c=this.getAxisMotionValue(o),{min:h,max:p}=this.constraints[o];c.set(xi(h,p,s[o]))})}addListeners(){if(!this.visualElement.current)return;FF.set(this.visualElement,this);const e=this.visualElement.current,t=Ag(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();jd(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wn.read(n);const o=Gg(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Mr(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{o(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Sb,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function vv(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function HF(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class GF extends Pu{constructor(e){super(e),this.removeGroupControls=Na,this.removeListeners=Na,this.controls=new zF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Na}unmount(){this.removeGroupControls(),this.removeListeners()}}const x2=i=>(e,t)=>{i&&wn.postRender(()=>i(e,t))};class VF extends Pu{constructor(){super(...arguments),this.removePointerDownListener=Na}onPointerDown(e){this.session=new M3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:x2(e),onStart:x2(t),onMove:n,onEnd:(a,o)=>{delete this.session,s&&wn.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Ag(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const AA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S2(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Wm={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(zt.test(i))i=parseFloat(i);else return i;const t=S2(i,e.target.x),n=S2(i,e.target.y);return`${t}% ${n}%`}},kF={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,s=Ru.parse(i);if(s.length>5)return n;const a=Ru.createTransformer(i),o=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,h=t.y.scale*e.y;s[0+o]/=c,s[1+o]/=h;const p=xi(c,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=p),typeof s[3+o]=="number"&&(s[3+o]/=p),a(s)}};class XF extends Me.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=e;lI(jF),a&&(t.group&&t.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),AA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||e.layoutDependency!==t||t===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||wn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zM.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function T3(i){const[e,t]=MP(),n=Me.useContext(lD);return le.jsx(XF,{...i,layoutGroup:n,switchLayoutGroup:Me.useContext(bD),isPresent:e,safeToRemove:t})}const jF={borderRadius:{...Wm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wm,borderTopRightRadius:Wm,borderBottomLeftRadius:Wm,borderBottomRightRadius:Wm,boxShadow:kF};function YF(i,e,t){const n=gs(i)?i:fl(i);return n.start(oE("",n,e,t)),n.animation}function qF(i){return i instanceof SVGElement&&i.tagName!=="svg"}const WF=(i,e)=>i.depth-e.depth;class KF{constructor(){this.children=[],this.isDirty=!1}add(e){BM(this.children,e),this.isDirty=!0}remove(e){DM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WF),this.isDirty=!1,this.children.forEach(e)}}function JF(i,e){const t=gl.now(),n=({timestamp:s})=>{const a=s-t;a>=e&&(Ao(n),i(a-e))};return wn.read(n,!0),()=>Ao(n)}const C3=["TopLeft","TopRight","BottomLeft","BottomRight"],ZF=C3.length,b2=i=>typeof i=="string"?parseFloat(i):i,M2=i=>typeof i=="number"||zt.test(i);function QF(i,e,t,n,s,a){s?(i.opacity=xi(0,t.opacity!==void 0?t.opacity:1,$F(n)),i.opacityExit=xi(e.opacity!==void 0?e.opacity:1,0,e5(n))):a&&(i.opacity=xi(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let o=0;o<ZF;o++){const c=`border${C3[o]}Radius`;let h=E2(e,c),p=E2(t,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||M2(h)===M2(p)?(i[c]=Math.max(xi(b2(h),b2(p),n),0),(yl.test(p)||yl.test(h))&&(i[c]+="%")):i[c]=p}(e.rotate||t.rotate)&&(i.rotate=xi(e.rotate||0,t.rotate||0,n))}function E2(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const $F=R3(0,.5,XD),e5=R3(.5,.95,Na);function R3(i,e,t){return n=>n<i?0:n>e?1:t(ap(i,e,n))}function T2(i,e){i.min=e.min,i.max=e.max}function Sr(i,e){T2(i.x,e.x),T2(i.y,e.y)}function C2(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function R2(i,e,t,n,s){return i-=e,i=zA(i,1/t,n),s!==void 0&&(i=zA(i,1/s,n)),i}function t5(i,e=0,t=1,n=.5,s,a=i,o=i){if(yl.test(e)&&(e=parseFloat(e),e=xi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=xi(a.min,a.max,n);i===a&&(c-=e),i.min=R2(i.min,e,t,c,s),i.max=R2(i.max,e,t,c,s)}function w2(i,e,[t,n,s],a,o){t5(i,e[t],e[n],e[s],e.scale,a,o)}const n5=["x","scaleX","originX"],i5=["y","scaleY","originY"];function B2(i,e,t,n){w2(i.x,e,n5,t?t.x:void 0,n?n.x:void 0),w2(i.y,e,i5,t?t.y:void 0,n?n.y:void 0)}function D2(i){return i.translate===0&&i.scale===1}function w3(i){return D2(i.x)&&D2(i.y)}function O2(i,e){return i.min===e.min&&i.max===e.max}function s5(i,e){return O2(i.x,e.x)&&O2(i.y,e.y)}function L2(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function B3(i,e){return L2(i.x,e.x)&&L2(i.y,e.y)}function N2(i){return da(i.x)/da(i.y)}function U2(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class a5{constructor(){this.members=[]}add(e){BM(this.members,e),e.scheduleRender()}remove(e){if(DM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let n;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r5(i,e,t){let n="";const s=i.x.translate/e.x,a=i.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:A,skewX:_,skewY:S}=t;p&&(n=`perspective(${p}px) ${n}`),m&&(n+=`rotate(${m}deg) `),y&&(n+=`rotateX(${y}deg) `),A&&(n+=`rotateY(${A}deg) `),_&&(n+=`skewX(${_}deg) `),S&&(n+=`skewY(${S}deg) `)}const c=i.x.scale*e.x,h=i.y.scale*e.y;return(c!==1||h!==1)&&(n+=`scale(${c}, ${h})`),n||"none"}const HS=["","X","Y","Z"],o5={visibility:"hidden"},P2=1e3;let l5=0;function GS(i,e,t,n){const{latestValues:s}=e;s[i]&&(t[i]=s[i],e.setStaticValue(i,0),n&&(n[i]=0))}function D3(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=ID(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",wn,!(s||a))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&D3(n)}function O3({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},c=e==null?void 0:e()){this.id=l5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f5),this.nodes.forEach(g5),this.nodes.forEach(y5),this.nodes.forEach(h5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new KF)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new LM),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const h=this.eventHandlers.get(o);h&&h.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qF(o),this.instance=o;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),i){let y;const A=()=>this.root.updateBlockedByResize=!1;i(o,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=JF(A,250),AA.hasAnimatedSinceResize&&(AA.hasAnimatedSinceResize=!1,this.nodes.forEach(F2))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:A,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||m.getDefaultTransition()||S5,{onLayoutAnimationStart:E,onLayoutAnimationComplete:b}=m.getProps(),w=!this.targetLayout||!B3(this.targetLayout,S),B=!A&&_;if(this.options.layoutRoot||this.resumeFrom||B||A&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,B);const D={...IM(T,"layout"),onPlay:E,onComplete:b};(m.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else A||F2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I2);return}this.isUpdating||this.nodes.forEach(p5),this.isUpdating=!1,this.nodes.forEach(m5),this.nodes.forEach(c5),this.nodes.forEach(u5),this.clearAllSnapshots();const c=gl.now();ms.delta=xl(0,1e3/60,c-ms.timestamp),ms.timestamp=c,ms.isProcessing=!0,OS.update.process(ms),OS.preRender.process(ms),OS.render.process(ms),ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(d5),this.sharedNodes.forEach(A5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!da(this.snapshot.measuredBox.x)&&!da(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!w3(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;o&&(c||jf(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return o&&(h=this.removeTransform(h)),b5(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:o}=this.options;if(!o)return zi();const c=o.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(M5))){const{scroll:m}=this.root;m&&(Wd(c.x,m.offset.x),Wd(c.y,m.offset.y))}return c}removeElementScroll(o){var h;const c=zi();if(Sr(c,o),(h=this.scroll)!=null&&h.wasRoot)return c;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:A}=m;m!==this.root&&y&&A.layoutScroll&&(y.wasRoot&&Sr(c,o),Wd(c.x,y.offset.x),Wd(c.y,y.offset.y))}return c}applyTransform(o,c=!1){const h=zi();Sr(h,o);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Kd(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),jf(m.latestValues)&&Kd(h,m.latestValues)}return jf(this.latestValues)&&Kd(h,this.latestValues),h}removeTransform(o){const c=zi();Sr(c,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!jf(p.latestValues))continue;_b(p.latestValues)&&p.updateSnapshot();const m=zi(),y=p.measurePageBox();Sr(m,y),B2(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return jf(this.latestValues)&&B2(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var A;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=ms.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zi(),this.relativeTargetOrigin=zi(),xg(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zi(),this.targetWithTransforms=zi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),x3(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zi(),this.relativeTargetOrigin=zi(),xg(this.relativeTargetOrigin,this.target,_.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_b(this.parent.latestValues)||_3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ms.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Sr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,A=this.treeScale.y;CF(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=zi());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(C2(this.prevProjectionDelta.x,this.projectionDelta.x),C2(this.prevProjectionDelta.y,this.projectionDelta.y)),_g(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==A||!U2(this.projectionDelta.x,this.prevProjectionDelta.x)||!U2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qd(),this.projectionDelta=qd(),this.projectionDeltaWithTransform=qd()}setAnimationOrigin(o,c=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},y=qd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const A=zi(),_=h?h.source:void 0,S=this.layout?this.layout.source:void 0,T=_!==S,E=this.getStack(),b=!E||E.members.length<=1,w=!!(T&&!b&&this.options.crossfade===!0&&!this.path.some(x5));this.animationProgress=0;let B;this.mixTargetDelta=D=>{const U=D/1e3;z2(y.x,o.x,U),z2(y.y,o.y,U),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xg(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_5(this.relativeTarget,this.relativeTargetOrigin,A,U),B&&s5(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=zi()),Sr(B,this.relativeTarget)),T&&(this.animationValues=m,QF(m,p,this.latestValues,U,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{AA.hasAnimatedSinceResize=!0,this.currentAnimation=YF(0,P2,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:m}=o;if(!(!c||!h||!p)){if(this!==o&&this.layout&&p&&L3(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||zi();const y=da(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+y;const A=da(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+A}Sr(c,h),Kd(c,m),_g(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new a5),this.sharedNodes.get(o).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&GS("z",o,p,this.animationValues);for(let m=0;m<HS.length;m++)GS(`rotate${HS[m]}`,o,p,this.animationValues),GS(`skew${HS[m]}`,o,p,this.animationValues);o.render();for(const m in p)o.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return o5;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vA(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=vA(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!jf(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=r5(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:y,y:A}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Ig){if(m[_]===void 0)continue;const{correct:S,applyTo:T,isCSSVariable:E}=Ig[_],b=c.transform==="none"?m[_]:S(m[_],p);if(T){const w=T.length;for(let B=0;B<w;B++)c[T[B]]=b}else E?this.options.visualElement.renderState.vars[_]=b:c[_]=b}return this.options.layoutId&&(c.pointerEvents=p===this?vA(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(I2),this.root.sharedNodes.clear()}}}function c5(i){i.updateLayout()}function u5(i){var t;const e=((t=i.resumeFrom)==null?void 0:t.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=i.layout,{animationType:a}=i.options,o=e.source!==i.layout.source;a==="size"?Mr(y=>{const A=o?e.measuredBox[y]:e.layoutBox[y],_=da(A);A.min=n[y].min,A.max=A.min+_}):L3(a,e.layoutBox,n)&&Mr(y=>{const A=o?e.measuredBox[y]:e.layoutBox[y],_=da(n[y]);A.max=A.min+_,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[y].max=i.relativeTarget[y].min+_)});const c=qd();_g(c,n,e.layoutBox);const h=qd();o?_g(h,i.applyTransform(s,!0),e.measuredBox):_g(h,n,e.layoutBox);const p=!w3(c);let m=!1;if(!i.resumeFrom){const y=i.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:A,layout:_}=y;if(A&&_){const S=zi();xg(S,e.layoutBox,A.layoutBox);const T=zi();xg(T,n,_.layoutBox),B3(S,T)||(m=!0),y.options.layoutRoot&&(i.relativeTarget=T,i.relativeTargetOrigin=S,i.relativeParent=y)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function f5(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function h5(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function d5(i){i.clearSnapshot()}function I2(i){i.clearMeasurements()}function p5(i){i.isLayoutDirty=!1}function m5(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function F2(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function g5(i){i.resolveTargetDelta()}function y5(i){i.calcProjection()}function v5(i){i.resetSkewAndRotation()}function A5(i){i.removeLeadSnapshot()}function z2(i,e,t){i.translate=xi(e.translate,0,t),i.scale=xi(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function H2(i,e,t,n){i.min=xi(e.min,t.min,n),i.max=xi(e.max,t.max,n)}function _5(i,e,t,n){H2(i.x,e.x,t.x,n),H2(i.y,e.y,t.y,n)}function x5(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const S5={duration:.45,ease:[.4,0,.1,1]},G2=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),V2=G2("applewebkit/")&&!G2("chrome/")?Math.round:Na;function k2(i){i.min=V2(i.min),i.max=V2(i.max)}function b5(i){k2(i.x),k2(i.y)}function L3(i,e,t){return i==="position"||i==="preserve-aspect"&&!EF(N2(e),N2(t),.2)}function M5(i){var e;return i!==i.root&&((e=i.scroll)==null?void 0:e.wasRoot)}const E5=O3({attachResizeListener:(i,e)=>Gg(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),VS={current:void 0},N3=O3({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!VS.current){const i=new E5({});i.mount(window),i.setOptions({layoutScroll:!0}),VS.current=i}return VS.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),T5={pan:{Feature:VF},drag:{Feature:GF,ProjectionNode:N3,MeasureLayout:T3}};function X2(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=n[s];a&&wn.postRender(()=>a(e,ly(e)))}class C5 extends Pu{mount(){const{current:e}=this.node;e&&(this.unmount=IP(e,(t,n)=>(X2(this.node,n,"Start"),s=>X2(this.node,s,"End"))))}unmount(){}}class R5 extends Pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oy(Gg(this.node.current,"focus",()=>this.onFocus()),Gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j2(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=n[s];a&&wn.postRender(()=>a(e,ly(e)))}class w5 extends Pu{mount(){const{current:e}=this.node;e&&(this.unmount=GP(e,(t,n)=>(j2(this.node,n,"Start"),(s,{success:a})=>j2(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bb=new WeakMap,kS=new WeakMap,B5=i=>{const e=bb.get(i.target);e&&e(i)},D5=i=>{i.forEach(B5)};function O5({root:i,...e}){const t=i||document;kS.has(t)||kS.set(t,{});const n=kS.get(t),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(D5,{root:i,...e})),n[s]}function L5(i,e,t){const n=O5(e);return bb.set(i,t),n.observe(i),()=>{bb.delete(i),n.unobserve(i)}}const N5={some:0,all:1};class U5 extends Pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:s="some",once:a}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:N5[s]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),A=p?m:y;A&&A(h)};return L5(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(P5(e,t))&&this.startObserver()}unmount(){}}function P5({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const I5={inView:{Feature:U5},tap:{Feature:w5},focus:{Feature:R5},hover:{Feature:C5}},F5={layout:{ProjectionNode:N3,MeasureLayout:T3}},Mb={current:null},U3={current:!1};function z5(){if(U3.current=!0,!!RM)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mb.current=i.matches;i.addListener(e),e()}else Mb.current=!1}const H5=[...a3,js,Ru],G5=i=>H5.find(s3(i)),V5=new WeakMap;function k5(i,e,t){for(const n in e){const s=e[n],a=t[n];if(gs(s))i.addValue(n,s);else if(gs(a))i.addValue(n,fl(s,{owner:i}));else if(a!==s)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=i.getStaticValue(n);i.addValue(n,fl(o!==void 0?o:s,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const Y2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class X5{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=gl.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,wn.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:m}=o;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=X_(t),this.isVariantNode=xD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...A}=this.scrapeMotionValuesFromProps(t,{},this);for(const _ in A){const S=A[_];h[_]!==void 0&&gs(S)&&S.set(h[_],!1)}}mount(e){this.current=e,V5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),U3.current||z5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ao(this.notifyUpdate),Ao(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Sh.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&wn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rp){const t=rp[e];if(!t)continue;const{isEnabled:n,Feature:s}=t;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Y2.length;n++){const s=Y2[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=e[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=k5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=fl(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(n3(n)||YD(n))?n=parseFloat(n):!G5(n)&&Ru.test(t)&&(n=$D(e,t)),this.setBaseTarget(e,gs(n)?n.get():n)),gs(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const o=QM(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[e])}if(t&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!gs(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new LM),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class P3 extends X5{constructor(){super(...arguments),this.KeyframeResolver=r3}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function j5(i){return window.getComputedStyle(i)}class Y5 extends P3{constructor(){super(...arguments),this.type="html",this.renderInstance=OD}readValueFromInstance(e,t){if(Sh.has(t))return a4(e,t);{const n=j5(e),s=(XM(t)?n.getPropertyValue(t):n[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return S3(e,t)}build(e,t,n){qM(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return $M(e,t,n)}}class q5 extends P3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&DD(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sh.has(t)){const n=QD(t);return n&&n.default||0}return t=LD.has(t)?t:kM(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return UD(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&wn.postRender(this.updateDimensions)}build(e,t,n){JM(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,s){ND(e,t,n,s)}mount(e){this.isSVGTag=ZM(e.tagName),super.mount(e)}}const W5=(i,e)=>KM(i)?new q5(e):new Y5(e,{allowProjection:i!==Me.Fragment}),K5=OI({...yF,...I5,...T5,...F5},W5),Hi=WP(K5);function I3(i,e){let t;const n=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;t!==o&&i(o),t=o};return wn.update(n,!0),()=>Ao(n)}const _A=new WeakMap;let bu;function J5(i,e){if(e){const{inlineSize:t,blockSize:n}=e[0];return{width:t,height:n}}else return i instanceof SVGElement&&"getBBox"in i?i.getBBox():{width:i.offsetWidth,height:i.offsetHeight}}function Z5({target:i,contentRect:e,borderBoxSize:t}){var n;(n=_A.get(i))==null||n.forEach(s=>{s({target:i,contentSize:e,get size(){return J5(i,t)}})})}function Q5(i){i.forEach(Z5)}function $5(){typeof ResizeObserver>"u"||(bu=new ResizeObserver(Q5))}function ez(i,e){bu||$5();const t=gD(i);return t.forEach(n=>{let s=_A.get(n);s||(s=new Set,_A.set(n,s)),s.add(e),bu==null||bu.observe(n)}),()=>{t.forEach(n=>{const s=_A.get(n);s==null||s.delete(e),s!=null&&s.size||bu==null||bu.unobserve(n)})}}const xA=new Set;let Sg;function tz(){Sg=()=>{const i={width:window.innerWidth,height:window.innerHeight},e={target:window,size:i,contentSize:i};xA.forEach(t=>t(e))},window.addEventListener("resize",Sg)}function nz(i){return xA.add(i),Sg||tz(),()=>{xA.delete(i),!xA.size&&Sg&&(Sg=void 0)}}function iz(i,e){return typeof i=="function"?nz(i):ez(i,e)}const sz=50,q2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),az=()=>({time:0,x:q2(),y:q2()}),rz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function W2(i,e,t,n){const s=t[e],{length:a,position:o}=rz[e],c=s.current,h=t.time;s.current=i[`scroll${o}`],s.scrollLength=i[`scroll${a}`]-i[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=ap(0,s.scrollLength,s.current);const p=n-h;s.velocity=p>sz?0:NM(s.current-c,p)}function oz(i,e,t){W2(i,"x",e,t),W2(i,"y",e,t),e.time=t}function lz(i,e){const t={x:0,y:0};let n=i;for(;n&&n!==e;)if(n instanceof HTMLElement)t.x+=n.offsetLeft,t.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const s=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();t.x+=s.left-a.left,t.y+=s.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:s,y:a}=n.getBBox();t.x+=s,t.y+=a;let o=null,c=n.parentNode;for(;!o;)c.tagName==="svg"&&(o=c),c=n.parentNode;n=o}else break;return t}const Eb={start:0,center:.5,end:1};function K2(i,e,t=0){let n=0;if(i in Eb&&(i=Eb[i]),typeof i=="string"){const s=parseFloat(i);i.endsWith("px")?n=s:i.endsWith("%")?i=s/100:i.endsWith("vw")?n=s/100*document.documentElement.clientWidth:i.endsWith("vh")?n=s/100*document.documentElement.clientHeight:i=s}return typeof i=="number"&&(n=e*i),t+n}const cz=[0,0];function uz(i,e,t,n){let s=Array.isArray(i)?i:cz,a=0,o=0;return typeof i=="number"?s=[i,i]:typeof i=="string"&&(i=i.trim(),i.includes(" ")?s=i.split(" "):s=[i,Eb[i]?i:"0"]),a=K2(s[0],t,n),o=K2(s[1],e),a-o}const fz={All:[[0,0],[1,1]]},hz={x:0,y:0};function dz(i){return"getBBox"in i&&i.tagName!=="svg"?i.getBBox():{width:i.clientWidth,height:i.clientHeight}}function pz(i,e,t){const{offset:n=fz.All}=t,{target:s=i,axis:a="y"}=t,o=a==="y"?"height":"width",c=s!==i?lz(s,i):hz,h=s===i?{width:i.scrollWidth,height:i.scrollHeight}:dz(s),p={width:i.clientWidth,height:i.clientHeight};e[a].offset.length=0;let m=!e[a].interpolate;const y=n.length;for(let A=0;A<y;A++){const _=uz(n[A],p[o],h[o],c[a]);!m&&_!==e[a].interpolatorOffsets[A]&&(m=!0),e[a].offset[A]=_}m&&(e[a].interpolate=rE(e[a].offset,h3(n),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=xl(0,1,e[a].interpolate(e[a].current))}function mz(i,e=i,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==i){let n=e;for(;n&&n!==i;)t.x.targetOffset+=n.offsetLeft,t.y.targetOffset+=n.offsetTop,n=n.offsetParent}t.x.targetLength=e===i?e.scrollWidth:e.clientWidth,t.y.targetLength=e===i?e.scrollHeight:e.clientHeight,t.x.containerLength=i.clientWidth,t.y.containerLength=i.clientHeight}function gz(i,e,t,n={}){return{measure:()=>mz(i,n.target,t),update:s=>{oz(i,t,s),(n.offset||n.target)&&pz(i,t,n)},notify:()=>e(t)}}const Km=new WeakMap,J2=new WeakMap,XS=new WeakMap,Z2=i=>i===document.documentElement?window:i;function lE(i,{container:e=document.documentElement,...t}={}){let n=XS.get(e);n||(n=new Set,XS.set(e,n));const s=az(),a=gz(e,i,s,t);if(n.add(a),!Km.has(e)){const c=()=>{for(const A of n)A.measure()},h=()=>{for(const A of n)A.update(ms.timestamp)},p=()=>{for(const A of n)A.notify()},m=()=>{wn.read(c,!1,!0),wn.read(h,!1,!0),wn.update(p,!1,!0)};Km.set(e,m);const y=Z2(e);window.addEventListener("resize",m,{passive:!0}),e!==document.documentElement&&J2.set(e,iz(e,m)),y.addEventListener("scroll",m,{passive:!0})}const o=Km.get(e);return wn.read(o,!1,!0),()=>{var p;Ao(o);const c=XS.get(e);if(!c||(c.delete(a),c.size))return;const h=Km.get(e);Km.delete(e),h&&(Z2(e).removeEventListener("scroll",h),(p=J2.get(e))==null||p(),window.removeEventListener("resize",h))}}function yz({source:i,container:e,axis:t="y"}){i&&(e=i);const n={value:0},s=lE(a=>{n.value=a[t].progress*100},{container:e,axis:t});return{currentTime:n,cancel:s}}const jS=new Map;function F3({source:i,container:e=document.documentElement,axis:t="y"}={}){i&&(e=i),jS.has(e)||jS.set(e,{});const n=jS.get(e);return n[t]||(n[t]=uD()?new ScrollTimeline({source:e,axis:t}):yz({source:e,axis:t})),n[t]}function vz(i){return i.length===2}function z3(i){return i&&(i.target||i.offset)}function Az(i,e){return vz(i)||z3(e)?lE(t=>{i(t[e.axis].progress,t)},e):I3(i,F3(e))}function _z(i,e){if(i.flatten(),z3(e))return i.pause(),lE(t=>{i.time=i.duration*t[e.axis].progress},e);{const t=F3(e);return i.attachTimeline?i.attachTimeline(t,n=>(n.pause(),I3(s=>{n.time=n.duration*s},t))):Na}}function xz(i,{axis:e="y",...t}={}){const n={axis:e,...t};return typeof i=="function"?Az(i,n):_z(i,n)}function Q2(i,e){EP(!!(!e||e.current))}const Sz=()=>({scrollX:fl(0),scrollY:fl(0),scrollXProgress:fl(0),scrollYProgress:fl(0)});function bz({container:i,target:e,layoutEffect:t=!0,...n}={}){const s=sp(Sz);return(t?H_:Me.useEffect)(()=>(Q2("target",e),Q2("container",i),xz((o,{x:c,y:h})=>{s.scrollX.set(c.current),s.scrollXProgress.set(c.progress),s.scrollY.set(h.current),s.scrollYProgress.set(h.progress)},{...n,container:(i==null?void 0:i.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[i,e,JSON.stringify(n.offset)]),s}function H3(i){const e=sp(()=>fl(i)),{isStatic:t}=Me.useContext(G_);if(t){const[,n]=Me.useState(i);Me.useEffect(()=>e.on("change",n),[])}return e}function G3(i,e){const t=H3(e()),n=()=>t.set(e());return n(),H_(()=>{const s=()=>wn.preRender(n,!1,!0),a=i.map(o=>o.on("change",s));return()=>{a.forEach(o=>o()),Ao(n)}}),t}function $2(i,e={}){const{isStatic:t}=Me.useContext(G_),n=Me.useRef(null),s=sp(()=>gs(i)?i.get():i),a=sp(()=>typeof s=="string"?s.replace(/[\d.-]/g,""):void 0),o=H3(s),c=Me.useRef(s),h=Me.useRef(Na),p=()=>{m(),n.current=j4({keyframes:[tR(o.get()),tR(c.current)],velocity:o.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:h.current})},m=()=>{n.current&&n.current.stop()};return Me.useInsertionEffect(()=>o.attach((y,A)=>t?A(y):(c.current=y,h.current=_=>A(eR(_,a)),wn.postRender(p),o.get()),m),[JSON.stringify(e)]),H_(()=>{if(gs(i))return i.on("change",y=>o.set(eR(y,a)))},[o,a]),o}function eR(i,e){return e?i+e:i}function tR(i){return typeof i=="number"?i:parseFloat(i)}const Mz=i=>i&&typeof i=="object"&&i.mix,Ez=i=>Mz(i)?i.mix:void 0;function Tz(...i){const e=!Array.isArray(i[0]),t=e?0:-1,n=i[0+t],s=i[1+t],a=i[2+t],o=i[3+t],c=rE(s,a,{mixer:Ez(a[0]),...o});return e?c(n):c}function Cz(i){yg.current=[],i();const e=G3(yg.current,i);return yg.current=void 0,e}function nR(i,e,t,n){if(typeof i=="function")return Cz(i);const s=typeof e=="function"?e:Tz(e,t,n);return Array.isArray(i)?iR(i,s):iR([i],([a])=>s(a))}function iR(i,e){const t=sp(()=>[]);return G3(i,()=>{t.length=0;const n=i.length;for(let s=0;s<n;s++)t[s]=i[s].get();return e(t)})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const cy="175",Yf={ROTATE:0,DOLLY:1,PAN:2},qf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},V3=0,Tb=1,k3=2,Rz=3,X3=0,q_=1,bg=2,mo=3,Sl=0,pa=1,yo=2,pc=0,lh=1,Cb=2,Rb=3,wb=4,j3=5,Mu=100,Y3=101,q3=102,W3=103,K3=104,J3=200,Z3=201,Q3=202,$3=203,HA=204,GA=205,eO=206,tO=207,nO=208,iO=209,sO=210,aO=211,rO=212,oO=213,lO=214,VA=0,kA=1,XA=2,hh=3,jA=4,YA=5,qA=6,WA=7,uy=0,cO=1,uO=2,vl=0,fO=1,hO=2,dO=3,cE=4,pO=5,mO=6,gO=7,Bb="attached",yO="detached",W_=300,vc=301,wu=302,Vg=303,kg=304,Mp=306,Bu=1e3,$a=1001,lp=1002,ys=1003,K_=1004,wz=1004,$f=1005,Bz=1005,Gi=1006,ep=1007,Dz=1007,Tr=1008,Oz=1008,_o=1009,uE=1010,fE=1011,cp=1012,J_=1013,Ac=1014,La=1015,Ep=1016,Z_=1017,Q_=1018,up=1020,hE=35902,dE=1021,pE=1022,Ws=1023,mE=1024,gE=1025,fp=1026,hp=1027,$_=1028,fy=1029,yE=1030,ex=1031,Lz=1032,tx=1033,Mg=33776,Eg=33777,Tg=33778,Cg=33779,KA=35840,JA=35841,ZA=35842,QA=35843,$A=36196,e_=37492,t_=37496,n_=37808,i_=37809,s_=37810,a_=37811,r_=37812,o_=37813,l_=37814,c_=37815,u_=37816,f_=37817,h_=37818,d_=37819,p_=37820,m_=37821,Rg=36492,g_=36494,y_=36495,vE=36283,v_=36284,A_=36285,__=36286,vO=2200,AO=2201,_O=2202,dp=2300,pp=2301,SA=2302,eh=2400,th=2401,Xg=2402,nx=2500,AE=2501,xO=0,_E=1,x_=2,SO=3200,bO=3201,Nz=3202,Uz=3203,Iu=0,MO=1,uc="",Ys="srgb",Du="srgb-linear",jg="linear",kn="srgb",Pz=0,Wf=7680,Iz=7681,Fz=7682,zz=7683,Hz=34055,Gz=34056,Vz=5386,kz=512,Xz=513,jz=514,Yz=515,qz=516,Wz=517,Kz=518,Db=519,EO=512,TO=513,CO=514,xE=515,RO=516,wO=517,BO=518,DO=519,Yg=35044,Jz=35048,Zz=35040,Qz=35045,$z=35049,eH=35041,tH=35046,nH=35050,iH=35042,sH="100",Ob="300 es",vo=2e3,qg=2001,aH={COMPUTE:"compute",RENDER:"render"};let Ml=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const s=n[e];if(s!==void 0){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const s=n.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e);e.target=null}}};const Vs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let sR=1234567;const ch=Math.PI/180,mp=180/Math.PI;function tr(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Vs[i&255]+Vs[i>>8&255]+Vs[i>>16&255]+Vs[i>>24&255]+"-"+Vs[e&255]+Vs[e>>8&255]+"-"+Vs[e>>16&15|64]+Vs[e>>24&255]+"-"+Vs[t&63|128]+Vs[t>>8&255]+"-"+Vs[t>>16&255]+Vs[t>>24&255]+Vs[n&255]+Vs[n>>8&255]+Vs[n>>16&255]+Vs[n>>24&255]).toLowerCase()}function Yt(i,e,t){return Math.max(e,Math.min(t,i))}function SE(i,e){return(i%e+e)%e}function rH(i,e,t,n,s){return n+(i-e)*(s-n)/(t-e)}function oH(i,e,t){return i!==e?(t-i)/(e-i):0}function wg(i,e,t){return(1-t)*i+t*e}function lH(i,e,t,n){return wg(i,e,1-Math.exp(-t*n))}function cH(i,e=1){return e-Math.abs(SE(i,e*2)-e)}function uH(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function fH(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function hH(i,e){return i+Math.floor(Math.random()*(e-i+1))}function dH(i,e){return i+Math.random()*(e-i)}function pH(i){return i*(.5-Math.random())}function mH(i){i!==void 0&&(sR=i);let e=sR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gH(i){return i*ch}function yH(i){return i*mp}function vH(i){return(i&i-1)===0&&i!==0}function AH(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function _H(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function xH(i,e,t,n,s){const a=Math.cos,o=Math.sin,c=a(t/2),h=o(t/2),p=a((e+n)/2),m=o((e+n)/2),y=a((e-n)/2),A=o((e-n)/2),_=a((n-e)/2),S=o((n-e)/2);switch(s){case"XYX":i.set(c*m,h*y,h*A,c*p);break;case"YZY":i.set(h*A,c*m,h*y,c*p);break;case"ZXZ":i.set(h*y,h*A,c*m,c*p);break;case"XZX":i.set(c*m,h*S,h*_,c*p);break;case"YXY":i.set(h*_,c*m,h*S,c*p);break;case"ZYZ":i.set(h*S,h*_,c*m,c*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function ha(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Zt(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const OO={DEG2RAD:ch,RAD2DEG:mp,generateUUID:tr,clamp:Yt,euclideanModulo:SE,mapLinear:rH,inverseLerp:oH,lerp:wg,damp:lH,pingpong:cH,smoothstep:uH,smootherstep:fH,randInt:hH,randFloat:dH,randFloatSpread:pH,seededRandom:mH,degToRad:gH,radToDeg:yH,isPowerOfTwo:vH,ceilPowerOfTwo:AH,floorPowerOfTwo:_H,setQuaternionFromProperEuler:xH,normalize:Zt,denormalize:ha};class He{constructor(e=0,t=0){He.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6],this.y=s[1]*t+s[4]*n+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Yt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Yt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),s=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*n-o*s+e.x,this.y=a*s+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Kt{constructor(e,t,n,s,a,o,c,h,p){Kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,s,a,o,c,h,p)}set(e,t,n,s,a,o,c,h,p){const m=this.elements;return m[0]=e,m[1]=s,m[2]=c,m[3]=t,m[4]=a,m[5]=h,m[6]=n,m[7]=o,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,a=this.elements,o=n[0],c=n[3],h=n[6],p=n[1],m=n[4],y=n[7],A=n[2],_=n[5],S=n[8],T=s[0],E=s[3],b=s[6],w=s[1],B=s[4],D=s[7],U=s[2],P=s[5],F=s[8];return a[0]=o*T+c*w+h*U,a[3]=o*E+c*B+h*P,a[6]=o*b+c*D+h*F,a[1]=p*T+m*w+y*U,a[4]=p*E+m*B+y*P,a[7]=p*b+m*D+y*F,a[2]=A*T+_*w+S*U,a[5]=A*E+_*B+S*P,a[8]=A*b+_*D+S*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],s=e[2],a=e[3],o=e[4],c=e[5],h=e[6],p=e[7],m=e[8];return t*o*m-t*c*p-n*a*m+n*c*h+s*a*p-s*o*h}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],a=e[3],o=e[4],c=e[5],h=e[6],p=e[7],m=e[8],y=m*o-c*p,A=c*h-m*a,_=p*a-o*h,S=t*y+n*A+s*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=y*T,e[1]=(s*p-m*n)*T,e[2]=(c*n-s*o)*T,e[3]=A*T,e[4]=(m*t-s*h)*T,e[5]=(s*a-c*t)*T,e[6]=_*T,e[7]=(n*h-p*t)*T,e[8]=(o*t-n*a)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,s,a,o,c){const h=Math.cos(a),p=Math.sin(a);return this.set(n*h,n*p,-n*(h*o+p*c)+o+e,-s*p,s*h,-s*(-p*o+h*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(YS.makeScale(e,t)),this}rotate(e){return this.premultiply(YS.makeRotation(-e)),this}translate(e,t){return this.premultiply(YS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<9;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const YS=new Kt;function LO(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const SH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jd(i,e){return new SH[i](e)}function Wg(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function NO(){const i=Wg("canvas");return i.style.display="block",i}const aR={};function bA(i){i in aR||(aR[i]=!0,console.warn(i))}function bH(i,e,t){return new Promise(function(n,s){function a(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:s();break;case i.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}function MH(i){const e=i.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function EH(i){const e=i.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const rR=new Kt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),oR=new Kt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function TH(){const i={enabled:!0,workingColorSpace:Du,spaces:{},convert:function(s,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===kn&&(s.r=mc(s.r),s.g=mc(s.g),s.b=mc(s.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[a].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===kn&&(s.r=tp(s.r),s.g=tp(s.g),s.b=tp(s.b))),s},fromWorkingColorSpace:function(s,a){return this.convert(s,this.workingColorSpace,a)},toWorkingColorSpace:function(s,a){return this.convert(s,a,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===uc?jg:this.spaces[s].transfer},getLuminanceCoefficients:function(s,a=this.workingColorSpace){return s.fromArray(this.spaces[a].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,a,o){return s.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[Du]:{primaries:e,whitePoint:n,transfer:jg,toXYZ:rR,fromXYZ:oR,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ys},outputColorSpaceConfig:{drawingBufferColorSpace:Ys}},[Ys]:{primaries:e,whitePoint:n,transfer:kn,toXYZ:rR,fromXYZ:oR,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ys}}}),i}const bn=TH();function mc(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function tp(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Md;class UO{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Md===void 0&&(Md=Wg("canvas")),Md.width=e.width,Md.height=e.height;const s=Md.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),n=Md}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Wg("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const s=n.getImageData(0,0,e.width,e.height),a=s.data;for(let o=0;o<a.length;o++)a[o]=mc(a[o]/255)*255;return n.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(mc(t[n]/255)*255):t[n]=mc(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let CH=0;class Tu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:CH++}),this.uuid=tr(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},s=this.data;if(s!==null){let a;if(Array.isArray(s)){a=[];for(let o=0,c=s.length;o<c;o++)s[o].isDataTexture?a.push(qS(s[o].image)):a.push(qS(s[o]))}else a=qS(s);n.url=a}return t||(e.images[this.uuid]=n),n}}function qS(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?UO.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let RH=0;class ui extends Ml{constructor(e=ui.DEFAULT_IMAGE,t=ui.DEFAULT_MAPPING,n=$a,s=$a,a=Gi,o=Tr,c=Ws,h=_o,p=ui.DEFAULT_ANISOTROPY,m=uc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:RH++}),this.uuid=tr(),this.name="",this.source=new Tu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=h,this.offset=new He(0,0),this.repeat=new He(1,1),this.center=new He(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==W_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Bu:e.x=e.x-Math.floor(e.x);break;case $a:e.x=e.x<0?0:1;break;case lp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Bu:e.y=e.y-Math.floor(e.y);break;case $a:e.y=e.y<0?0:1;break;case lp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ui.DEFAULT_IMAGE=null;ui.DEFAULT_MAPPING=W_;ui.DEFAULT_ANISOTROPY=1;class Rn{constructor(e=0,t=0,n=0,s=1){Rn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,s){return this.x=e,this.y=t,this.z=n,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*s+o[12]*a,this.y=o[1]*t+o[5]*n+o[9]*s+o[13]*a,this.z=o[2]*t+o[6]*n+o[10]*s+o[14]*a,this.w=o[3]*t+o[7]*n+o[11]*s+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,s,a;const h=e.elements,p=h[0],m=h[4],y=h[8],A=h[1],_=h[5],S=h[9],T=h[2],E=h[6],b=h[10];if(Math.abs(m-A)<.01&&Math.abs(y-T)<.01&&Math.abs(S-E)<.01){if(Math.abs(m+A)<.1&&Math.abs(y+T)<.1&&Math.abs(S+E)<.1&&Math.abs(p+_+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(p+1)/2,D=(_+1)/2,U=(b+1)/2,P=(m+A)/4,F=(y+T)/4,H=(S+E)/4;return B>D&&B>U?B<.01?(n=0,s=.707106781,a=.707106781):(n=Math.sqrt(B),s=P/n,a=F/n):D>U?D<.01?(n=.707106781,s=0,a=.707106781):(s=Math.sqrt(D),n=P/s,a=H/s):U<.01?(n=.707106781,s=.707106781,a=0):(a=Math.sqrt(U),n=F/a,s=H/a),this.set(n,s,a,t),this}let w=Math.sqrt((E-S)*(E-S)+(y-T)*(y-T)+(A-m)*(A-m));return Math.abs(w)<.001&&(w=1),this.x=(E-S)/w,this.y=(y-T)/w,this.z=(A-m)/w,this.w=Math.acos((p+_+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this.z=Yt(this.z,e.z,t.z),this.w=Yt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this.z=Yt(this.z,e,t),this.w=Yt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Yt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ix extends Ml{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Rn(0,0,e,t),this.scissorTest=!1,this.viewport=new Rn(0,0,e,t);const s={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Gi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const a=new ui(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);a.flipY=!1,a.generateMipmaps=n.generateMipmaps,a.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let c=0;c<o;c++)this.textures[c]=a.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let s=0,a=this.textures.length;s<a;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new Tu(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bl extends ix{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class hy extends ui{constructor(e=null,t=1,n=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=ys,this.minFilter=ys,this.wrapR=$a,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class wH extends bl{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new hy(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class sx extends ui{constructor(e=null,t=1,n=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=ys,this.minFilter=ys,this.wrapR=$a,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class BH extends bl{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new sx(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class vs{constructor(e=0,t=0,n=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=s}static slerpFlat(e,t,n,s,a,o,c){let h=n[s+0],p=n[s+1],m=n[s+2],y=n[s+3];const A=a[o+0],_=a[o+1],S=a[o+2],T=a[o+3];if(c===0){e[t+0]=h,e[t+1]=p,e[t+2]=m,e[t+3]=y;return}if(c===1){e[t+0]=A,e[t+1]=_,e[t+2]=S,e[t+3]=T;return}if(y!==T||h!==A||p!==_||m!==S){let E=1-c;const b=h*A+p*_+m*S+y*T,w=b>=0?1:-1,B=1-b*b;if(B>Number.EPSILON){const U=Math.sqrt(B),P=Math.atan2(U,b*w);E=Math.sin(E*P)/U,c=Math.sin(c*P)/U}const D=c*w;if(h=h*E+A*D,p=p*E+_*D,m=m*E+S*D,y=y*E+T*D,E===1-c){const U=1/Math.sqrt(h*h+p*p+m*m+y*y);h*=U,p*=U,m*=U,y*=U}}e[t]=h,e[t+1]=p,e[t+2]=m,e[t+3]=y}static multiplyQuaternionsFlat(e,t,n,s,a,o){const c=n[s],h=n[s+1],p=n[s+2],m=n[s+3],y=a[o],A=a[o+1],_=a[o+2],S=a[o+3];return e[t]=c*S+m*y+h*_-p*A,e[t+1]=h*S+m*A+p*y-c*_,e[t+2]=p*S+m*_+c*A-h*y,e[t+3]=m*S-c*y-h*A-p*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,s){return this._x=e,this._y=t,this._z=n,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,s=e._y,a=e._z,o=e._order,c=Math.cos,h=Math.sin,p=c(n/2),m=c(s/2),y=c(a/2),A=h(n/2),_=h(s/2),S=h(a/2);switch(o){case"XYZ":this._x=A*m*y+p*_*S,this._y=p*_*y-A*m*S,this._z=p*m*S+A*_*y,this._w=p*m*y-A*_*S;break;case"YXZ":this._x=A*m*y+p*_*S,this._y=p*_*y-A*m*S,this._z=p*m*S-A*_*y,this._w=p*m*y+A*_*S;break;case"ZXY":this._x=A*m*y-p*_*S,this._y=p*_*y+A*m*S,this._z=p*m*S+A*_*y,this._w=p*m*y-A*_*S;break;case"ZYX":this._x=A*m*y-p*_*S,this._y=p*_*y+A*m*S,this._z=p*m*S-A*_*y,this._w=p*m*y+A*_*S;break;case"YZX":this._x=A*m*y+p*_*S,this._y=p*_*y+A*m*S,this._z=p*m*S-A*_*y,this._w=p*m*y-A*_*S;break;case"XZY":this._x=A*m*y-p*_*S,this._y=p*_*y-A*m*S,this._z=p*m*S+A*_*y,this._w=p*m*y+A*_*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,s=Math.sin(n);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],s=t[4],a=t[8],o=t[1],c=t[5],h=t[9],p=t[2],m=t[6],y=t[10],A=n+c+y;if(A>0){const _=.5/Math.sqrt(A+1);this._w=.25/_,this._x=(m-h)*_,this._y=(a-p)*_,this._z=(o-s)*_}else if(n>c&&n>y){const _=2*Math.sqrt(1+n-c-y);this._w=(m-h)/_,this._x=.25*_,this._y=(s+o)/_,this._z=(a+p)/_}else if(c>y){const _=2*Math.sqrt(1+c-n-y);this._w=(a-p)/_,this._x=(s+o)/_,this._y=.25*_,this._z=(h+m)/_}else{const _=2*Math.sqrt(1+y-n-c);this._w=(o-s)/_,this._x=(a+p)/_,this._y=(h+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Yt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const s=Math.min(1,t/n);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,s=e._y,a=e._z,o=e._w,c=t._x,h=t._y,p=t._z,m=t._w;return this._x=n*m+o*c+s*p-a*h,this._y=s*m+o*h+a*c-n*p,this._z=a*m+o*p+n*h-s*c,this._w=o*m-n*c-s*h-a*p,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,s=this._y,a=this._z,o=this._w;let c=o*e._w+n*e._x+s*e._y+a*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=o,this._x=n,this._y=s,this._z=a,this;const h=1-c*c;if(h<=Number.EPSILON){const _=1-t;return this._w=_*o+t*this._w,this._x=_*n+t*this._x,this._y=_*s+t*this._y,this._z=_*a+t*this._z,this.normalize(),this}const p=Math.sqrt(h),m=Math.atan2(p,c),y=Math.sin((1-t)*m)/p,A=Math.sin(t*m)/p;return this._w=o*y+this._w*A,this._x=n*y+this._x*A,this._y=s*y+this._y*A,this._z=a*y+this._z*A,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),s=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(s*Math.sin(e),s*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class q{constructor(e=0,t=0,n=0){q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(lR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(lR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,s=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*s,this.y=a[1]*t+a[4]*n+a[7]*s,this.z=a[2]*t+a[5]*n+a[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,a=e.elements,o=1/(a[3]*t+a[7]*n+a[11]*s+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*s+a[12])*o,this.y=(a[1]*t+a[5]*n+a[9]*s+a[13])*o,this.z=(a[2]*t+a[6]*n+a[10]*s+a[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,s=this.z,a=e.x,o=e.y,c=e.z,h=e.w,p=2*(o*s-c*n),m=2*(c*t-a*s),y=2*(a*n-o*t);return this.x=t+h*p+o*y-c*m,this.y=n+h*m+c*p-a*y,this.z=s+h*y+a*m-o*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,s=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*s,this.y=a[1]*t+a[5]*n+a[9]*s,this.z=a[2]*t+a[6]*n+a[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this.z=Yt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this.z=Yt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Yt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,s=e.y,a=e.z,o=t.x,c=t.y,h=t.z;return this.x=s*h-a*c,this.y=a*o-n*h,this.z=n*c-s*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return WS.copy(this).projectOnVector(e),this.sub(WS)}reflect(e){return this.sub(WS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Yt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,s=this.z-e.z;return t*t+n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const s=Math.sin(t)*e;return this.x=s*Math.sin(n),this.y=Math.cos(t)*e,this.z=s*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const WS=new q,lR=new vs;class Ks{constructor(e=new q(1/0,1/0,1/0),t=new q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(uo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(uo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=uo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=a.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,uo):uo.fromBufferAttribute(a,o),uo.applyMatrix4(e.matrixWorld),this.expandByPoint(uo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Av.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),Av.copy(n.boundingBox)),Av.applyMatrix4(e.matrixWorld),this.union(Av)}const s=e.children;for(let a=0,o=s.length;a<o;a++)this.expandByObject(s[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,uo),uo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jm),_v.subVectors(this.max,Jm),Ed.subVectors(e.a,Jm),Td.subVectors(e.b,Jm),Cd.subVectors(e.c,Jm),fu.subVectors(Td,Ed),hu.subVectors(Cd,Td),Df.subVectors(Ed,Cd);let t=[0,-fu.z,fu.y,0,-hu.z,hu.y,0,-Df.z,Df.y,fu.z,0,-fu.x,hu.z,0,-hu.x,Df.z,0,-Df.x,-fu.y,fu.x,0,-hu.y,hu.x,0,-Df.y,Df.x,0];return!KS(t,Ed,Td,Cd,_v)||(t=[1,0,0,0,1,0,0,0,1],!KS(t,Ed,Td,Cd,_v))?!1:(xv.crossVectors(fu,hu),t=[xv.x,xv.y,xv.z],KS(t,Ed,Td,Cd,_v))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(uo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ec[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ec[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ec[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ec[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ec[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ec[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ec[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ec[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ec),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ec=[new q,new q,new q,new q,new q,new q,new q,new q],uo=new q,Av=new Ks,Ed=new q,Td=new q,Cd=new q,fu=new q,hu=new q,Df=new q,Jm=new q,_v=new q,xv=new q,Of=new q;function KS(i,e,t,n,s){for(let a=0,o=i.length-3;a<=o;a+=3){Of.fromArray(i,a);const c=s.x*Math.abs(Of.x)+s.y*Math.abs(Of.y)+s.z*Math.abs(Of.z),h=e.dot(Of),p=t.dot(Of),m=n.dot(Of);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>c)return!1}return!0}const DH=new Ks,Zm=new q,JS=new q;class Bs{constructor(e=new q,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):DH.setFromPoints(e).getCenter(n);let s=0;for(let a=0,o=e.length;a<o;a++)s=Math.max(s,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Zm.subVectors(e,this.center);const t=Zm.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),s=(n-this.radius)*.5;this.center.addScaledVector(Zm,s/n),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(JS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Zm.copy(e.center).add(JS)),this.expandByPoint(Zm.copy(e.center).sub(JS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const tc=new q,ZS=new q,Sv=new q,du=new q,QS=new q,bv=new q,$S=new q;class bh{constructor(e=new q,t=new q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,tc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=tc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(tc.copy(this.origin).addScaledVector(this.direction,t),tc.distanceToSquared(e))}distanceSqToSegment(e,t,n,s){ZS.copy(e).add(t).multiplyScalar(.5),Sv.copy(t).sub(e).normalize(),du.copy(this.origin).sub(ZS);const a=e.distanceTo(t)*.5,o=-this.direction.dot(Sv),c=du.dot(this.direction),h=-du.dot(Sv),p=du.lengthSq(),m=Math.abs(1-o*o);let y,A,_,S;if(m>0)if(y=o*h-c,A=o*c-h,S=a*m,y>=0)if(A>=-S)if(A<=S){const T=1/m;y*=T,A*=T,_=y*(y+o*A+2*c)+A*(o*y+A+2*h)+p}else A=a,y=Math.max(0,-(o*A+c)),_=-y*y+A*(A+2*h)+p;else A=-a,y=Math.max(0,-(o*A+c)),_=-y*y+A*(A+2*h)+p;else A<=-S?(y=Math.max(0,-(-o*a+c)),A=y>0?-a:Math.min(Math.max(-a,-h),a),_=-y*y+A*(A+2*h)+p):A<=S?(y=0,A=Math.min(Math.max(-a,-h),a),_=A*(A+2*h)+p):(y=Math.max(0,-(o*a+c)),A=y>0?a:Math.min(Math.max(-a,-h),a),_=-y*y+A*(A+2*h)+p);else A=o>0?-a:a,y=Math.max(0,-(o*A+c)),_=-y*y+A*(A+2*h)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,y),s&&s.copy(ZS).addScaledVector(Sv,A),_}intersectSphere(e,t){tc.subVectors(e.center,this.origin);const n=tc.dot(this.direction),s=tc.dot(tc)-n*n,a=e.radius*e.radius;if(s>a)return null;const o=Math.sqrt(a-s),c=n-o,h=n+o;return h<0?null:c<0?this.at(h,t):this.at(c,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,s,a,o,c,h;const p=1/this.direction.x,m=1/this.direction.y,y=1/this.direction.z,A=this.origin;return p>=0?(n=(e.min.x-A.x)*p,s=(e.max.x-A.x)*p):(n=(e.max.x-A.x)*p,s=(e.min.x-A.x)*p),m>=0?(a=(e.min.y-A.y)*m,o=(e.max.y-A.y)*m):(a=(e.max.y-A.y)*m,o=(e.min.y-A.y)*m),n>o||a>s||((a>n||isNaN(n))&&(n=a),(o<s||isNaN(s))&&(s=o),y>=0?(c=(e.min.z-A.z)*y,h=(e.max.z-A.z)*y):(c=(e.max.z-A.z)*y,h=(e.min.z-A.z)*y),n>h||c>s)||((c>n||n!==n)&&(n=c),(h<s||s!==s)&&(s=h),s<0)?null:this.at(n>=0?n:s,t)}intersectsBox(e){return this.intersectBox(e,tc)!==null}intersectTriangle(e,t,n,s,a){QS.subVectors(t,e),bv.subVectors(n,e),$S.crossVectors(QS,bv);let o=this.direction.dot($S),c;if(o>0){if(s)return null;c=1}else if(o<0)c=-1,o=-o;else return null;du.subVectors(this.origin,e);const h=c*this.direction.dot(bv.crossVectors(du,bv));if(h<0)return null;const p=c*this.direction.dot(QS.cross(du));if(p<0||h+p>o)return null;const m=-c*du.dot($S);return m<0?null:this.at(m/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Nt{constructor(e,t,n,s,a,o,c,h,p,m,y,A,_,S,T,E){Nt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,s,a,o,c,h,p,m,y,A,_,S,T,E)}set(e,t,n,s,a,o,c,h,p,m,y,A,_,S,T,E){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=s,b[1]=a,b[5]=o,b[9]=c,b[13]=h,b[2]=p,b[6]=m,b[10]=y,b[14]=A,b[3]=_,b[7]=S,b[11]=T,b[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Nt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,s=1/Rd.setFromMatrixColumn(e,0).length(),a=1/Rd.setFromMatrixColumn(e,1).length(),o=1/Rd.setFromMatrixColumn(e,2).length();return t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,s=e.y,a=e.z,o=Math.cos(n),c=Math.sin(n),h=Math.cos(s),p=Math.sin(s),m=Math.cos(a),y=Math.sin(a);if(e.order==="XYZ"){const A=o*m,_=o*y,S=c*m,T=c*y;t[0]=h*m,t[4]=-h*y,t[8]=p,t[1]=_+S*p,t[5]=A-T*p,t[9]=-c*h,t[2]=T-A*p,t[6]=S+_*p,t[10]=o*h}else if(e.order==="YXZ"){const A=h*m,_=h*y,S=p*m,T=p*y;t[0]=A+T*c,t[4]=S*c-_,t[8]=o*p,t[1]=o*y,t[5]=o*m,t[9]=-c,t[2]=_*c-S,t[6]=T+A*c,t[10]=o*h}else if(e.order==="ZXY"){const A=h*m,_=h*y,S=p*m,T=p*y;t[0]=A-T*c,t[4]=-o*y,t[8]=S+_*c,t[1]=_+S*c,t[5]=o*m,t[9]=T-A*c,t[2]=-o*p,t[6]=c,t[10]=o*h}else if(e.order==="ZYX"){const A=o*m,_=o*y,S=c*m,T=c*y;t[0]=h*m,t[4]=S*p-_,t[8]=A*p+T,t[1]=h*y,t[5]=T*p+A,t[9]=_*p-S,t[2]=-p,t[6]=c*h,t[10]=o*h}else if(e.order==="YZX"){const A=o*h,_=o*p,S=c*h,T=c*p;t[0]=h*m,t[4]=T-A*y,t[8]=S*y+_,t[1]=y,t[5]=o*m,t[9]=-c*m,t[2]=-p*m,t[6]=_*y+S,t[10]=A-T*y}else if(e.order==="XZY"){const A=o*h,_=o*p,S=c*h,T=c*p;t[0]=h*m,t[4]=-y,t[8]=p*m,t[1]=A*y+T,t[5]=o*m,t[9]=_*y-S,t[2]=S*y-_,t[6]=c*m,t[10]=T*y+A}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(OH,e,LH)}lookAt(e,t,n){const s=this.elements;return Za.subVectors(e,t),Za.lengthSq()===0&&(Za.z=1),Za.normalize(),pu.crossVectors(n,Za),pu.lengthSq()===0&&(Math.abs(n.z)===1?Za.x+=1e-4:Za.z+=1e-4,Za.normalize(),pu.crossVectors(n,Za)),pu.normalize(),Mv.crossVectors(Za,pu),s[0]=pu.x,s[4]=Mv.x,s[8]=Za.x,s[1]=pu.y,s[5]=Mv.y,s[9]=Za.y,s[2]=pu.z,s[6]=Mv.z,s[10]=Za.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,a=this.elements,o=n[0],c=n[4],h=n[8],p=n[12],m=n[1],y=n[5],A=n[9],_=n[13],S=n[2],T=n[6],E=n[10],b=n[14],w=n[3],B=n[7],D=n[11],U=n[15],P=s[0],F=s[4],H=s[8],N=s[12],L=s[1],G=s[5],W=s[9],K=s[13],$=s[2],ge=s[6],ee=s[10],re=s[14],se=s[3],Te=s[7],Y=s[11],oe=s[15];return a[0]=o*P+c*L+h*$+p*se,a[4]=o*F+c*G+h*ge+p*Te,a[8]=o*H+c*W+h*ee+p*Y,a[12]=o*N+c*K+h*re+p*oe,a[1]=m*P+y*L+A*$+_*se,a[5]=m*F+y*G+A*ge+_*Te,a[9]=m*H+y*W+A*ee+_*Y,a[13]=m*N+y*K+A*re+_*oe,a[2]=S*P+T*L+E*$+b*se,a[6]=S*F+T*G+E*ge+b*Te,a[10]=S*H+T*W+E*ee+b*Y,a[14]=S*N+T*K+E*re+b*oe,a[3]=w*P+B*L+D*$+U*se,a[7]=w*F+B*G+D*ge+U*Te,a[11]=w*H+B*W+D*ee+U*Y,a[15]=w*N+B*K+D*re+U*oe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],s=e[8],a=e[12],o=e[1],c=e[5],h=e[9],p=e[13],m=e[2],y=e[6],A=e[10],_=e[14],S=e[3],T=e[7],E=e[11],b=e[15];return S*(+a*h*y-s*p*y-a*c*A+n*p*A+s*c*_-n*h*_)+T*(+t*h*_-t*p*A+a*o*A-s*o*_+s*p*m-a*h*m)+E*(+t*p*y-t*c*_-a*o*y+n*o*_+a*c*m-n*p*m)+b*(-s*c*m-t*h*y+t*c*A+s*o*y-n*o*A+n*h*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],a=e[3],o=e[4],c=e[5],h=e[6],p=e[7],m=e[8],y=e[9],A=e[10],_=e[11],S=e[12],T=e[13],E=e[14],b=e[15],w=y*E*p-T*A*p+T*h*_-c*E*_-y*h*b+c*A*b,B=S*A*p-m*E*p-S*h*_+o*E*_+m*h*b-o*A*b,D=m*T*p-S*y*p+S*c*_-o*T*_-m*c*b+o*y*b,U=S*y*h-m*T*h-S*c*A+o*T*A+m*c*E-o*y*E,P=t*w+n*B+s*D+a*U;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/P;return e[0]=w*F,e[1]=(T*A*a-y*E*a-T*s*_+n*E*_+y*s*b-n*A*b)*F,e[2]=(c*E*a-T*h*a+T*s*p-n*E*p-c*s*b+n*h*b)*F,e[3]=(y*h*a-c*A*a-y*s*p+n*A*p+c*s*_-n*h*_)*F,e[4]=B*F,e[5]=(m*E*a-S*A*a+S*s*_-t*E*_-m*s*b+t*A*b)*F,e[6]=(S*h*a-o*E*a-S*s*p+t*E*p+o*s*b-t*h*b)*F,e[7]=(o*A*a-m*h*a+m*s*p-t*A*p-o*s*_+t*h*_)*F,e[8]=D*F,e[9]=(S*y*a-m*T*a-S*n*_+t*T*_+m*n*b-t*y*b)*F,e[10]=(o*T*a-S*c*a+S*n*p-t*T*p-o*n*b+t*c*b)*F,e[11]=(m*c*a-o*y*a-m*n*p+t*y*p+o*n*_-t*c*_)*F,e[12]=U*F,e[13]=(m*T*s-S*y*s+S*n*A-t*T*A-m*n*E+t*y*E)*F,e[14]=(S*c*s-o*T*s-S*n*h+t*T*h+o*n*E-t*c*E)*F,e[15]=(o*y*s-m*c*s+m*n*h-t*y*h-o*n*A+t*c*A)*F,this}scale(e){const t=this.elements,n=e.x,s=e.y,a=e.z;return t[0]*=n,t[4]*=s,t[8]*=a,t[1]*=n,t[5]*=s,t[9]*=a,t[2]*=n,t[6]*=s,t[10]*=a,t[3]*=n,t[7]*=s,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,s))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),s=Math.sin(t),a=1-n,o=e.x,c=e.y,h=e.z,p=a*o,m=a*c;return this.set(p*o+n,p*c-s*h,p*h+s*c,0,p*c+s*h,m*c+n,m*h-s*o,0,p*h-s*c,m*h+s*o,a*h*h+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,s,a,o){return this.set(1,n,a,0,e,1,o,0,t,s,1,0,0,0,0,1),this}compose(e,t,n){const s=this.elements,a=t._x,o=t._y,c=t._z,h=t._w,p=a+a,m=o+o,y=c+c,A=a*p,_=a*m,S=a*y,T=o*m,E=o*y,b=c*y,w=h*p,B=h*m,D=h*y,U=n.x,P=n.y,F=n.z;return s[0]=(1-(T+b))*U,s[1]=(_+D)*U,s[2]=(S-B)*U,s[3]=0,s[4]=(_-D)*P,s[5]=(1-(A+b))*P,s[6]=(E+w)*P,s[7]=0,s[8]=(S+B)*F,s[9]=(E-w)*F,s[10]=(1-(A+T))*F,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,n){const s=this.elements;let a=Rd.set(s[0],s[1],s[2]).length();const o=Rd.set(s[4],s[5],s[6]).length(),c=Rd.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),e.x=s[12],e.y=s[13],e.z=s[14],fo.copy(this);const p=1/a,m=1/o,y=1/c;return fo.elements[0]*=p,fo.elements[1]*=p,fo.elements[2]*=p,fo.elements[4]*=m,fo.elements[5]*=m,fo.elements[6]*=m,fo.elements[8]*=y,fo.elements[9]*=y,fo.elements[10]*=y,t.setFromRotationMatrix(fo),n.x=a,n.y=o,n.z=c,this}makePerspective(e,t,n,s,a,o,c=vo){const h=this.elements,p=2*a/(t-e),m=2*a/(n-s),y=(t+e)/(t-e),A=(n+s)/(n-s);let _,S;if(c===vo)_=-(o+a)/(o-a),S=-2*o*a/(o-a);else if(c===qg)_=-o/(o-a),S=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return h[0]=p,h[4]=0,h[8]=y,h[12]=0,h[1]=0,h[5]=m,h[9]=A,h[13]=0,h[2]=0,h[6]=0,h[10]=_,h[14]=S,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,t,n,s,a,o,c=vo){const h=this.elements,p=1/(t-e),m=1/(n-s),y=1/(o-a),A=(t+e)*p,_=(n+s)*m;let S,T;if(c===vo)S=(o+a)*y,T=-2*y;else if(c===qg)S=a*y,T=-1*y;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return h[0]=2*p,h[4]=0,h[8]=0,h[12]=-A,h[1]=0,h[5]=2*m,h[9]=0,h[13]=-_,h[2]=0,h[6]=0,h[10]=T,h[14]=-S,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<16;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Rd=new q,fo=new Nt,OH=new q(0,0,0),LH=new q(1,1,1),pu=new q,Mv=new q,Za=new q,cR=new Nt,uR=new vs;class ir{constructor(e=0,t=0,n=0,s=ir.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,s=this._order){return this._x=e,this._y=t,this._z=n,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const s=e.elements,a=s[0],o=s[4],c=s[8],h=s[1],p=s[5],m=s[9],y=s[2],A=s[6],_=s[10];switch(t){case"XYZ":this._y=Math.asin(Yt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(A,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Yt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,_),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-y,a),this._z=0);break;case"ZXY":this._x=Math.asin(Yt(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(-y,_),this._z=Math.atan2(-o,p)):(this._y=0,this._z=Math.atan2(h,a));break;case"ZYX":this._y=Math.asin(-Yt(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(A,_),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-o,p));break;case"YZX":this._z=Math.asin(Yt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-y,a)):(this._x=0,this._y=Math.atan2(c,_));break;case"XZY":this._z=Math.asin(-Yt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(A,p),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return cR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cR,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return uR.setFromEuler(this),this.setFromQuaternion(uR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ir.DEFAULT_ORDER="XYZ";let gp=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},NH=0;const fR=new q,wd=new vs,nc=new Nt,Ev=new q,Qm=new q,UH=new q,PH=new vs,hR=new q(1,0,0),dR=new q(0,1,0),pR=new q(0,0,1),mR={type:"added"},IH={type:"removed"},Bd={type:"childadded",child:null},e1={type:"childremoved",child:null};class vn extends Ml{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:NH++}),this.uuid=tr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=vn.DEFAULT_UP.clone();const e=new q,t=new ir,n=new vs,s=new q(1,1,1);function a(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Nt},normalMatrix:{value:new Kt}}),this.matrix=new Nt,this.matrixWorld=new Nt,this.matrixAutoUpdate=vn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=vn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new gp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return wd.setFromAxisAngle(e,t),this.quaternion.multiply(wd),this}rotateOnWorldAxis(e,t){return wd.setFromAxisAngle(e,t),this.quaternion.premultiply(wd),this}rotateX(e){return this.rotateOnAxis(hR,e)}rotateY(e){return this.rotateOnAxis(dR,e)}rotateZ(e){return this.rotateOnAxis(pR,e)}translateOnAxis(e,t){return fR.copy(e).applyQuaternion(this.quaternion),this.position.add(fR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(hR,e)}translateY(e){return this.translateOnAxis(dR,e)}translateZ(e){return this.translateOnAxis(pR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(nc.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Ev.copy(e):Ev.set(e,t,n);const s=this.parent;this.updateWorldMatrix(!0,!1),Qm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?nc.lookAt(Qm,Ev,this.up):nc.lookAt(Ev,Qm,this.up),this.quaternion.setFromRotationMatrix(nc),s&&(nc.extractRotation(s.matrixWorld),wd.setFromRotationMatrix(nc),this.quaternion.premultiply(wd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(mR),Bd.child=e,this.dispatchEvent(Bd),Bd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(IH),e1.child=e,this.dispatchEvent(e1),e1.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),nc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),nc.multiply(e.parent.matrixWorld)),e.applyMatrix4(nc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(mR),Bd.child=e,this.dispatchEvent(Bd),Bd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,s=this.children.length;n<s;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qm,e,UH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qm,PH,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(c=>({boxInitialized:c.boxInitialized,boxMin:c.box.min.toArray(),boxMax:c.box.max.toArray(),sphereInitialized:c.sphereInitialized,sphereRadius:c.sphere.radius,sphereCenter:c.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function a(c,h){return c[h.uuid]===void 0&&(c[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const h=c.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const y=h[p];a(e.shapes,y)}else a(e.shapes,h)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let h=0,p=this.material.length;h<p;h++)c.push(a(e.materials,this.material[h]));s.material=c}else s.material=a(e.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++){const h=this.animations[c];s.animations.push(a(e.animations,h))}}if(t){const c=o(e.geometries),h=o(e.materials),p=o(e.textures),m=o(e.images),y=o(e.shapes),A=o(e.skeletons),_=o(e.animations),S=o(e.nodes);c.length>0&&(n.geometries=c),h.length>0&&(n.materials=h),p.length>0&&(n.textures=p),m.length>0&&(n.images=m),y.length>0&&(n.shapes=y),A.length>0&&(n.skeletons=A),_.length>0&&(n.animations=_),S.length>0&&(n.nodes=S)}return n.object=s,n;function o(c){const h=[];for(const p in c){const m=c[p];delete m.metadata,h.push(m)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const s=e.children[n];this.add(s.clone())}return this}}vn.DEFAULT_UP=new q(0,1,0);vn.DEFAULT_MATRIX_AUTO_UPDATE=!0;vn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ho=new q,ic=new q,t1=new q,sc=new q,Dd=new q,Od=new q,gR=new q,n1=new q,i1=new q,s1=new q,a1=new Rn,r1=new Rn,o1=new Rn;class Oa{constructor(e=new q,t=new q,n=new q){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,s){s.subVectors(n,t),ho.subVectors(e,t),s.cross(ho);const a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}static getBarycoord(e,t,n,s,a){ho.subVectors(s,t),ic.subVectors(n,t),t1.subVectors(e,t);const o=ho.dot(ho),c=ho.dot(ic),h=ho.dot(t1),p=ic.dot(ic),m=ic.dot(t1),y=o*p-c*c;if(y===0)return a.set(0,0,0),null;const A=1/y,_=(p*h-c*m)*A,S=(o*m-c*h)*A;return a.set(1-_-S,S,_)}static containsPoint(e,t,n,s){return this.getBarycoord(e,t,n,s,sc)===null?!1:sc.x>=0&&sc.y>=0&&sc.x+sc.y<=1}static getInterpolation(e,t,n,s,a,o,c,h){return this.getBarycoord(e,t,n,s,sc)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(a,sc.x),h.addScaledVector(o,sc.y),h.addScaledVector(c,sc.z),h)}static getInterpolatedAttribute(e,t,n,s,a,o){return a1.setScalar(0),r1.setScalar(0),o1.setScalar(0),a1.fromBufferAttribute(e,t),r1.fromBufferAttribute(e,n),o1.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(a1,a.x),o.addScaledVector(r1,a.y),o.addScaledVector(o1,a.z),o}static isFrontFacing(e,t,n,s){return ho.subVectors(n,t),ic.subVectors(e,t),ho.cross(ic).dot(s)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,s){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,n,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ho.subVectors(this.c,this.b),ic.subVectors(this.a,this.b),ho.cross(ic).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Oa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Oa.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,s,a){return Oa.getInterpolation(e,this.a,this.b,this.c,t,n,s,a)}containsPoint(e){return Oa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Oa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,s=this.b,a=this.c;let o,c;Dd.subVectors(s,n),Od.subVectors(a,n),n1.subVectors(e,n);const h=Dd.dot(n1),p=Od.dot(n1);if(h<=0&&p<=0)return t.copy(n);i1.subVectors(e,s);const m=Dd.dot(i1),y=Od.dot(i1);if(m>=0&&y<=m)return t.copy(s);const A=h*y-m*p;if(A<=0&&h>=0&&m<=0)return o=h/(h-m),t.copy(n).addScaledVector(Dd,o);s1.subVectors(e,a);const _=Dd.dot(s1),S=Od.dot(s1);if(S>=0&&_<=S)return t.copy(a);const T=_*p-h*S;if(T<=0&&p>=0&&S<=0)return c=p/(p-S),t.copy(n).addScaledVector(Od,c);const E=m*S-_*y;if(E<=0&&y-m>=0&&_-S>=0)return gR.subVectors(a,s),c=(y-m)/(y-m+(_-S)),t.copy(s).addScaledVector(gR,c);const b=1/(E+T+A);return o=T*b,c=A*b,t.copy(n).addScaledVector(Dd,o).addScaledVector(Od,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const PO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mu={h:0,s:0,l:0},Tv={h:0,s:0,l:0};function l1(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class ut{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ys){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,s=bn.workingColorSpace){return this.r=e,this.g=t,this.b=n,bn.toWorkingColorSpace(this,s),this}setHSL(e,t,n,s=bn.workingColorSpace){if(e=SE(e,1),t=Yt(t,0,1),n=Yt(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,o=2*n-a;this.r=l1(o,a,e+1/3),this.g=l1(o,a,e),this.b=l1(o,a,e-1/3)}return bn.toWorkingColorSpace(this,s),this}setStyle(e,t=Ys){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=s[1],c=s[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=s[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ys){const n=PO[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=mc(e.r),this.g=mc(e.g),this.b=mc(e.b),this}copyLinearToSRGB(e){return this.r=tp(e.r),this.g=tp(e.g),this.b=tp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ys){return bn.fromWorkingColorSpace(ks.copy(this),e),Math.round(Yt(ks.r*255,0,255))*65536+Math.round(Yt(ks.g*255,0,255))*256+Math.round(Yt(ks.b*255,0,255))}getHexString(e=Ys){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=bn.workingColorSpace){bn.fromWorkingColorSpace(ks.copy(this),t);const n=ks.r,s=ks.g,a=ks.b,o=Math.max(n,s,a),c=Math.min(n,s,a);let h,p;const m=(c+o)/2;if(c===o)h=0,p=0;else{const y=o-c;switch(p=m<=.5?y/(o+c):y/(2-o-c),o){case n:h=(s-a)/y+(s<a?6:0);break;case s:h=(a-n)/y+2;break;case a:h=(n-s)/y+4;break}h/=6}return e.h=h,e.s=p,e.l=m,e}getRGB(e,t=bn.workingColorSpace){return bn.fromWorkingColorSpace(ks.copy(this),t),e.r=ks.r,e.g=ks.g,e.b=ks.b,e}getStyle(e=Ys){bn.fromWorkingColorSpace(ks.copy(this),e);const t=ks.r,n=ks.g,s=ks.b;return e!==Ys?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(s*255)})`}offsetHSL(e,t,n){return this.getHSL(mu),this.setHSL(mu.h+e,mu.s+t,mu.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(mu),e.getHSL(Tv);const n=wg(mu.h,Tv.h,t),s=wg(mu.s,Tv.s,t),a=wg(mu.l,Tv.l,t);return this.setHSL(n,s,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,s=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*s,this.g=a[1]*t+a[4]*n+a[7]*s,this.b=a[2]*t+a[5]*n+a[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ks=new ut;ut.NAMES=PO;let FH=0;class es extends Ml{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:FH++}),this.uuid=tr(),this.name="",this.type="Material",this.blending=lh,this.side=Sl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=HA,this.blendDst=GA,this.blendEquation=Mu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ut(0,0,0),this.blendAlpha=0,this.depthFunc=hh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Db,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wf,this.stencilZFail=Wf,this.stencilZPass=Wf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(n):s&&s.isVector3&&n&&n.isVector3?s.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==lh&&(n.blending=this.blending),this.side!==Sl&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==HA&&(n.blendSrc=this.blendSrc),this.blendDst!==GA&&(n.blendDst=this.blendDst),this.blendEquation!==Mu&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==hh&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Db&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wf&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Wf&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Wf&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function s(a){const o=[];for(const c in a){const h=a[c];delete h.metadata,o.push(h)}return o}if(t){const a=s(e.textures),o=s(e.images);a.length>0&&(n.textures=a),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const s=t.length;n=new Array(s);for(let a=0;a!==s;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class er extends es{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.combine=uy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const fc=zH();function zH(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),s=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(n[h]=0,n[h|256]=32768,s[h]=24,s[h|256]=24):p<-14?(n[h]=1024>>-p-14,n[h|256]=1024>>-p-14|32768,s[h]=-p-1,s[h|256]=-p-1):p<=15?(n[h]=p+15<<10,n[h|256]=p+15<<10|32768,s[h]=13,s[h|256]=13):p<128?(n[h]=31744,n[h|256]=64512,s[h]=24,s[h|256]=24):(n[h]=31744,n[h|256]=64512,s[h]=13,s[h|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,a[h]=p|m}for(let h=1024;h<2048;++h)a[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)o[h]=h<<23;o[31]=1199570944,o[32]=2147483648;for(let h=33;h<63;++h)o[h]=2147483648+(h-32<<23);o[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(c[h]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:s,mantissaTable:a,exponentTable:o,offsetTable:c}}function Da(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Yt(i,-65504,65504),fc.floatView[0]=i;const e=fc.uint32View[0],t=e>>23&511;return fc.baseTable[t]+((e&8388607)>>fc.shiftTable[t])}function dg(i){const e=i>>10;return fc.uint32View[0]=fc.mantissaTable[fc.offsetTable[e]+(i&1023)]+fc.exponentTable[e],fc.floatView[0]}class HH{static toHalfFloat(e){return Da(e)}static fromHalfFloat(e){return dg(e)}}const Wi=new q,Cv=new He;let GH=0;class Bn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:GH++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Yg,this.updateRanges=[],this.gpuType=La,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let s=0,a=this.itemSize;s<a;s++)this.array[e+s]=t.array[n+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Cv.fromBufferAttribute(this,t),Cv.applyMatrix3(e),this.setXY(t,Cv.x,Cv.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Wi.fromBufferAttribute(this,t),Wi.applyMatrix3(e),this.setXYZ(t,Wi.x,Wi.y,Wi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Wi.fromBufferAttribute(this,t),Wi.applyMatrix4(e),this.setXYZ(t,Wi.x,Wi.y,Wi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Wi.fromBufferAttribute(this,t),Wi.applyNormalMatrix(e),this.setXYZ(t,Wi.x,Wi.y,Wi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Wi.fromBufferAttribute(this,t),Wi.transformDirection(e),this.setXYZ(t,Wi.x,Wi.y,Wi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ha(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ha(t,this.array)),t}setX(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ha(t,this.array)),t}setY(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ha(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ha(t,this.array)),t}setW(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array),s=Zt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this}setXYZW(e,t,n,s,a){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array),s=Zt(s,this.array),a=Zt(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Yg&&(e.usage=this.usage),e}}class VH extends Bn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class kH extends Bn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class XH extends Bn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class jH extends Bn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class bE extends Bn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class YH extends Bn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class ME extends Bn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class qH extends Bn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=dg(this.array[e*this.itemSize]);return this.normalized&&(t=ha(t,this.array)),t}setX(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize]=Da(t),this}getY(e){let t=dg(this.array[e*this.itemSize+1]);return this.normalized&&(t=ha(t,this.array)),t}setY(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+1]=Da(t),this}getZ(e){let t=dg(this.array[e*this.itemSize+2]);return this.normalized&&(t=ha(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+2]=Da(t),this}getW(e){let t=dg(this.array[e*this.itemSize+3]);return this.normalized&&(t=ha(t,this.array)),t}setW(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+3]=Da(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(n),this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array),s=Zt(s,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(n),this.array[e+2]=Da(s),this}setXYZW(e,t,n,s,a){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array),s=Zt(s,this.array),a=Zt(a,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(n),this.array[e+2]=Da(s),this.array[e+3]=Da(a),this}}class xt extends Bn{constructor(e,t,n){super(new Float32Array(e),t,n)}}let WH=0;const br=new Nt,c1=new vn,Ld=new q,Qa=new Ks,$m=new Ks,ps=new q;class Jt extends Ml{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:WH++}),this.uuid=tr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(LO(e)?ME:bE)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new Kt().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return br.makeRotationFromQuaternion(e),this.applyMatrix4(br),this}rotateX(e){return br.makeRotationX(e),this.applyMatrix4(br),this}rotateY(e){return br.makeRotationY(e),this.applyMatrix4(br),this}rotateZ(e){return br.makeRotationZ(e),this.applyMatrix4(br),this}translate(e,t,n){return br.makeTranslation(e,t,n),this.applyMatrix4(br),this}scale(e,t,n){return br.makeScale(e,t,n),this.applyMatrix4(br),this}lookAt(e){return c1.lookAt(e),c1.updateMatrix(),this.applyMatrix4(c1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ld).negate(),this.translate(Ld.x,Ld.y,Ld.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let s=0,a=e.length;s<a;s++){const o=e[s];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new xt(n,3))}else{const n=Math.min(e.length,t.count);for(let s=0;s<n;s++){const a=e[s];t.setXYZ(s,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ks);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new q(-1/0,-1/0,-1/0),new q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,s=t.length;n<s;n++){const a=t[n];Qa.setFromBufferAttribute(a),this.morphTargetsRelative?(ps.addVectors(this.boundingBox.min,Qa.min),this.boundingBox.expandByPoint(ps),ps.addVectors(this.boundingBox.max,Qa.max),this.boundingBox.expandByPoint(ps)):(this.boundingBox.expandByPoint(Qa.min),this.boundingBox.expandByPoint(Qa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new q,1/0);return}if(e){const n=this.boundingSphere.center;if(Qa.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const c=t[a];$m.setFromBufferAttribute(c),this.morphTargetsRelative?(ps.addVectors(Qa.min,$m.min),Qa.expandByPoint(ps),ps.addVectors(Qa.max,$m.max),Qa.expandByPoint(ps)):(Qa.expandByPoint($m.min),Qa.expandByPoint($m.max))}Qa.getCenter(n);let s=0;for(let a=0,o=e.count;a<o;a++)ps.fromBufferAttribute(e,a),s=Math.max(s,n.distanceToSquared(ps));if(t)for(let a=0,o=t.length;a<o;a++){const c=t[a],h=this.morphTargetsRelative;for(let p=0,m=c.count;p<m;p++)ps.fromBufferAttribute(c,p),h&&(Ld.fromBufferAttribute(e,p),ps.add(Ld)),s=Math.max(s,n.distanceToSquared(ps))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,s=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Bn(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),c=[],h=[];for(let H=0;H<n.count;H++)c[H]=new q,h[H]=new q;const p=new q,m=new q,y=new q,A=new He,_=new He,S=new He,T=new q,E=new q;function b(H,N,L){p.fromBufferAttribute(n,H),m.fromBufferAttribute(n,N),y.fromBufferAttribute(n,L),A.fromBufferAttribute(a,H),_.fromBufferAttribute(a,N),S.fromBufferAttribute(a,L),m.sub(p),y.sub(p),_.sub(A),S.sub(A);const G=1/(_.x*S.y-S.x*_.y);isFinite(G)&&(T.copy(m).multiplyScalar(S.y).addScaledVector(y,-_.y).multiplyScalar(G),E.copy(y).multiplyScalar(_.x).addScaledVector(m,-S.x).multiplyScalar(G),c[H].add(T),c[N].add(T),c[L].add(T),h[H].add(E),h[N].add(E),h[L].add(E))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let H=0,N=w.length;H<N;++H){const L=w[H],G=L.start,W=L.count;for(let K=G,$=G+W;K<$;K+=3)b(e.getX(K+0),e.getX(K+1),e.getX(K+2))}const B=new q,D=new q,U=new q,P=new q;function F(H){U.fromBufferAttribute(s,H),P.copy(U);const N=c[H];B.copy(N),B.sub(U.multiplyScalar(U.dot(N))).normalize(),D.crossVectors(P,N);const G=D.dot(h[H])<0?-1:1;o.setXYZW(H,B.x,B.y,B.z,G)}for(let H=0,N=w.length;H<N;++H){const L=w[H],G=L.start,W=L.count;for(let K=G,$=G+W;K<$;K+=3)F(e.getX(K+0)),F(e.getX(K+1)),F(e.getX(K+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Bn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let A=0,_=n.count;A<_;A++)n.setXYZ(A,0,0,0);const s=new q,a=new q,o=new q,c=new q,h=new q,p=new q,m=new q,y=new q;if(e)for(let A=0,_=e.count;A<_;A+=3){const S=e.getX(A+0),T=e.getX(A+1),E=e.getX(A+2);s.fromBufferAttribute(t,S),a.fromBufferAttribute(t,T),o.fromBufferAttribute(t,E),m.subVectors(o,a),y.subVectors(s,a),m.cross(y),c.fromBufferAttribute(n,S),h.fromBufferAttribute(n,T),p.fromBufferAttribute(n,E),c.add(m),h.add(m),p.add(m),n.setXYZ(S,c.x,c.y,c.z),n.setXYZ(T,h.x,h.y,h.z),n.setXYZ(E,p.x,p.y,p.z)}else for(let A=0,_=t.count;A<_;A+=3)s.fromBufferAttribute(t,A+0),a.fromBufferAttribute(t,A+1),o.fromBufferAttribute(t,A+2),m.subVectors(o,a),y.subVectors(s,a),m.cross(y),n.setXYZ(A+0,m.x,m.y,m.z),n.setXYZ(A+1,m.x,m.y,m.z),n.setXYZ(A+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ps.fromBufferAttribute(e,t),ps.normalize(),e.setXYZ(t,ps.x,ps.y,ps.z)}toNonIndexed(){function e(c,h){const p=c.array,m=c.itemSize,y=c.normalized,A=new p.constructor(h.length*m);let _=0,S=0;for(let T=0,E=h.length;T<E;T++){c.isInterleavedBufferAttribute?_=h[T]*c.data.stride+c.offset:_=h[T]*m;for(let b=0;b<m;b++)A[S++]=p[_++]}return new Bn(A,m,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Jt,n=this.index.array,s=this.attributes;for(const c in s){const h=s[c],p=e(h,n);t.setAttribute(c,p)}const a=this.morphAttributes;for(const c in a){const h=[],p=a[c];for(let m=0,y=p.length;m<y;m++){const A=p[m],_=e(A,n);h.push(_)}t.morphAttributes[c]=h}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,h=o.length;c<h;c++){const p=o[c];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const h in n){const p=n[h];e.data.attributes[h]=p.toJSON(e.data)}const s={};let a=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let y=0,A=p.length;y<A;y++){const _=p[y];m.push(_.toJSON(e.data))}m.length>0&&(s[h]=m,a=!0)}a&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const s=e.attributes;for(const p in s){const m=s[p];this.setAttribute(p,m.clone(t))}const a=e.morphAttributes;for(const p in a){const m=[],y=a[p];for(let A=0,_=y.length;A<_;A++)m.push(y[A].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let p=0,m=o.length;p<m;p++){const y=o[p];this.addGroup(y.start,y.count,y.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const yR=new Nt,Lf=new bh,Rv=new Bs,vR=new q,wv=new q,Bv=new q,Dv=new q,u1=new q,Ov=new q,AR=new q,Lv=new q;class Vi extends vn{constructor(e=new Jt,t=new er){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}getVertexPosition(e,t){const n=this.geometry,s=n.attributes.position,a=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(s,e);const c=this.morphTargetInfluences;if(a&&c){Ov.set(0,0,0);for(let h=0,p=a.length;h<p;h++){const m=c[h],y=a[h];m!==0&&(u1.fromBufferAttribute(y,e),o?Ov.addScaledVector(u1,m):Ov.addScaledVector(u1.sub(t),m))}t.add(Ov)}return t}raycast(e,t){const n=this.geometry,s=this.material,a=this.matrixWorld;s!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Rv.copy(n.boundingSphere),Rv.applyMatrix4(a),Lf.copy(e.ray).recast(e.near),!(Rv.containsPoint(Lf.origin)===!1&&(Lf.intersectSphere(Rv,vR)===null||Lf.origin.distanceToSquared(vR)>(e.far-e.near)**2))&&(yR.copy(a).invert(),Lf.copy(e.ray).applyMatrix4(yR),!(n.boundingBox!==null&&Lf.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Lf)))}_computeIntersections(e,t,n){let s;const a=this.geometry,o=this.material,c=a.index,h=a.attributes.position,p=a.attributes.uv,m=a.attributes.uv1,y=a.attributes.normal,A=a.groups,_=a.drawRange;if(c!==null)if(Array.isArray(o))for(let S=0,T=A.length;S<T;S++){const E=A[S],b=o[E.materialIndex],w=Math.max(E.start,_.start),B=Math.min(c.count,Math.min(E.start+E.count,_.start+_.count));for(let D=w,U=B;D<U;D+=3){const P=c.getX(D),F=c.getX(D+1),H=c.getX(D+2);s=Nv(this,b,e,n,p,m,y,P,F,H),s&&(s.faceIndex=Math.floor(D/3),s.face.materialIndex=E.materialIndex,t.push(s))}}else{const S=Math.max(0,_.start),T=Math.min(c.count,_.start+_.count);for(let E=S,b=T;E<b;E+=3){const w=c.getX(E),B=c.getX(E+1),D=c.getX(E+2);s=Nv(this,o,e,n,p,m,y,w,B,D),s&&(s.faceIndex=Math.floor(E/3),t.push(s))}}else if(h!==void 0)if(Array.isArray(o))for(let S=0,T=A.length;S<T;S++){const E=A[S],b=o[E.materialIndex],w=Math.max(E.start,_.start),B=Math.min(h.count,Math.min(E.start+E.count,_.start+_.count));for(let D=w,U=B;D<U;D+=3){const P=D,F=D+1,H=D+2;s=Nv(this,b,e,n,p,m,y,P,F,H),s&&(s.faceIndex=Math.floor(D/3),s.face.materialIndex=E.materialIndex,t.push(s))}}else{const S=Math.max(0,_.start),T=Math.min(h.count,_.start+_.count);for(let E=S,b=T;E<b;E+=3){const w=E,B=E+1,D=E+2;s=Nv(this,o,e,n,p,m,y,w,B,D),s&&(s.faceIndex=Math.floor(E/3),t.push(s))}}}}function KH(i,e,t,n,s,a,o,c){let h;if(e.side===pa?h=n.intersectTriangle(o,a,s,!0,c):h=n.intersectTriangle(s,a,o,e.side===Sl,c),h===null)return null;Lv.copy(c),Lv.applyMatrix4(i.matrixWorld);const p=t.ray.origin.distanceTo(Lv);return p<t.near||p>t.far?null:{distance:p,point:Lv.clone(),object:i}}function Nv(i,e,t,n,s,a,o,c,h,p){i.getVertexPosition(c,wv),i.getVertexPosition(h,Bv),i.getVertexPosition(p,Dv);const m=KH(i,e,t,n,wv,Bv,Dv,AR);if(m){const y=new q;Oa.getBarycoord(AR,wv,Bv,Dv,y),s&&(m.uv=Oa.getInterpolatedAttribute(s,c,h,p,y,new He)),a&&(m.uv1=Oa.getInterpolatedAttribute(a,c,h,p,y,new He)),o&&(m.normal=Oa.getInterpolatedAttribute(o,c,h,p,y,new q),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const A={a:c,b:h,c:p,normal:new q,materialIndex:0};Oa.getNormal(wv,Bv,Dv,A.normal),m.face=A,m.barycoord=y}return m}class Mh extends Jt{constructor(e=1,t=1,n=1,s=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:s,heightSegments:a,depthSegments:o};const c=this;s=Math.floor(s),a=Math.floor(a),o=Math.floor(o);const h=[],p=[],m=[],y=[];let A=0,_=0;S("z","y","x",-1,-1,n,t,e,o,a,0),S("z","y","x",1,-1,n,t,-e,o,a,1),S("x","z","y",1,1,e,n,t,s,o,2),S("x","z","y",1,-1,e,n,-t,s,o,3),S("x","y","z",1,-1,e,t,n,s,a,4),S("x","y","z",-1,-1,e,t,-n,s,a,5),this.setIndex(h),this.setAttribute("position",new xt(p,3)),this.setAttribute("normal",new xt(m,3)),this.setAttribute("uv",new xt(y,2));function S(T,E,b,w,B,D,U,P,F,H,N){const L=D/F,G=U/H,W=D/2,K=U/2,$=P/2,ge=F+1,ee=H+1;let re=0,se=0;const Te=new q;for(let Y=0;Y<ee;Y++){const oe=Y*G-K;for(let Oe=0;Oe<ge;Oe++){const je=Oe*L-W;Te[T]=je*w,Te[E]=oe*B,Te[b]=$,p.push(Te.x,Te.y,Te.z),Te[T]=0,Te[E]=0,Te[b]=P>0?1:-1,m.push(Te.x,Te.y,Te.z),y.push(Oe/F),y.push(1-Y/H),re+=1}}for(let Y=0;Y<H;Y++)for(let oe=0;oe<F;oe++){const Oe=A+oe+ge*Y,je=A+oe+ge*(Y+1),ie=A+(oe+1)+ge*(Y+1),Re=A+(oe+1)+ge*Y;h.push(Oe,je,Re),h.push(je,ie,Re),se+=6}c.addGroup(_,se,N),_+=se,A+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yp(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const s=i[t][n];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=s.clone():Array.isArray(s)?e[t][n]=s.slice():e[t][n]=s}}return e}function ua(i){const e={};for(let t=0;t<i.length;t++){const n=yp(i[t]);for(const s in n)e[s]=n[s]}return e}function JH(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function IO(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:bn.workingColorSpace}const FO={clone:yp,merge:ua};var ZH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,QH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class xo extends es{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=ZH,this.fragmentShader=QH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yp(e.uniforms),this.uniformsGroups=JH(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?t.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[s]={type:"m4",value:o.toArray()}:t.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const s in this.extensions)this.extensions[s]===!0&&(n[s]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class ax extends vn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nt,this.projectionMatrix=new Nt,this.projectionMatrixInverse=new Nt,this.coordinateSystem=vo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const gu=new q,_R=new He,xR=new He;class Ni extends ax{constructor(e=50,t=1,n=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=mp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ch*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return mp*2*Math.atan(Math.tan(ch*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){gu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(gu.x,gu.y).multiplyScalar(-e/gu.z),gu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(gu.x,gu.y).multiplyScalar(-e/gu.z)}getViewSize(e,t){return this.getViewBounds(e,_R,xR),t.subVectors(xR,_R)}setViewOffset(e,t,n,s,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ch*.5*this.fov)/this.zoom,n=2*t,s=this.aspect*n,a=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const h=o.fullWidth,p=o.fullHeight;a+=o.offsetX*s/h,t-=o.offsetY*n/p,s*=o.width/h,n*=o.height/p}const c=this.filmOffset;c!==0&&(a+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+s,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Nd=-90,Ud=1;class zO extends vn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Ni(Nd,Ud,e,t);s.layers=this.layers,this.add(s);const a=new Ni(Nd,Ud,e,t);a.layers=this.layers,this.add(a);const o=new Ni(Nd,Ud,e,t);o.layers=this.layers,this.add(o);const c=new Ni(Nd,Ud,e,t);c.layers=this.layers,this.add(c);const h=new Ni(Nd,Ud,e,t);h.layers=this.layers,this.add(h);const p=new Ni(Nd,Ud,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,s,a,o,c,h]=t;for(const p of t)this.remove(p);if(e===vo)n.up.set(0,1,0),n.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===qg)n.up.set(0,-1,0),n.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,c,h,p,m]=this.children,y=e.getRenderTarget(),A=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const T=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,s),e.render(t,a),e.setRenderTarget(n,1,s),e.render(t,o),e.setRenderTarget(n,2,s),e.render(t,c),e.setRenderTarget(n,3,s),e.render(t,h),e.setRenderTarget(n,4,s),e.render(t,p),n.texture.generateMipmaps=T,e.setRenderTarget(n,5,s),e.render(t,m),e.setRenderTarget(y,A,_),e.xr.enabled=S,n.texture.needsPMREMUpdate=!0}}class dy extends ui{constructor(e=[],t=vc,n,s,a,o,c,h,p,m){super(e,t,n,s,a,o,c,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class HO extends bl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},s=[n,n,n,n,n,n];this.texture=new dy(s,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Gi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Mh(5,5,5),a=new xo({name:"CubemapFromEquirect",uniforms:yp(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:pa,blending:pc});a.uniforms.tEquirect.value=t;const o=new Vi(s,a),c=t.minFilter;return t.minFilter===Tr&&(t.minFilter=Gi),new zO(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,n=!0,s=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,s);e.setRenderTarget(a)}}class hc extends vn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const $H={type:"move"};class MA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new hc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new hc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new hc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let s=null,a=null,o=null;const c=this._targetRay,h=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){o=!0;for(const T of e.hand.values()){const E=t.getJointPose(T,n),b=this._getHandJoint(p,T);E!==null&&(b.matrix.fromArray(E.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=E.radius),b.visible=E!==null}const m=p.joints["index-finger-tip"],y=p.joints["thumb-tip"],A=m.position.distanceTo(y.position),_=.02,S=.005;p.inputState.pinching&&A>_+S?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&A<=_-S&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(h.matrix.fromArray(a.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,a.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(a.linearVelocity)):h.hasLinearVelocity=!1,a.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(a.angularVelocity)):h.hasAngularVelocity=!1));c!==null&&(s=t.getPose(e.targetRaySpace,n),s===null&&a!==null&&(s=a),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent($H)))}return c!==null&&(c.visible=s!==null),h!==null&&(h.visible=a!==null),p!==null&&(p.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new hc;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class rx{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ut(e),this.density=t}clone(){return new rx(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class ox{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new ut(e),this.near=t,this.far=n}clone(){return new ox(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class EE extends vn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ir,this.environmentIntensity=1,this.environmentRotation=new ir,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class py{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Yg,this.updateRanges=[],this.version=0,this.uuid=tr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let s=0,a=this.stride;s<a;s++)this.array[e+s]=t.array[n+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ca=new q;class Ou{constructor(e,t,n,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ca.fromBufferAttribute(this,t),ca.applyMatrix4(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ca.fromBufferAttribute(this,t),ca.applyNormalMatrix(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ca.fromBufferAttribute(this,t),ca.transformDirection(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ha(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Zt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Zt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Zt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Zt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ha(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ha(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ha(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ha(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array),s=Zt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=s,this}setXYZW(e,t,n,s,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zt(t,this.array),n=Zt(n,this.array),s=Zt(s,this.array),a=Zt(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=s,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[s+a])}return new Bn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ou(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[s+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class TE extends es{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Pd;const eg=new q,Id=new q,Fd=new q,zd=new He,tg=new He,GO=new Nt,Uv=new q,ng=new q,Pv=new q,SR=new He,f1=new He,bR=new He;class VO extends vn{constructor(e=new TE){if(super(),this.isSprite=!0,this.type="Sprite",Pd===void 0){Pd=new Jt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new py(t,5);Pd.setIndex([0,1,2,0,2,3]),Pd.setAttribute("position",new Ou(n,3,0,!1)),Pd.setAttribute("uv",new Ou(n,2,3,!1))}this.geometry=Pd,this.material=e,this.center=new He(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Id.setFromMatrixScale(this.matrixWorld),GO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Fd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Id.multiplyScalar(-Fd.z);const n=this.material.rotation;let s,a;n!==0&&(a=Math.cos(n),s=Math.sin(n));const o=this.center;Iv(Uv.set(-.5,-.5,0),Fd,o,Id,s,a),Iv(ng.set(.5,-.5,0),Fd,o,Id,s,a),Iv(Pv.set(.5,.5,0),Fd,o,Id,s,a),SR.set(0,0),f1.set(1,0),bR.set(1,1);let c=e.ray.intersectTriangle(Uv,ng,Pv,!1,eg);if(c===null&&(Iv(ng.set(-.5,.5,0),Fd,o,Id,s,a),f1.set(0,1),c=e.ray.intersectTriangle(Uv,Pv,ng,!1,eg),c===null))return;const h=e.ray.origin.distanceTo(eg);h<e.near||h>e.far||t.push({distance:h,point:eg.clone(),uv:Oa.getInterpolation(eg,Uv,ng,Pv,SR,f1,bR,new He),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Iv(i,e,t,n,s,a){zd.subVectors(i,t).addScalar(.5).multiply(n),s!==void 0?(tg.x=a*zd.x-s*zd.y,tg.y=s*zd.x+a*zd.y):tg.copy(zd),i.copy(e),i.x+=tg.x,i.y+=tg.y,i.applyMatrix4(GO)}const Fv=new q,MR=new q;class kO extends vn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,s=t.length;n<s;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const s=this.levels;let a;for(a=0;a<s.length&&!(t<s[a].distance);a++);return s.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const s=t.splice(n,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,s;for(n=1,s=t.length;n<s;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Fv.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(Fv);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Fv.setFromMatrixPosition(e.matrixWorld),MR.setFromMatrixPosition(this.matrixWorld);const n=Fv.distanceTo(MR)/e.zoom;t[0].object.visible=!0;let s,a;for(s=1,a=t.length;s<a;s++){let o=t[s].distance;if(t[s].object.visible&&(o-=o*t[s].hysteresis),n>=o)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<a;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let s=0,a=n.length;s<a;s++){const o=n[s];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const ER=new q,TR=new Rn,CR=new Rn,eG=new q,RR=new Nt,zv=new q,h1=new Bs,wR=new Nt,d1=new bh;class CE extends Vi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Bb,this.bindMatrix=new Nt,this.bindMatrixInverse=new Nt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ks),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,zv),this.boundingBox.expandByPoint(zv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Bs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,zv),this.boundingSphere.expandByPoint(zv)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,s=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),h1.copy(this.boundingSphere),h1.applyMatrix4(s),e.ray.intersectsSphere(h1)!==!1&&(wR.copy(s).invert(),d1.copy(e.ray).applyMatrix4(wR),!(this.boundingBox!==null&&d1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,d1)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Rn,t=this.geometry.attributes.skinWeight;for(let n=0,s=t.count;n<s;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Bb?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===yO?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,s=this.geometry;TR.fromBufferAttribute(s.attributes.skinIndex,e),CR.fromBufferAttribute(s.attributes.skinWeight,e),ER.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=CR.getComponent(a);if(o!==0){const c=TR.getComponent(a);RR.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),t.addScaledVector(eG.copy(ER).applyMatrix4(RR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class lx extends vn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Al extends ui{constructor(e=null,t=1,n=1,s,a,o,c,h,p=ys,m=ys,y,A){super(null,o,c,h,p,m,s,a,y,A),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const BR=new Nt,tG=new Nt;class my{constructor(e=[],t=[]){this.uuid=tr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,s=this.bones.length;n<s;n++)this.boneInverses.push(new Nt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Nt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,s=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const c=e[a]?e[a].matrixWorld:tG;BR.multiplyMatrices(c,t[a]),BR.toArray(n,a*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new my(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Al(t,e,e,Ws,La);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,s=e.bones.length;n<s;n++){const a=e.bones[n];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new lx),this.bones.push(o),this.boneInverses.push(new Nt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let s=0,a=t.length;s<a;s++){const o=t[s];e.bones.push(o.uuid);const c=n[s];e.boneInverses.push(c.toArray())}return e}}class dh extends Bn{constructor(e,t,n,s=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hd=new Nt,DR=new Nt,Hv=[],OR=new Ks,nG=new Nt,ig=new Vi,sg=new Bs;class RE extends Vi{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new dh(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<n;s++)this.setMatrixAt(s,nG)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ks),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Hd),OR.copy(e.boundingBox).applyMatrix4(Hd),this.boundingBox.union(OR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Bs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Hd),sg.copy(e.boundingSphere).applyMatrix4(Hd),this.boundingSphere.union(sg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,s=this.morphTexture.source.data.data,a=n.length+1,o=e*a+1;for(let c=0;c<n.length;c++)n[c]=s[o+c]}raycast(e,t){const n=this.matrixWorld,s=this.count;if(ig.geometry=this.geometry,ig.material=this.material,ig.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),sg.copy(this.boundingSphere),sg.applyMatrix4(n),e.ray.intersectsSphere(sg)!==!1))for(let a=0;a<s;a++){this.getMatrixAt(a,Hd),DR.multiplyMatrices(n,Hd),ig.matrixWorld=DR,ig.raycast(e,Hv);for(let o=0,c=Hv.length;o<c;o++){const h=Hv[o];h.instanceId=a,h.object=this,t.push(h)}Hv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new dh(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,s=n.length+1;this.morphTexture===null&&(this.morphTexture=new Al(new Float32Array(s*this.count),s,this.count,$_,La));const a=this.morphTexture.source.data.data;let o=0;for(let p=0;p<n.length;p++)o+=n[p];const c=this.geometry.morphTargetsRelative?1:1-o,h=s*e;a[h]=c,a.set(n,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const p1=new q,iG=new q,sG=new Kt;class lc{constructor(e=new q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,s){return this.normal.set(e,t,n),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const s=p1.subVectors(n,t).cross(iG.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(p1),s=this.normal.dot(n);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/s;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||sG.getNormalMatrix(e),s=this.coplanarPoint(p1).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-s.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Nf=new Bs,Gv=new q;class gy{constructor(e=new lc,t=new lc,n=new lc,s=new lc,a=new lc,o=new lc){this.planes=[e,t,n,s,a,o]}set(e,t,n,s,a,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(n),c[3].copy(s),c[4].copy(a),c[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=vo){const n=this.planes,s=e.elements,a=s[0],o=s[1],c=s[2],h=s[3],p=s[4],m=s[5],y=s[6],A=s[7],_=s[8],S=s[9],T=s[10],E=s[11],b=s[12],w=s[13],B=s[14],D=s[15];if(n[0].setComponents(h-a,A-p,E-_,D-b).normalize(),n[1].setComponents(h+a,A+p,E+_,D+b).normalize(),n[2].setComponents(h+o,A+m,E+S,D+w).normalize(),n[3].setComponents(h-o,A-m,E-S,D-w).normalize(),n[4].setComponents(h-c,A-y,E-T,D-B).normalize(),t===vo)n[5].setComponents(h+c,A+y,E+T,D+B).normalize();else if(t===qg)n[5].setComponents(c,y,T,B).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Nf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Nf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Nf)}intersectsSprite(e){return Nf.center.set(0,0,0),Nf.radius=.7071067811865476,Nf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Nf)}intersectsSphere(e){const t=this.planes,n=e.center,s=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const s=t[n];if(Gv.x=s.normal.x>0?e.max.x:e.min.x,Gv.y=s.normal.y>0?e.max.y:e.min.y,Gv.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Gv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function m1(i,e){return i-e}function aG(i,e){return i.z-e.z}function rG(i,e){return e.z-i.z}class oG{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,s){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const c=a[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=n,c.index=s}reset(){this.list.length=0,this.index=0}}const Ba=new Nt,lG=new ut(1,1,1),g1=new gy,Vv=new Ks,Uf=new Bs,ag=new q,LR=new q,cG=new q,y1=new oG,Xs=new Vi,kv=[];function uG(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const s=i.count;for(let a=0;a<s;a++)for(let o=0;o<n;o++)e.setComponent(a+t,o,i.getComponent(a,o))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Pf(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class XO extends Vi{constructor(e,t,n=t*2,s){super(new Jt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Al(t,e,e,Ws,La);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Al(t,e,e,fy,Ac);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Al(t,e,e,Ws,La);n.colorSpace=bn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:c,itemSize:h,normalized:p}=o,m=new c.constructor(n*h),y=new Bn(m,h,p);t.setAttribute(a,y)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Bn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const s=e.getAttribute(n),a=t.getAttribute(n);if(s.itemSize!==a.itemSize||s.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ks);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,s=t.length;n<s;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Ba),this.getBoundingBoxAt(a,Vv).applyMatrix4(Ba),e.union(Vv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,s=t.length;n<s;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Ba),this.getBoundingSphereAt(a,Uf).applyMatrix4(Ba),e.union(Uf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(m1),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=n):(s=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;Ba.identity().toArray(a.image.data,s*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(lG.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=n===-1?o.count:n),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(m1),h=this._availableGeometryIds.shift(),a[h]=s):(h=this._geometryCount,this._geometryCount++,a.push(s)),this.setGeometryAt(h,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,s=n.getIndex()!==null,a=n.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(s&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in n.attributes){const y=t.getAttribute(m),A=n.getAttribute(m);uG(y,A,h);const _=y.itemSize;for(let S=y.count,T=p;S<T;S++){const E=h+S;for(let b=0;b<_;b++)A.setComponent(E,b,0)}A.needsUpdate=!0,A.addUpdateRange(h*_,p*_)}if(s){const m=c.indexStart,y=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let A=0;A<o.count;A++)a.setX(m+A,h+o.getX(A));for(let A=o.count,_=y;A<_;A++)a.setX(m+A,h);a.needsUpdate=!0,a.addUpdateRange(m,c.reservedIndexCount)}return c.start=s?c.indexStart:c.vertexStart,c.count=s?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let s=0,a=n.length;s<a;s++)n[s].active&&n[s].geometryIndex===e&&this.deleteInstance(s);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,s=n.map((o,c)=>c).sort((o,c)=>n[o].vertexStart-n[c].vertexStart),a=this.geometry;for(let o=0,c=n.length;o<c;o++){const h=s[o],p=n[h];if(p.active!==!1){if(a.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:y,reservedIndexCount:A}=p,_=a.index,S=_.array,T=e-y;for(let E=m;E<m+A;E++)S[E]=S[E]+T;_.array.copyWithin(t,m,m+A),_.addUpdateRange(t,A),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:y}=p,A=a.attributes;for(const _ in A){const S=A[_],{array:T,itemSize:E}=S;T.copyWithin(e*E,m*E,(m+y)*E),S.addUpdateRange(e*E,y*E)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=a.index?p.indexStart:p.vertexStart,this._nextIndexStart=a.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const a=new Ks,o=n.index,c=n.attributes.position;for(let h=s.start,p=s.start+s.count;h<p;h++){let m=h;o&&(m=o.getX(m)),a.expandByPoint(ag.fromBufferAttribute(c,m))}s.boundingBox=a}return t.copy(s.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const a=new Bs;this.getBoundingBoxAt(e,Vv),Vv.getCenter(a.center);const o=n.index,c=n.attributes.position;let h=0;for(let p=s.start,m=s.start+s.count;p<m;p++){let y=p;o&&(y=o.getX(y)),ag.fromBufferAttribute(c,y),h=Math.max(h,a.center.distanceToSquared(ag))}a.radius=Math.sqrt(h),s.boundingSphere=a}return t.copy(s.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,s=this._matricesTexture.image.data;return t.toArray(s,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(m1);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),a=new Int32Array(e);Pf(this._multiDrawCounts,s),Pf(this._multiDrawStarts,a),this._multiDrawCounts=s,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,h=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Pf(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Pf(c.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),Pf(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...n.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(h=>h.indexStart+h.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Jt,this._initializeGeometry(a));const o=this.geometry;a.index&&Pf(a.index.array,o.index.array);for(const c in a.attributes)Pf(a.attributes[c].array,o.attributes[c].array)}raycast(e,t){const n=this._instanceInfo,s=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Xs.material=this.material,Xs.geometry.index=o.index,Xs.geometry.attributes=o.attributes,Xs.geometry.boundingBox===null&&(Xs.geometry.boundingBox=new Ks),Xs.geometry.boundingSphere===null&&(Xs.geometry.boundingSphere=new Bs);for(let c=0,h=n.length;c<h;c++){if(!n[c].visible||!n[c].active)continue;const p=n[c].geometryIndex,m=s[p];Xs.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,Xs.matrixWorld).premultiply(a),this.getBoundingBoxAt(p,Xs.geometry.boundingBox),this.getBoundingSphereAt(p,Xs.geometry.boundingSphere),Xs.raycast(e,kv);for(let y=0,A=kv.length;y<A;y++){const _=kv[y];_.object=this,_.batchId=c,t.push(_)}kv.length=0}Xs.material=null,Xs.geometry.index=null,Xs.geometry.attributes={},Xs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,s,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,y=this._geometryInfo,A=this.perObjectFrustumCulled,_=this._indirectTexture,S=_.image.data;A&&(Ba.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),g1.setFromProjectionMatrix(Ba,e.coordinateSystem));let T=0;if(this.sortObjects){Ba.copy(this.matrixWorld).invert(),ag.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Ba),LR.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Ba);for(let w=0,B=h.length;w<B;w++)if(h[w].visible&&h[w].active){const D=h[w].geometryIndex;this.getMatrixAt(w,Ba),this.getBoundingSphereAt(D,Uf).applyMatrix4(Ba);let U=!1;if(A&&(U=!g1.intersectsSphere(Uf)),!U){const P=y[D],F=cG.subVectors(Uf.center,ag).dot(LR);y1.push(P.start,P.count,F,w)}}const E=y1.list,b=this.customSort;b===null?E.sort(a.transparent?rG:aG):b.call(this,E,n);for(let w=0,B=E.length;w<B;w++){const D=E[w];p[T]=D.start*c,m[T]=D.count,S[T]=D.index,T++}y1.reset()}else for(let E=0,b=h.length;E<b;E++)if(h[E].visible&&h[E].active){const w=h[E].geometryIndex;let B=!1;if(A&&(this.getMatrixAt(E,Ba),this.getBoundingSphereAt(w,Uf).applyMatrix4(Ba),B=!g1.intersectsSphere(Uf)),!B){const D=y[w];p[T]=D.start*c,m[T]=D.count,S[T]=E,T++}}_.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,t,n,s,a,o){this.onBeforeRender(e,null,s,a,o)}}class Zs extends es{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const S_=new q,b_=new q,NR=new Nt,rg=new bh,Xv=new Bs,v1=new q,UR=new q;class _c extends vn{constructor(e=new Jt,t=new Zs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let s=1,a=t.count;s<a;s++)S_.fromBufferAttribute(t,s-1),b_.fromBufferAttribute(t,s),n[s]=n[s-1],n[s]+=S_.distanceTo(b_);e.setAttribute("lineDistance",new xt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,a=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Xv.copy(n.boundingSphere),Xv.applyMatrix4(s),Xv.radius+=a,e.ray.intersectsSphere(Xv)===!1)return;NR.copy(s).invert(),rg.copy(e.ray).applyMatrix4(NR);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,p=this.isLineSegments?2:1,m=n.index,A=n.attributes.position;if(m!==null){const _=Math.max(0,o.start),S=Math.min(m.count,o.start+o.count);for(let T=_,E=S-1;T<E;T+=p){const b=m.getX(T),w=m.getX(T+1),B=jv(this,e,rg,h,b,w,T);B&&t.push(B)}if(this.isLineLoop){const T=m.getX(S-1),E=m.getX(_),b=jv(this,e,rg,h,T,E,S-1);b&&t.push(b)}}else{const _=Math.max(0,o.start),S=Math.min(A.count,o.start+o.count);for(let T=_,E=S-1;T<E;T+=p){const b=jv(this,e,rg,h,T,T+1,T);b&&t.push(b)}if(this.isLineLoop){const T=jv(this,e,rg,h,S-1,_,S-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function jv(i,e,t,n,s,a,o){const c=i.geometry.attributes.position;if(S_.fromBufferAttribute(c,s),b_.fromBufferAttribute(c,a),t.distanceSqToSegment(S_,b_,v1,UR)>n)return;v1.applyMatrix4(i.matrixWorld);const p=e.ray.origin.distanceTo(v1);if(!(p<e.near||p>e.far))return{distance:p,point:UR.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const PR=new q,IR=new q;class So extends _c{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let s=0,a=t.count;s<a;s+=2)PR.fromBufferAttribute(t,s),IR.fromBufferAttribute(t,s+1),n[s]=s===0?0:n[s-1],n[s+1]=n[s]+PR.distanceTo(IR);e.setAttribute("lineDistance",new xt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class wE extends _c{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class cx extends es{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const FR=new Nt,Lb=new bh,Yv=new Bs,qv=new q;class BE extends vn{constructor(e=new Jt,t=new cx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,a=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Yv.copy(n.boundingSphere),Yv.applyMatrix4(s),Yv.radius+=a,e.ray.intersectsSphere(Yv)===!1)return;FR.copy(s).invert(),Lb.copy(e.ray).applyMatrix4(FR);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,p=n.index,y=n.attributes.position;if(p!==null){const A=Math.max(0,o.start),_=Math.min(p.count,o.start+o.count);for(let S=A,T=_;S<T;S++){const E=p.getX(S);qv.fromBufferAttribute(y,E),zR(qv,E,h,s,e,t,this)}}else{const A=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let S=A,T=_;S<T;S++)qv.fromBufferAttribute(y,S),zR(qv,S,h,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function zR(i,e,t,n,s,a,o){const c=Lb.distanceSqToPoint(i);if(c<t){const h=new q;Lb.closestPointToPoint(i,h),h.applyMatrix4(n);const p=s.ray.origin.distanceTo(h);if(p<s.near||p>s.far)return;a.push({distance:p,distanceToRay:Math.sqrt(c),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class jO extends ui{constructor(e,t,n,s,a=Gi,o=Gi,c,h,p){super(e,t,n,s,a,o,c,h,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function y(){m.needsUpdate=!0,e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(y)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class fG extends jO{constructor(e,t,n,s,a,o,c,h){super({},e,t,n,s,a,o,c,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class hG extends ui{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ys,this.minFilter=ys,this.generateMipmaps=!1,this.needsUpdate=!0}}class ux extends ui{constructor(e,t,n,s,a,o,c,h,p,m,y,A){super(null,o,c,h,p,m,s,a,y,A),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class dG extends ux{constructor(e,t,n,s,a,o){super(e,t,n,a,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=$a,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class pG extends ux{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,vc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class mG extends ui{constructor(e,t,n,s,a,o,c,h,p){super(e,t,n,s,a,o,c,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DE extends ui{constructor(e,t,n=Ac,s,a,o,c=ys,h=ys,p,m=fp){if(m!==fp&&m!==hp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,s,a,o,c,h,m,n,p),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Tu(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class bo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,s=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),a+=n.distanceTo(s),t.push(a),s=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let s=0;const a=n.length;let o;t?o=t:o=e*n[a-1];let c=0,h=a-1,p;for(;c<=h;)if(s=Math.floor(c+(h-c)/2),p=n[s]-o,p<0)c=s+1;else if(p>0)h=s-1;else{h=s;break}if(s=h,n[s]===o)return s/(a-1);const m=n[s],A=n[s+1]-m,_=(o-m)/A;return(s+_)/(a-1)}getTangent(e,t){let s=e-1e-4,a=e+1e-4;s<0&&(s=0),a>1&&(a=1);const o=this.getPoint(s),c=this.getPoint(a),h=t||(o.isVector2?new He:new q);return h.copy(c).sub(o).normalize(),h}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new q,s=[],a=[],o=[],c=new q,h=new Nt;for(let _=0;_<=e;_++){const S=_/e;s[_]=this.getTangentAt(S,new q)}a[0]=new q,o[0]=new q;let p=Number.MAX_VALUE;const m=Math.abs(s[0].x),y=Math.abs(s[0].y),A=Math.abs(s[0].z);m<=p&&(p=m,n.set(1,0,0)),y<=p&&(p=y,n.set(0,1,0)),A<=p&&n.set(0,0,1),c.crossVectors(s[0],n).normalize(),a[0].crossVectors(s[0],c),o[0].crossVectors(s[0],a[0]);for(let _=1;_<=e;_++){if(a[_]=a[_-1].clone(),o[_]=o[_-1].clone(),c.crossVectors(s[_-1],s[_]),c.length()>Number.EPSILON){c.normalize();const S=Math.acos(Yt(s[_-1].dot(s[_]),-1,1));a[_].applyMatrix4(h.makeRotationAxis(c,S))}o[_].crossVectors(s[_],a[_])}if(t===!0){let _=Math.acos(Yt(a[0].dot(a[e]),-1,1));_/=e,s[0].dot(c.crossVectors(a[0],a[e]))>0&&(_=-_);for(let S=1;S<=e;S++)a[S].applyMatrix4(h.makeRotationAxis(s[S],_*S)),o[S].crossVectors(s[S],a[S])}return{tangents:s,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class fx extends bo{constructor(e=0,t=0,n=1,s=1,a=0,o=Math.PI*2,c=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=s,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=c,this.aRotation=h}getPoint(e,t=new He){const n=t,s=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=s;for(;a>s;)a-=s;a<Number.EPSILON&&(o?a=0:a=s),this.aClockwise===!0&&!o&&(a===s?a=-s:a=a-s);const c=this.aStartAngle+e*a;let h=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),y=Math.sin(this.aRotation),A=h-this.aX,_=p-this.aY;h=A*m-_*y+this.aX,p=A*y+_*m+this.aY}return n.set(h,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class YO extends fx{constructor(e,t,n,s,a,o){super(e,t,n,n,s,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function OE(){let i=0,e=0,t=0,n=0;function s(a,o,c,h){i=a,e=c,t=-3*a+3*o-2*c-h,n=2*a-2*o+c+h}return{initCatmullRom:function(a,o,c,h,p){s(o,c,p*(c-a),p*(h-o))},initNonuniformCatmullRom:function(a,o,c,h,p,m,y){let A=(o-a)/p-(c-a)/(p+m)+(c-o)/m,_=(c-o)/m-(h-o)/(m+y)+(h-c)/y;A*=m,_*=m,s(o,c,A,_)},calc:function(a){const o=a*a,c=o*a;return i+e*a+t*o+n*c}}}const Wv=new q,A1=new OE,_1=new OE,x1=new OE;class qO extends bo{constructor(e=[],t=!1,n="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=s}getPoint(e,t=new q){const n=t,s=this.points,a=s.length,o=(a-(this.closed?0:1))*e;let c=Math.floor(o),h=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:h===0&&c===a-1&&(c=a-2,h=1);let p,m;this.closed||c>0?p=s[(c-1)%a]:(Wv.subVectors(s[0],s[1]).add(s[0]),p=Wv);const y=s[c%a],A=s[(c+1)%a];if(this.closed||c+2<a?m=s[(c+2)%a]:(Wv.subVectors(s[a-1],s[a-2]).add(s[a-1]),m=Wv),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let S=Math.pow(p.distanceToSquared(y),_),T=Math.pow(y.distanceToSquared(A),_),E=Math.pow(A.distanceToSquared(m),_);T<1e-4&&(T=1),S<1e-4&&(S=T),E<1e-4&&(E=T),A1.initNonuniformCatmullRom(p.x,y.x,A.x,m.x,S,T,E),_1.initNonuniformCatmullRom(p.y,y.y,A.y,m.y,S,T,E),x1.initNonuniformCatmullRom(p.z,y.z,A.z,m.z,S,T,E)}else this.curveType==="catmullrom"&&(A1.initCatmullRom(p.x,y.x,A.x,m.x,this.tension),_1.initCatmullRom(p.y,y.y,A.y,m.y,this.tension),x1.initCatmullRom(p.z,y.z,A.z,m.z,this.tension));return n.set(A1.calc(h),_1.calc(h),x1.calc(h)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(new q().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function HR(i,e,t,n,s){const a=(n-e)*.5,o=(s-t)*.5,c=i*i,h=i*c;return(2*t-2*n+a+o)*h+(-3*t+3*n-2*a-o)*c+a*i+t}function gG(i,e){const t=1-i;return t*t*e}function yG(i,e){return 2*(1-i)*i*e}function vG(i,e){return i*i*e}function Bg(i,e,t,n){return gG(i,e)+yG(i,t)+vG(i,n)}function AG(i,e){const t=1-i;return t*t*t*e}function _G(i,e){const t=1-i;return 3*t*t*i*e}function xG(i,e){return 3*(1-i)*i*i*e}function SG(i,e){return i*i*i*e}function Dg(i,e,t,n,s){return AG(i,e)+_G(i,t)+xG(i,n)+SG(i,s)}class LE extends bo{constructor(e=new He,t=new He,n=new He,s=new He){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=s}getPoint(e,t=new He){const n=t,s=this.v0,a=this.v1,o=this.v2,c=this.v3;return n.set(Dg(e,s.x,a.x,o.x,c.x),Dg(e,s.y,a.y,o.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class WO extends bo{constructor(e=new q,t=new q,n=new q,s=new q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=s}getPoint(e,t=new q){const n=t,s=this.v0,a=this.v1,o=this.v2,c=this.v3;return n.set(Dg(e,s.x,a.x,o.x,c.x),Dg(e,s.y,a.y,o.y,c.y),Dg(e,s.z,a.z,o.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class NE extends bo{constructor(e=new He,t=new He){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new He){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new He){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KO extends bo{constructor(e=new q,t=new q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new q){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UE extends bo{constructor(e=new He,t=new He,n=new He){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new He){const n=t,s=this.v0,a=this.v1,o=this.v2;return n.set(Bg(e,s.x,a.x,o.x),Bg(e,s.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PE extends bo{constructor(e=new q,t=new q,n=new q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new q){const n=t,s=this.v0,a=this.v1,o=this.v2;return n.set(Bg(e,s.x,a.x,o.x),Bg(e,s.y,a.y,o.y),Bg(e,s.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IE extends bo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new He){const n=t,s=this.points,a=(s.length-1)*e,o=Math.floor(a),c=a-o,h=s[o===0?o:o-1],p=s[o],m=s[o>s.length-2?s.length-1:o+1],y=s[o>s.length-3?s.length-1:o+2];return n.set(HR(c,h.x,p.x,m.x,y.x),HR(c,h.y,p.y,m.y,y.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(new He().fromArray(s))}return this}}var M_=Object.freeze({__proto__:null,ArcCurve:YO,CatmullRomCurve3:qO,CubicBezierCurve:LE,CubicBezierCurve3:WO,EllipseCurve:fx,LineCurve:NE,LineCurve3:KO,QuadraticBezierCurve:UE,QuadraticBezierCurve3:PE,SplineCurve:IE});class JO extends bo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new M_[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),s=this.getCurveLengths();let a=0;for(;a<s.length;){if(s[a]>=n){const o=s[a]-n,c=this.curves[a],h=c.getLength(),p=h===0?0:1-o/h;return c.getPointAt(p,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,s=this.curves.length;n<s;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let s=0,a=this.curves;s<a.length;s++){const o=a[s],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,h=o.getPoints(c);for(let p=0;p<h.length;p++){const m=h[p];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const s=e.curves[t];this.curves.push(new M_[s.type]().fromJSON(s))}return this}}class Kg extends JO{constructor(e){super(),this.type="Path",this.currentPoint=new He,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new NE(this.currentPoint.clone(),new He(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,s){const a=new UE(this.currentPoint.clone(),new He(e,t),new He(n,s));return this.curves.push(a),this.currentPoint.set(n,s),this}bezierCurveTo(e,t,n,s,a,o){const c=new LE(this.currentPoint.clone(),new He(e,t),new He(n,s),new He(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new IE(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,s,a,o){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+c,t+h,n,s,a,o),this}absarc(e,t,n,s,a,o){return this.absellipse(e,t,n,n,s,a,o),this}ellipse(e,t,n,s,a,o,c,h){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,n,s,a,o,c,h),this}absellipse(e,t,n,s,a,o,c,h){const p=new fx(e,t,n,s,a,o,c,h);if(this.curves.length>0){const y=p.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class yy extends Jt{constructor(e=[new He(0,-.5),new He(.5,0),new He(0,.5)],t=12,n=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:s},t=Math.floor(t),s=Yt(s,0,Math.PI*2);const a=[],o=[],c=[],h=[],p=[],m=1/t,y=new q,A=new He,_=new q,S=new q,T=new q;let E=0,b=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:E=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,_.x=b*1,_.y=-E,_.z=b*0,T.copy(_),_.normalize(),h.push(_.x,_.y,_.z);break;case e.length-1:h.push(T.x,T.y,T.z);break;default:E=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,_.x=b*1,_.y=-E,_.z=b*0,S.copy(_),_.x+=T.x,_.y+=T.y,_.z+=T.z,_.normalize(),h.push(_.x,_.y,_.z),T.copy(S)}for(let w=0;w<=t;w++){const B=n+w*m*s,D=Math.sin(B),U=Math.cos(B);for(let P=0;P<=e.length-1;P++){y.x=e[P].x*D,y.y=e[P].y,y.z=e[P].x*U,o.push(y.x,y.y,y.z),A.x=w/t,A.y=P/(e.length-1),c.push(A.x,A.y);const F=h[3*P+0]*D,H=h[3*P+1],N=h[3*P+0]*U;p.push(F,H,N)}}for(let w=0;w<t;w++)for(let B=0;B<e.length-1;B++){const D=B+w*e.length,U=D,P=D+e.length,F=D+e.length+1,H=D+1;a.push(U,P,H),a.push(F,H,P)}this.setIndex(a),this.setAttribute("position",new xt(o,3)),this.setAttribute("uv",new xt(c,2)),this.setAttribute("normal",new xt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yy(e.points,e.segments,e.phiStart,e.phiLength)}}class hx extends yy{constructor(e=1,t=1,n=4,s=8){const a=new Kg;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(n),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:s}}static fromJSON(e){return new hx(e.radius,e.length,e.capSegments,e.radialSegments)}}class dx extends Jt{constructor(e=1,t=32,n=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:s},t=Math.max(3,t);const a=[],o=[],c=[],h=[],p=new q,m=new He;o.push(0,0,0),c.push(0,0,1),h.push(.5,.5);for(let y=0,A=3;y<=t;y++,A+=3){const _=n+y/t*s;p.x=e*Math.cos(_),p.y=e*Math.sin(_),o.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(o[A]/e+1)/2,m.y=(o[A+1]/e+1)/2,h.push(m.x,m.y)}for(let y=1;y<=t;y++)a.push(y,y+1,0);this.setIndex(a),this.setAttribute("position",new xt(o,3)),this.setAttribute("normal",new xt(c,3)),this.setAttribute("uv",new xt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dx(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Tp extends Jt{constructor(e=1,t=1,n=1,s=32,a=1,o=!1,c=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:s,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:h};const p=this;s=Math.floor(s),a=Math.floor(a);const m=[],y=[],A=[],_=[];let S=0;const T=[],E=n/2;let b=0;w(),o===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(m),this.setAttribute("position",new xt(y,3)),this.setAttribute("normal",new xt(A,3)),this.setAttribute("uv",new xt(_,2));function w(){const D=new q,U=new q;let P=0;const F=(t-e)/n;for(let H=0;H<=a;H++){const N=[],L=H/a,G=L*(t-e)+e;for(let W=0;W<=s;W++){const K=W/s,$=K*h+c,ge=Math.sin($),ee=Math.cos($);U.x=G*ge,U.y=-L*n+E,U.z=G*ee,y.push(U.x,U.y,U.z),D.set(ge,F,ee).normalize(),A.push(D.x,D.y,D.z),_.push(K,1-L),N.push(S++)}T.push(N)}for(let H=0;H<s;H++)for(let N=0;N<a;N++){const L=T[N][H],G=T[N+1][H],W=T[N+1][H+1],K=T[N][H+1];(e>0||N!==0)&&(m.push(L,G,K),P+=3),(t>0||N!==a-1)&&(m.push(G,W,K),P+=3)}p.addGroup(b,P,0),b+=P}function B(D){const U=S,P=new He,F=new q;let H=0;const N=D===!0?e:t,L=D===!0?1:-1;for(let W=1;W<=s;W++)y.push(0,E*L,0),A.push(0,L,0),_.push(.5,.5),S++;const G=S;for(let W=0;W<=s;W++){const $=W/s*h+c,ge=Math.cos($),ee=Math.sin($);F.x=N*ee,F.y=E*L,F.z=N*ge,y.push(F.x,F.y,F.z),A.push(0,L,0),P.x=ge*.5+.5,P.y=ee*.5*L+.5,_.push(P.x,P.y),S++}for(let W=0;W<s;W++){const K=U+W,$=G+W;D===!0?m.push($,$+1,K):m.push($+1,$,K),H+=3}p.addGroup(b,H,D===!0?1:2),b+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class px extends Tp{constructor(e=1,t=1,n=32,s=1,a=!1,o=0,c=Math.PI*2){super(0,e,t,n,s,a,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:c}}static fromJSON(e){return new px(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fu extends Jt{constructor(e=[],t=[],n=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:s};const a=[],o=[];c(s),p(n),m(),this.setAttribute("position",new xt(a,3)),this.setAttribute("normal",new xt(a.slice(),3)),this.setAttribute("uv",new xt(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function c(w){const B=new q,D=new q,U=new q;for(let P=0;P<t.length;P+=3)_(t[P+0],B),_(t[P+1],D),_(t[P+2],U),h(B,D,U,w)}function h(w,B,D,U){const P=U+1,F=[];for(let H=0;H<=P;H++){F[H]=[];const N=w.clone().lerp(D,H/P),L=B.clone().lerp(D,H/P),G=P-H;for(let W=0;W<=G;W++)W===0&&H===P?F[H][W]=N:F[H][W]=N.clone().lerp(L,W/G)}for(let H=0;H<P;H++)for(let N=0;N<2*(P-H)-1;N++){const L=Math.floor(N/2);N%2===0?(A(F[H][L+1]),A(F[H+1][L]),A(F[H][L])):(A(F[H][L+1]),A(F[H+1][L+1]),A(F[H+1][L]))}}function p(w){const B=new q;for(let D=0;D<a.length;D+=3)B.x=a[D+0],B.y=a[D+1],B.z=a[D+2],B.normalize().multiplyScalar(w),a[D+0]=B.x,a[D+1]=B.y,a[D+2]=B.z}function m(){const w=new q;for(let B=0;B<a.length;B+=3){w.x=a[B+0],w.y=a[B+1],w.z=a[B+2];const D=E(w)/2/Math.PI+.5,U=b(w)/Math.PI+.5;o.push(D,1-U)}S(),y()}function y(){for(let w=0;w<o.length;w+=6){const B=o[w+0],D=o[w+2],U=o[w+4],P=Math.max(B,D,U),F=Math.min(B,D,U);P>.9&&F<.1&&(B<.2&&(o[w+0]+=1),D<.2&&(o[w+2]+=1),U<.2&&(o[w+4]+=1))}}function A(w){a.push(w.x,w.y,w.z)}function _(w,B){const D=w*3;B.x=e[D+0],B.y=e[D+1],B.z=e[D+2]}function S(){const w=new q,B=new q,D=new q,U=new q,P=new He,F=new He,H=new He;for(let N=0,L=0;N<a.length;N+=9,L+=6){w.set(a[N+0],a[N+1],a[N+2]),B.set(a[N+3],a[N+4],a[N+5]),D.set(a[N+6],a[N+7],a[N+8]),P.set(o[L+0],o[L+1]),F.set(o[L+2],o[L+3]),H.set(o[L+4],o[L+5]),U.copy(w).add(B).add(D).divideScalar(3);const G=E(U);T(P,L+0,w,G),T(F,L+2,B,G),T(H,L+4,D,G)}}function T(w,B,D,U){U<0&&w.x===1&&(o[B]=w.x-1),D.x===0&&D.z===0&&(o[B]=U/2/Math.PI+.5)}function E(w){return Math.atan2(w.z,-w.x)}function b(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fu(e.vertices,e.indices,e.radius,e.details)}}class mx extends Fu{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,s=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-n,0,-s,n,0,s,-n,0,s,n,-s,-n,0,-s,n,0,s,-n,0,s,n,0,-n,0,-s,n,0,-s,-n,0,s,n,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mx(e.radius,e.detail)}}const Kv=new q,Jv=new q,S1=new q,Zv=new Oa;class ZO extends Jt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),a=Math.cos(ch*t),o=e.getIndex(),c=e.getAttribute("position"),h=o?o.count:c.count,p=[0,0,0],m=["a","b","c"],y=new Array(3),A={},_=[];for(let S=0;S<h;S+=3){o?(p[0]=o.getX(S),p[1]=o.getX(S+1),p[2]=o.getX(S+2)):(p[0]=S,p[1]=S+1,p[2]=S+2);const{a:T,b:E,c:b}=Zv;if(T.fromBufferAttribute(c,p[0]),E.fromBufferAttribute(c,p[1]),b.fromBufferAttribute(c,p[2]),Zv.getNormal(S1),y[0]=`${Math.round(T.x*s)},${Math.round(T.y*s)},${Math.round(T.z*s)}`,y[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,y[2]=`${Math.round(b.x*s)},${Math.round(b.y*s)},${Math.round(b.z*s)}`,!(y[0]===y[1]||y[1]===y[2]||y[2]===y[0]))for(let w=0;w<3;w++){const B=(w+1)%3,D=y[w],U=y[B],P=Zv[m[w]],F=Zv[m[B]],H=`${D}_${U}`,N=`${U}_${D}`;N in A&&A[N]?(S1.dot(A[N].normal)<=a&&(_.push(P.x,P.y,P.z),_.push(F.x,F.y,F.z)),A[N]=null):H in A||(A[H]={index0:p[w],index1:p[B],normal:S1.clone()})}}for(const S in A)if(A[S]){const{index0:T,index1:E}=A[S];Kv.fromBufferAttribute(c,T),Jv.fromBufferAttribute(c,E),_.push(Kv.x,Kv.y,Kv.z),_.push(Jv.x,Jv.y,Jv.z)}this.setAttribute("position",new xt(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class uh extends Kg{constructor(e){super(e),this.uuid=tr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,s=this.holes.length;n<s;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const s=e.holes[t];this.holes.push(new Kg().fromJSON(s))}return this}}function bG(i,e,t=2){const n=e&&e.length,s=n?e[0]*t:i.length;let a=QO(i,0,s,t,!0);const o=[];if(!a||a.next===a.prev)return o;let c,h,p;if(n&&(a=RG(i,e,a,t)),i.length>80*t){c=1/0,h=1/0;let m=-1/0,y=-1/0;for(let A=t;A<s;A+=t){const _=i[A],S=i[A+1];_<c&&(c=_),S<h&&(h=S),_>m&&(m=_),S>y&&(y=S)}p=Math.max(m-c,y-h),p=p!==0?32767/p:0}return Jg(a,o,t,c,h,p,0),o}function QO(i,e,t,n,s){let a;if(s===zG(i,e,t,n)>0)for(let o=e;o<t;o+=n)a=GR(o/n|0,i[o],i[o+1],a);else for(let o=t-n;o>=e;o-=n)a=GR(o/n|0,i[o],i[o+1],a);return a&&vp(a,a.next)&&(Qg(a),a=a.next),a}function ph(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(vp(t,t.next)||Si(t.prev,t,t.next)===0)){if(Qg(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Jg(i,e,t,n,s,a,o){if(!i)return;!o&&a&&LG(i,n,s,a);let c=i;for(;i.prev!==i.next;){const h=i.prev,p=i.next;if(a?EG(i,n,s,a):MG(i)){e.push(h.i,i.i,p.i),Qg(i),i=p.next,c=p.next;continue}if(i=p,i===c){o?o===1?(i=TG(ph(i),e),Jg(i,e,t,n,s,a,2)):o===2&&CG(i,e,t,n,s,a):Jg(ph(i),e,t,n,s,a,1);break}}}function MG(i){const e=i.prev,t=i,n=i.next;if(Si(e,t,n)>=0)return!1;const s=e.x,a=t.x,o=n.x,c=e.y,h=t.y,p=n.y,m=Math.min(s,a,o),y=Math.min(c,h,p),A=Math.max(s,a,o),_=Math.max(c,h,p);let S=n.next;for(;S!==e;){if(S.x>=m&&S.x<=A&&S.y>=y&&S.y<=_&&pg(s,c,a,h,o,p,S.x,S.y)&&Si(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function EG(i,e,t,n){const s=i.prev,a=i,o=i.next;if(Si(s,a,o)>=0)return!1;const c=s.x,h=a.x,p=o.x,m=s.y,y=a.y,A=o.y,_=Math.min(c,h,p),S=Math.min(m,y,A),T=Math.max(c,h,p),E=Math.max(m,y,A),b=Nb(_,S,e,t,n),w=Nb(T,E,e,t,n);let B=i.prevZ,D=i.nextZ;for(;B&&B.z>=b&&D&&D.z<=w;){if(B.x>=_&&B.x<=T&&B.y>=S&&B.y<=E&&B!==s&&B!==o&&pg(c,m,h,y,p,A,B.x,B.y)&&Si(B.prev,B,B.next)>=0||(B=B.prevZ,D.x>=_&&D.x<=T&&D.y>=S&&D.y<=E&&D!==s&&D!==o&&pg(c,m,h,y,p,A,D.x,D.y)&&Si(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;B&&B.z>=b;){if(B.x>=_&&B.x<=T&&B.y>=S&&B.y<=E&&B!==s&&B!==o&&pg(c,m,h,y,p,A,B.x,B.y)&&Si(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;D&&D.z<=w;){if(D.x>=_&&D.x<=T&&D.y>=S&&D.y<=E&&D!==s&&D!==o&&pg(c,m,h,y,p,A,D.x,D.y)&&Si(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function TG(i,e){let t=i;do{const n=t.prev,s=t.next.next;!vp(n,s)&&eL(n,t,t.next,s)&&Zg(n,s)&&Zg(s,n)&&(e.push(n.i,t.i,s.i),Qg(t),Qg(t.next),t=i=s),t=t.next}while(t!==i);return ph(t)}function CG(i,e,t,n,s,a){let o=i;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&PG(o,c)){let h=tL(o,c);o=ph(o,o.next),h=ph(h,h.next),Jg(o,e,t,n,s,a,0),Jg(h,e,t,n,s,a,0);return}c=c.next}o=o.next}while(o!==i)}function RG(i,e,t,n){const s=[];for(let a=0,o=e.length;a<o;a++){const c=e[a]*n,h=a<o-1?e[a+1]*n:i.length,p=QO(i,c,h,n,!1);p===p.next&&(p.steiner=!0),s.push(UG(p))}s.sort(wG);for(let a=0;a<s.length;a++)t=BG(s[a],t);return t}function wG(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),s=(e.next.y-e.y)/(e.next.x-e.x);t=n-s}return t}function BG(i,e){const t=DG(i,e);if(!t)return e;const n=tL(t,i);return ph(n,n.next),ph(t,t.next)}function DG(i,e){let t=e;const n=i.x,s=i.y;let a=-1/0,o;if(vp(i,t))return t;do{if(vp(i,t.next))return t.next;if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const y=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=n&&y>a&&(a=y,o=t.x<t.next.x?t:t.next,y===n))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,h=o.x,p=o.y;let m=1/0;t=o;do{if(n>=t.x&&t.x>=h&&n!==t.x&&$O(s<p?n:a,s,h,p,s<p?a:n,s,t.x,t.y)){const y=Math.abs(s-t.y)/(n-t.x);Zg(t,i)&&(y<m||y===m&&(t.x>o.x||t.x===o.x&&OG(o,t)))&&(o=t,m=y)}t=t.next}while(t!==c);return o}function OG(i,e){return Si(i.prev,i,e.prev)<0&&Si(e.next,i,i.next)<0}function LG(i,e,t,n){let s=i;do s.z===0&&(s.z=Nb(s.x,s.y,e,t,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==i);s.prevZ.nextZ=null,s.prevZ=null,NG(s)}function NG(i){let e,t=1;do{let n=i,s;i=null;let a=null;for(e=0;n;){e++;let o=n,c=0;for(let p=0;p<t&&(c++,o=o.nextZ,!!o);p++);let h=t;for(;c>0||h>0&&o;)c!==0&&(h===0||!o||n.z<=o.z)?(s=n,n=n.nextZ,c--):(s=o,o=o.nextZ,h--),a?a.nextZ=s:i=s,s.prevZ=a,a=s;n=o}a.nextZ=null,t*=2}while(e>1);return i}function Nb(i,e,t,n,s){return i=(i-t)*s|0,e=(e-n)*s|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function UG(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function $O(i,e,t,n,s,a,o,c){return(s-o)*(e-c)>=(i-o)*(a-c)&&(i-o)*(n-c)>=(t-o)*(e-c)&&(t-o)*(a-c)>=(s-o)*(n-c)}function pg(i,e,t,n,s,a,o,c){return!(i===o&&e===c)&&$O(i,e,t,n,s,a,o,c)}function PG(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!IG(i,e)&&(Zg(i,e)&&Zg(e,i)&&FG(i,e)&&(Si(i.prev,i,e.prev)||Si(i,e.prev,e))||vp(i,e)&&Si(i.prev,i,i.next)>0&&Si(e.prev,e,e.next)>0)}function Si(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function vp(i,e){return i.x===e.x&&i.y===e.y}function eL(i,e,t,n){const s=$v(Si(i,e,t)),a=$v(Si(i,e,n)),o=$v(Si(t,n,i)),c=$v(Si(t,n,e));return!!(s!==a&&o!==c||s===0&&Qv(i,t,e)||a===0&&Qv(i,n,e)||o===0&&Qv(t,i,n)||c===0&&Qv(t,e,n))}function Qv(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function $v(i){return i>0?1:i<0?-1:0}function IG(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&eL(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function Zg(i,e){return Si(i.prev,i,i.next)<0?Si(i,e,i.next)>=0&&Si(i,i.prev,e)>=0:Si(i,e,i.prev)<0||Si(i,i.next,e)<0}function FG(i,e){let t=i,n=!1;const s=(i.x+e.x)/2,a=(i.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&s<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function tL(i,e){const t=Ub(i.i,i.x,i.y),n=Ub(e.i,e.x,e.y),s=i.next,a=e.prev;return i.next=e,e.prev=i,t.next=s,s.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function GR(i,e,t,n){const s=Ub(i,e,t);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function Qg(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Ub(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function zG(i,e,t,n){let s=0;for(let a=e,o=t-n;a<t;a+=n)s+=(i[o]-i[a])*(i[a+1]+i[o+1]),o=a;return s}class HG{static triangulate(e,t,n=2){return bG(e,t,n)}}class _l{static area(e){const t=e.length;let n=0;for(let s=t-1,a=0;a<t;s=a++)n+=e[s].x*e[a].y-e[a].x*e[s].y;return n*.5}static isClockWise(e){return _l.area(e)<0}static triangulateShape(e,t){const n=[],s=[],a=[];VR(e),kR(n,e);let o=e.length;t.forEach(VR);for(let h=0;h<t.length;h++)s.push(o),o+=t[h].length,kR(n,t[h]);const c=HG.triangulate(n,s);for(let h=0;h<c.length;h+=3)a.push(c.slice(h,h+3));return a}}function VR(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function kR(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class gx extends Jt{constructor(e=new uh([new He(.5,.5),new He(-.5,.5),new He(-.5,-.5),new He(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,s=[],a=[];for(let c=0,h=e.length;c<h;c++){const p=e[c];o(p)}this.setAttribute("position",new xt(s,3)),this.setAttribute("uv",new xt(a,2)),this.computeVertexNormals();function o(c){const h=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,y=t.depth!==void 0?t.depth:1;let A=t.bevelEnabled!==void 0?t.bevelEnabled:!0,_=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:_-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:GG;let B,D=!1,U,P,F,H;b&&(B=b.getSpacedPoints(m),D=!0,A=!1,U=b.computeFrenetFrames(m,!1),P=new q,F=new q,H=new q),A||(E=0,_=0,S=0,T=0);const N=c.extractPoints(p);let L=N.shape;const G=N.holes;if(!_l.isClockWise(L)){L=L.reverse();for(let Pe=0,Ve=G.length;Pe<Ve;Pe++){const Le=G[Pe];_l.isClockWise(Le)&&(G[Pe]=Le.reverse())}}function K(Pe){const Le=10000000000000001e-36;let nt=Pe[0];for(let we=1;we<=Pe.length;we++){const j=we%Pe.length,z=Pe[j],fe=z.x-nt.x,Se=z.y-nt.y,Ue=fe*fe+Se*Se,De=Math.max(Math.abs(z.x),Math.abs(z.y),Math.abs(nt.x),Math.abs(nt.y)),yt=Le*De*De;if(Ue<=yt){Pe.splice(j,1),we--;continue}nt=z}}K(L),G.forEach(K);const $=G.length,ge=L;for(let Pe=0;Pe<$;Pe++){const Ve=G[Pe];L=L.concat(Ve)}function ee(Pe,Ve,Le){return Ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),Pe.clone().addScaledVector(Ve,Le)}const re=L.length;function se(Pe,Ve,Le){let nt,we,j;const z=Pe.x-Ve.x,fe=Pe.y-Ve.y,Se=Le.x-Pe.x,Ue=Le.y-Pe.y,De=z*z+fe*fe,yt=z*Ue-fe*Se;if(Math.abs(yt)>Number.EPSILON){const tt=Math.sqrt(De),pt=Math.sqrt(Se*Se+Ue*Ue),qt=Ve.x-fe/tt,Je=Ve.y+z/tt,gt=Le.x-Ue/pt,At=Le.y+Se/pt,mt=((gt-qt)*Ue-(At-Je)*Se)/(z*Ue-fe*Se);nt=qt+z*mt-Pe.x,we=Je+fe*mt-Pe.y;const lt=nt*nt+we*we;if(lt<=2)return new He(nt,we);j=Math.sqrt(lt/2)}else{let tt=!1;z>Number.EPSILON?Se>Number.EPSILON&&(tt=!0):z<-Number.EPSILON?Se<-Number.EPSILON&&(tt=!0):Math.sign(fe)===Math.sign(Ue)&&(tt=!0),tt?(nt=-fe,we=z,j=Math.sqrt(De)):(nt=z,we=fe,j=Math.sqrt(De/2))}return new He(nt/j,we/j)}const Te=[];for(let Pe=0,Ve=ge.length,Le=Ve-1,nt=Pe+1;Pe<Ve;Pe++,Le++,nt++)Le===Ve&&(Le=0),nt===Ve&&(nt=0),Te[Pe]=se(ge[Pe],ge[Le],ge[nt]);const Y=[];let oe,Oe=Te.concat();for(let Pe=0,Ve=$;Pe<Ve;Pe++){const Le=G[Pe];oe=[];for(let nt=0,we=Le.length,j=we-1,z=nt+1;nt<we;nt++,j++,z++)j===we&&(j=0),z===we&&(z=0),oe[nt]=se(Le[nt],Le[j],Le[z]);Y.push(oe),Oe=Oe.concat(oe)}const je=[],ie=[];for(let Pe=0;Pe<E;Pe++){const Ve=Pe/E,Le=_*Math.cos(Ve*Math.PI/2),nt=S*Math.sin(Ve*Math.PI/2)+T;for(let we=0,j=ge.length;we<j;we++){const z=ee(ge[we],Te[we],nt);Ct(z.x,z.y,-Le),Ve==0&&je.push(z)}for(let we=0,j=$;we<j;we++){const z=G[we];oe=Y[we];const fe=[];for(let Se=0,Ue=z.length;Se<Ue;Se++){const De=ee(z[Se],oe[Se],nt);Ct(De.x,De.y,-Le),Ve==0&&fe.push(De)}Ve==0&&ie.push(fe)}}const Re=_l.triangulateShape(je,ie),Ge=Re.length,Ye=S+T;for(let Pe=0;Pe<re;Pe++){const Ve=A?ee(L[Pe],Oe[Pe],Ye):L[Pe];D?(F.copy(U.normals[0]).multiplyScalar(Ve.x),P.copy(U.binormals[0]).multiplyScalar(Ve.y),H.copy(B[0]).add(F).add(P),Ct(H.x,H.y,H.z)):Ct(Ve.x,Ve.y,0)}for(let Pe=1;Pe<=m;Pe++)for(let Ve=0;Ve<re;Ve++){const Le=A?ee(L[Ve],Oe[Ve],Ye):L[Ve];D?(F.copy(U.normals[Pe]).multiplyScalar(Le.x),P.copy(U.binormals[Pe]).multiplyScalar(Le.y),H.copy(B[Pe]).add(F).add(P),Ct(H.x,H.y,H.z)):Ct(Le.x,Le.y,y/m*Pe)}for(let Pe=E-1;Pe>=0;Pe--){const Ve=Pe/E,Le=_*Math.cos(Ve*Math.PI/2),nt=S*Math.sin(Ve*Math.PI/2)+T;for(let we=0,j=ge.length;we<j;we++){const z=ee(ge[we],Te[we],nt);Ct(z.x,z.y,y+Le)}for(let we=0,j=G.length;we<j;we++){const z=G[we];oe=Y[we];for(let fe=0,Se=z.length;fe<Se;fe++){const Ue=ee(z[fe],oe[fe],nt);D?Ct(Ue.x,Ue.y+B[m-1].y,B[m-1].x+Le):Ct(Ue.x,Ue.y,y+Le)}}}ke(),vt();function ke(){const Pe=s.length/3;if(A){let Ve=0,Le=re*Ve;for(let nt=0;nt<Ge;nt++){const we=Re[nt];Xt(we[2]+Le,we[1]+Le,we[0]+Le)}Ve=m+E*2,Le=re*Ve;for(let nt=0;nt<Ge;nt++){const we=Re[nt];Xt(we[0]+Le,we[1]+Le,we[2]+Le)}}else{for(let Ve=0;Ve<Ge;Ve++){const Le=Re[Ve];Xt(Le[2],Le[1],Le[0])}for(let Ve=0;Ve<Ge;Ve++){const Le=Re[Ve];Xt(Le[0]+re*m,Le[1]+re*m,Le[2]+re*m)}}n.addGroup(Pe,s.length/3-Pe,0)}function vt(){const Pe=s.length/3;let Ve=0;it(ge,Ve),Ve+=ge.length;for(let Le=0,nt=G.length;Le<nt;Le++){const we=G[Le];it(we,Ve),Ve+=we.length}n.addGroup(Pe,s.length/3-Pe,1)}function it(Pe,Ve){let Le=Pe.length;for(;--Le>=0;){const nt=Le;let we=Le-1;we<0&&(we=Pe.length-1);for(let j=0,z=m+E*2;j<z;j++){const fe=re*j,Se=re*(j+1),Ue=Ve+nt+fe,De=Ve+we+fe,yt=Ve+we+Se,tt=Ve+nt+Se;Bt(Ue,De,yt,tt)}}}function Ct(Pe,Ve,Le){h.push(Pe),h.push(Ve),h.push(Le)}function Xt(Pe,Ve,Le){Z(Pe),Z(Ve),Z(Le);const nt=s.length/3,we=w.generateTopUV(n,s,nt-3,nt-2,nt-1);Mn(we[0]),Mn(we[1]),Mn(we[2])}function Bt(Pe,Ve,Le,nt){Z(Pe),Z(Ve),Z(nt),Z(Ve),Z(Le),Z(nt);const we=s.length/3,j=w.generateSideWallUV(n,s,we-6,we-3,we-2,we-1);Mn(j[0]),Mn(j[1]),Mn(j[3]),Mn(j[1]),Mn(j[2]),Mn(j[3])}function Z(Pe){s.push(h[Pe*3+0]),s.push(h[Pe*3+1]),s.push(h[Pe*3+2])}function Mn(Pe){a.push(Pe.x),a.push(Pe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return VG(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,o=e.shapes.length;a<o;a++){const c=t[e.shapes[a]];n.push(c)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new M_[s.type]().fromJSON(s)),new gx(n,e.options)}}const GG={generateTopUV:function(i,e,t,n,s){const a=e[t*3],o=e[t*3+1],c=e[n*3],h=e[n*3+1],p=e[s*3],m=e[s*3+1];return[new He(a,o),new He(c,h),new He(p,m)]},generateSideWallUV:function(i,e,t,n,s,a){const o=e[t*3],c=e[t*3+1],h=e[t*3+2],p=e[n*3],m=e[n*3+1],y=e[n*3+2],A=e[s*3],_=e[s*3+1],S=e[s*3+2],T=e[a*3],E=e[a*3+1],b=e[a*3+2];return Math.abs(c-m)<Math.abs(o-p)?[new He(o,1-h),new He(p,1-y),new He(A,1-S),new He(T,1-b)]:[new He(c,1-h),new He(m,1-y),new He(_,1-S),new He(E,1-b)]}};function VG(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,s=i.length;n<s;n++){const a=i[n];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class yx extends Fu{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,s=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yx(e.radius,e.detail)}}class vy extends Fu{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vy(e.radius,e.detail)}}class Cp extends Jt{constructor(e=1,t=1,n=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:s};const a=e/2,o=t/2,c=Math.floor(n),h=Math.floor(s),p=c+1,m=h+1,y=e/c,A=t/h,_=[],S=[],T=[],E=[];for(let b=0;b<m;b++){const w=b*A-o;for(let B=0;B<p;B++){const D=B*y-a;S.push(D,-w,0),T.push(0,0,1),E.push(B/c),E.push(1-b/h)}}for(let b=0;b<h;b++)for(let w=0;w<c;w++){const B=w+p*b,D=w+p*(b+1),U=w+1+p*(b+1),P=w+1+p*b;_.push(B,D,P),_.push(D,U,P)}this.setIndex(_),this.setAttribute("position",new xt(S,3)),this.setAttribute("normal",new xt(T,3)),this.setAttribute("uv",new xt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cp(e.width,e.height,e.widthSegments,e.heightSegments)}}class vx extends Jt{constructor(e=.5,t=1,n=32,s=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:s,thetaStart:a,thetaLength:o},n=Math.max(3,n),s=Math.max(1,s);const c=[],h=[],p=[],m=[];let y=e;const A=(t-e)/s,_=new q,S=new He;for(let T=0;T<=s;T++){for(let E=0;E<=n;E++){const b=a+E/n*o;_.x=y*Math.cos(b),_.y=y*Math.sin(b),h.push(_.x,_.y,_.z),p.push(0,0,1),S.x=(_.x/t+1)/2,S.y=(_.y/t+1)/2,m.push(S.x,S.y)}y+=A}for(let T=0;T<s;T++){const E=T*(n+1);for(let b=0;b<n;b++){const w=b+E,B=w,D=w+n+1,U=w+n+2,P=w+1;c.push(B,D,P),c.push(D,U,P)}}this.setIndex(c),this.setAttribute("position",new xt(h,3)),this.setAttribute("normal",new xt(p,3)),this.setAttribute("uv",new xt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ax extends Jt{constructor(e=new uh([new He(0,.5),new He(-.5,-.5),new He(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],s=[],a=[],o=[];let c=0,h=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(c,h,m),c+=h,h=0;this.setIndex(n),this.setAttribute("position",new xt(s,3)),this.setAttribute("normal",new xt(a,3)),this.setAttribute("uv",new xt(o,2));function p(m){const y=s.length/3,A=m.extractPoints(t);let _=A.shape;const S=A.holes;_l.isClockWise(_)===!1&&(_=_.reverse());for(let E=0,b=S.length;E<b;E++){const w=S[E];_l.isClockWise(w)===!0&&(S[E]=w.reverse())}const T=_l.triangulateShape(_,S);for(let E=0,b=S.length;E<b;E++){const w=S[E];_=_.concat(w)}for(let E=0,b=_.length;E<b;E++){const w=_[E];s.push(w.x,w.y,0),a.push(0,0,1),o.push(w.x,w.y)}for(let E=0,b=T.length;E<b;E++){const w=T[E],B=w[0]+y,D=w[1]+y,U=w[2]+y;n.push(B,D,U),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return kG(t,e)}static fromJSON(e,t){const n=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];n.push(o)}return new Ax(n,e.curveSegments)}}function kG(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const s=i[t];e.shapes.push(s.uuid)}else e.shapes.push(i.uuid);return e}class Ay extends Jt{constructor(e=1,t=32,n=16,s=0,a=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:s,phiLength:a,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const h=Math.min(o+c,Math.PI);let p=0;const m=[],y=new q,A=new q,_=[],S=[],T=[],E=[];for(let b=0;b<=n;b++){const w=[],B=b/n;let D=0;b===0&&o===0?D=.5/t:b===n&&h===Math.PI&&(D=-.5/t);for(let U=0;U<=t;U++){const P=U/t;y.x=-e*Math.cos(s+P*a)*Math.sin(o+B*c),y.y=e*Math.cos(o+B*c),y.z=e*Math.sin(s+P*a)*Math.sin(o+B*c),S.push(y.x,y.y,y.z),A.copy(y).normalize(),T.push(A.x,A.y,A.z),E.push(P+D,1-B),w.push(p++)}m.push(w)}for(let b=0;b<n;b++)for(let w=0;w<t;w++){const B=m[b][w+1],D=m[b][w],U=m[b+1][w],P=m[b+1][w+1];(b!==0||o>0)&&_.push(B,D,P),(b!==n-1||h<Math.PI)&&_.push(D,U,P)}this.setIndex(_),this.setAttribute("position",new xt(S,3)),this.setAttribute("normal",new xt(T,3)),this.setAttribute("uv",new xt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ay(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class _x extends Fu{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _x(e.radius,e.detail)}}class xx extends Jt{constructor(e=1,t=.4,n=12,s=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:s,arc:a},n=Math.floor(n),s=Math.floor(s);const o=[],c=[],h=[],p=[],m=new q,y=new q,A=new q;for(let _=0;_<=n;_++)for(let S=0;S<=s;S++){const T=S/s*a,E=_/n*Math.PI*2;y.x=(e+t*Math.cos(E))*Math.cos(T),y.y=(e+t*Math.cos(E))*Math.sin(T),y.z=t*Math.sin(E),c.push(y.x,y.y,y.z),m.x=e*Math.cos(T),m.y=e*Math.sin(T),A.subVectors(y,m).normalize(),h.push(A.x,A.y,A.z),p.push(S/s),p.push(_/n)}for(let _=1;_<=n;_++)for(let S=1;S<=s;S++){const T=(s+1)*_+S-1,E=(s+1)*(_-1)+S-1,b=(s+1)*(_-1)+S,w=(s+1)*_+S;o.push(T,E,w),o.push(E,b,w)}this.setIndex(o),this.setAttribute("position",new xt(c,3)),this.setAttribute("normal",new xt(h,3)),this.setAttribute("uv",new xt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xx(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Sx extends Jt{constructor(e=1,t=.4,n=64,s=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:s,p:a,q:o},n=Math.floor(n),s=Math.floor(s);const c=[],h=[],p=[],m=[],y=new q,A=new q,_=new q,S=new q,T=new q,E=new q,b=new q;for(let B=0;B<=n;++B){const D=B/n*a*Math.PI*2;w(D,a,o,e,_),w(D+.01,a,o,e,S),E.subVectors(S,_),b.addVectors(S,_),T.crossVectors(E,b),b.crossVectors(T,E),T.normalize(),b.normalize();for(let U=0;U<=s;++U){const P=U/s*Math.PI*2,F=-t*Math.cos(P),H=t*Math.sin(P);y.x=_.x+(F*b.x+H*T.x),y.y=_.y+(F*b.y+H*T.y),y.z=_.z+(F*b.z+H*T.z),h.push(y.x,y.y,y.z),A.subVectors(y,_).normalize(),p.push(A.x,A.y,A.z),m.push(B/n),m.push(U/s)}}for(let B=1;B<=n;B++)for(let D=1;D<=s;D++){const U=(s+1)*(B-1)+(D-1),P=(s+1)*B+(D-1),F=(s+1)*B+D,H=(s+1)*(B-1)+D;c.push(U,P,H),c.push(P,F,H)}this.setIndex(c),this.setAttribute("position",new xt(h,3)),this.setAttribute("normal",new xt(p,3)),this.setAttribute("uv",new xt(m,2));function w(B,D,U,P,F){const H=Math.cos(B),N=Math.sin(B),L=U/D*B,G=Math.cos(L);F.x=P*(2+G)*.5*H,F.y=P*(2+G)*N*.5,F.z=P*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sx(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class bx extends Jt{constructor(e=new PE(new q(-1,-1,0),new q(-1,1,0),new q(1,1,0)),t=64,n=1,s=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:s,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new q,h=new q,p=new He;let m=new q;const y=[],A=[],_=[],S=[];T(),this.setIndex(S),this.setAttribute("position",new xt(y,3)),this.setAttribute("normal",new xt(A,3)),this.setAttribute("uv",new xt(_,2));function T(){for(let B=0;B<t;B++)E(B);E(a===!1?t:0),w(),b()}function E(B){m=e.getPointAt(B/t,m);const D=o.normals[B],U=o.binormals[B];for(let P=0;P<=s;P++){const F=P/s*Math.PI*2,H=Math.sin(F),N=-Math.cos(F);h.x=N*D.x+H*U.x,h.y=N*D.y+H*U.y,h.z=N*D.z+H*U.z,h.normalize(),A.push(h.x,h.y,h.z),c.x=m.x+n*h.x,c.y=m.y+n*h.y,c.z=m.z+n*h.z,y.push(c.x,c.y,c.z)}}function b(){for(let B=1;B<=t;B++)for(let D=1;D<=s;D++){const U=(s+1)*(B-1)+(D-1),P=(s+1)*B+(D-1),F=(s+1)*B+D,H=(s+1)*(B-1)+D;S.push(U,P,H),S.push(P,F,H)}}function w(){for(let B=0;B<=t;B++)for(let D=0;D<=s;D++)p.x=B/t,p.y=D/s,_.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new bx(new M_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class nL extends Jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,s=new q,a=new q;if(e.index!==null){const o=e.attributes.position,c=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const y=h[p],A=y.start,_=y.count;for(let S=A,T=A+_;S<T;S+=3)for(let E=0;E<3;E++){const b=c.getX(S+E),w=c.getX(S+(E+1)%3);s.fromBufferAttribute(o,b),a.fromBufferAttribute(o,w),XR(s,a,n)===!0&&(t.push(s.x,s.y,s.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let c=0,h=o.count/3;c<h;c++)for(let p=0;p<3;p++){const m=3*c+p,y=3*c+(p+1)%3;s.fromBufferAttribute(o,m),a.fromBufferAttribute(o,y),XR(s,a,n)===!0&&(t.push(s.x,s.y,s.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new xt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function XR(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(s)===!0?!1:(t.add(n),t.add(s),!0)}var jR=Object.freeze({__proto__:null,BoxGeometry:Mh,CapsuleGeometry:hx,CircleGeometry:dx,ConeGeometry:px,CylinderGeometry:Tp,DodecahedronGeometry:mx,EdgesGeometry:ZO,ExtrudeGeometry:gx,IcosahedronGeometry:yx,LatheGeometry:yy,OctahedronGeometry:vy,PlaneGeometry:Cp,PolyhedronGeometry:Fu,RingGeometry:vx,ShapeGeometry:Ax,SphereGeometry:Ay,TetrahedronGeometry:_x,TorusGeometry:xx,TorusKnotGeometry:Sx,TubeGeometry:bx,WireframeGeometry:nL});class iL extends es{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class sL extends xo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class _y extends es{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Iu,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wr extends _y{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new He(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class aL extends es{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ut(16777215),this.specular=new ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Iu,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.combine=uy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rL extends es{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Iu,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class oL extends es{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Iu,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class lL extends es{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Iu,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.combine=uy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FE extends es{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=SO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class zE extends es{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class cL extends es{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Iu,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uL extends Zs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function nh(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function fL(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function hL(i){function e(s,a){return i[s]-i[a]}const t=i.length,n=new Array(t);for(let s=0;s!==t;++s)n[s]=s;return n.sort(e),n}function Pb(i,e,t){const n=i.length,s=new i.constructor(n);for(let a=0,o=0;o!==n;++a){const c=t[a]*e;for(let h=0;h!==e;++h)s[o++]=i[c+h]}return s}function HE(i,e,t,n){let s=1,a=i[0];for(;a!==void 0&&a[n]===void 0;)a=i[s++];if(a===void 0)return;let o=a[n];if(o!==void 0)if(Array.isArray(o))do o=a[n],o!==void 0&&(e.push(a.time),t.push(...o)),a=i[s++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[n],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=i[s++];while(a!==void 0);else do o=a[n],o!==void 0&&(e.push(a.time),t.push(o)),a=i[s++];while(a!==void 0)}function XG(i,e,t,n,s=30){const a=i.clone();a.name=e;const o=[];for(let h=0;h<a.tracks.length;++h){const p=a.tracks[h],m=p.getValueSize(),y=[],A=[];for(let _=0;_<p.times.length;++_){const S=p.times[_]*s;if(!(S<t||S>=n)){y.push(p.times[_]);for(let T=0;T<m;++T)A.push(p.values[_*m+T])}}y.length!==0&&(p.times=nh(y,p.times.constructor),p.values=nh(A,p.values.constructor),o.push(p))}a.tracks=o;let c=1/0;for(let h=0;h<a.tracks.length;++h)c>a.tracks[h].times[0]&&(c=a.tracks[h].times[0]);for(let h=0;h<a.tracks.length;++h)a.tracks[h].shift(-1*c);return a.resetDuration(),a}function jG(i,e=0,t=i,n=30){n<=0&&(n=30);const s=t.tracks.length,a=e/n;for(let o=0;o<s;++o){const c=t.tracks[o],h=c.ValueTypeName;if(h==="bool"||h==="string")continue;const p=i.tracks.find(function(b){return b.name===c.name&&b.ValueTypeName===h});if(p===void 0)continue;let m=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=y/3);let A=0;const _=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(A=_/3);const S=c.times.length-1;let T;if(a<=c.times[0]){const b=m,w=y-m;T=c.values.slice(b,w)}else if(a>=c.times[S]){const b=S*y+m,w=b+y-m;T=c.values.slice(b,w)}else{const b=c.createInterpolant(),w=m,B=y-m;b.evaluate(a),T=b.resultBuffer.slice(w,B)}h==="quaternion"&&new vs().fromArray(T).normalize().conjugate().toArray(T);const E=p.times.length;for(let b=0;b<E;++b){const w=b*_+A;if(h==="quaternion")vs.multiplyQuaternionsFlat(p.values,w,T,0,p.values,w);else{const B=_-A*2;for(let D=0;D<B;++D)p.values[w+D]-=T[D]}}}return i.blendMode=AE,i}class YG{static convertArray(e,t){return nh(e,t)}static isTypedArray(e){return fL(e)}static getKeyframeOrder(e){return hL(e)}static sortedArray(e,t,n){return Pb(e,t,n)}static flattenJSON(e,t,n,s){HE(e,t,n,s)}static subclip(e,t,n,s,a=30){return XG(e,t,n,s,a)}static makeClipAdditive(e,t=0,n=e,s=30){return jG(e,t,n,s)}}class Rp{constructor(e,t,n,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,s=t[n],a=t[n-1];e:{t:{let o;n:{i:if(!(e<s)){for(let c=n+2;;){if(s===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===c)break;if(a=s,s=t[++n],e<s)break t}o=t.length;break n}if(!(e>=a)){const c=t[1];e<c&&(n=2,a=c);for(let h=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===h)break;if(s=a,a=t[--n-1],e>=a)break t}o=n,n=0;break n}break e}for(;n<o;){const c=n+o>>>1;e<t[c]?o=c:n=c+1}if(s=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,s)}return this.interpolate_(n,a,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,s=this.valueSize,a=e*s;for(let o=0;o!==s;++o)t[o]=n[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class dL extends Rp{constructor(e,t,n,s){super(e,t,n,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:eh,endingEnd:eh}}intervalChanged_(e,t,n){const s=this.parameterPositions;let a=e-2,o=e+1,c=s[a],h=s[o];if(c===void 0)switch(this.getSettings_().endingStart){case th:a=e,c=2*t-n;break;case Xg:a=s.length-2,c=t+s[a]-s[a+1];break;default:a=e,c=n}if(h===void 0)switch(this.getSettings_().endingEnd){case th:o=e,h=2*n-t;break;case Xg:o=1,h=n+s[1]-s[0];break;default:o=e-1,h=t}const p=(n-t)*.5,m=this.valueSize;this._weightPrev=p/(t-c),this._weightNext=p/(h-n),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(e,t,n,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=e*c,p=h-c,m=this._offsetPrev,y=this._offsetNext,A=this._weightPrev,_=this._weightNext,S=(n-t)/(s-t),T=S*S,E=T*S,b=-A*E+2*A*T-A*S,w=(1+A)*E+(-1.5-2*A)*T+(-.5+A)*S+1,B=(-1-_)*E+(1.5+_)*T+.5*S,D=_*E-_*T;for(let U=0;U!==c;++U)a[U]=b*o[m+U]+w*o[p+U]+B*o[h+U]+D*o[y+U];return a}}class GE extends Rp{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=e*c,p=h-c,m=(n-t)/(s-t),y=1-m;for(let A=0;A!==c;++A)a[A]=o[p+A]*y+o[h+A]*m;return a}}class pL extends Rp{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Br{constructor(e,t,n,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=nh(t,this.TimeBufferType),this.values=nh(n,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:nh(e.times,Array),values:nh(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(n.interpolation=s)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new pL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new GE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new dL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case dp:t=this.InterpolantFactoryMethodDiscrete;break;case pp:t=this.InterpolantFactoryMethodLinear;break;case SA:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dp;case this.InterpolantFactoryMethodLinear:return pp;case this.InterpolantFactoryMethodSmooth:return SA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]*=e}return this}trim(e,t){const n=this.times,s=n.length;let a=0,o=s-1;for(;a!==s&&n[a]<e;)++a;for(;o!==-1&&n[o]>t;)--o;if(++o,a!==0||o!==s){a>=o&&(o=Math.max(o,1),a=o-1);const c=this.getValueSize();this.times=n.slice(a,o),this.values=this.values.slice(a*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,s=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==a;c++){const h=n[c];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,h),e=!1;break}if(o!==null&&o>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,h,o),e=!1;break}o=h}if(s!==void 0&&fL(s))for(let c=0,h=s.length;c!==h;++c){const p=s[c];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),s=this.getInterpolation()===SA,a=e.length-1;let o=1;for(let c=1;c<a;++c){let h=!1;const p=e[c],m=e[c+1];if(p!==m&&(c!==1||p!==e[0]))if(s)h=!0;else{const y=c*n,A=y-n,_=y+n;for(let S=0;S!==n;++S){const T=t[y+S];if(T!==t[A+S]||T!==t[_+S]){h=!0;break}}}if(h){if(c!==o){e[o]=e[c];const y=c*n,A=o*n;for(let _=0;_!==n;++_)t[A+_]=t[y+_]}++o}}if(a>0){e[o]=e[a];for(let c=a*n,h=o*n,p=0;p!==n;++p)t[h+p]=t[c+p];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,s=new n(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Br.prototype.ValueTypeName="";Br.prototype.TimeBufferType=Float32Array;Br.prototype.ValueBufferType=Float32Array;Br.prototype.DefaultInterpolation=pp;class Eh extends Br{constructor(e,t,n){super(e,t,n)}}Eh.prototype.ValueTypeName="bool";Eh.prototype.ValueBufferType=Array;Eh.prototype.DefaultInterpolation=dp;Eh.prototype.InterpolantFactoryMethodLinear=void 0;Eh.prototype.InterpolantFactoryMethodSmooth=void 0;class VE extends Br{constructor(e,t,n,s){super(e,t,n,s)}}VE.prototype.ValueTypeName="color";class mh extends Br{constructor(e,t,n,s){super(e,t,n,s)}}mh.prototype.ValueTypeName="number";class mL extends Rp{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=(n-t)/(s-t);let p=e*c;for(let m=p+c;p!==m;p+=4)vs.slerpFlat(a,0,o,p-c,o,p,h);return a}}class gh extends Br{constructor(e,t,n,s){super(e,t,n,s)}InterpolantFactoryMethodLinear(e){return new mL(this.times,this.values,this.getValueSize(),e)}}gh.prototype.ValueTypeName="quaternion";gh.prototype.InterpolantFactoryMethodSmooth=void 0;class Th extends Br{constructor(e,t,n){super(e,t,n)}}Th.prototype.ValueTypeName="string";Th.prototype.ValueBufferType=Array;Th.prototype.DefaultInterpolation=dp;Th.prototype.InterpolantFactoryMethodLinear=void 0;Th.prototype.InterpolantFactoryMethodSmooth=void 0;class yh extends Br{constructor(e,t,n,s){super(e,t,n,s)}}yh.prototype.ValueTypeName="vector";class Ap{constructor(e="",t=-1,n=[],s=nx){this.name=e,this.tracks=n,this.duration=t,this.blendMode=s,this.uuid=tr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,s=1/(e.fps||1);for(let o=0,c=n.length;o!==c;++o)t.push(WG(n[o]).scale(s));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],n=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=n.length;a!==o;++a)t.push(Br.toJSON(n[a]));return s}static CreateFromMorphTargetSequence(e,t,n,s){const a=t.length,o=[];for(let c=0;c<a;c++){let h=[],p=[];h.push((c+a-1)%a,c,(c+1)%a),p.push(0,1,0);const m=hL(h);h=Pb(h,1,m),p=Pb(p,1,m),!s&&h[0]===0&&(h.push(a),p.push(p[0])),o.push(new mh(".morphTargetInfluences["+t[c].name+"]",h,p).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const s=e;n=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<n.length;s++)if(n[s].name===t)return n[s];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const s={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,h=e.length;c<h;c++){const p=e[c],m=p.name.match(a);if(m&&m.length>1){const y=m[1];let A=s[y];A||(s[y]=A=[]),A.push(p)}}const o=[];for(const c in s)o.push(this.CreateFromMorphTargetSequence(c,s[c],t,n));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(y,A,_,S,T){if(_.length!==0){const E=[],b=[];HE(_,E,b,S),E.length!==0&&T.push(new y(A,E,b))}},s=[],a=e.name||"default",o=e.fps||30,c=e.blendMode;let h=e.length||-1;const p=e.hierarchy||[];for(let y=0;y<p.length;y++){const A=p[y].keys;if(!(!A||A.length===0))if(A[0].morphTargets){const _={};let S;for(S=0;S<A.length;S++)if(A[S].morphTargets)for(let T=0;T<A[S].morphTargets.length;T++)_[A[S].morphTargets[T]]=-1;for(const T in _){const E=[],b=[];for(let w=0;w!==A[S].morphTargets.length;++w){const B=A[S];E.push(B.time),b.push(B.morphTarget===T?1:0)}s.push(new mh(".morphTargetInfluence["+T+"]",E,b))}h=_.length*o}else{const _=".bones["+t[y].name+"]";n(yh,_+".position",A,"pos",s),n(gh,_+".quaternion",A,"rot",s),n(yh,_+".scale",A,"scl",s)}}return s.length===0?null:new this(a,h,s,c)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,s=e.length;n!==s;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function qG(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mh;case"vector":case"vector2":case"vector3":case"vector4":return yh;case"color":return VE;case"quaternion":return gh;case"bool":case"boolean":return Eh;case"string":return Th}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function WG(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=qG(i.type);if(i.times===void 0){const t=[],n=[];HE(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const dc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class kE{constructor(e,t,n){const s=this;let a=!1,o=0,c=0,h;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(m){c++,a===!1&&s.onStart!==void 0&&s.onStart(m,o,c),a=!0},this.itemEnd=function(m){o++,s.onProgress!==void 0&&s.onProgress(m,o,c),o===c&&(a=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,y){return p.push(m,y),this},this.removeHandler=function(m){const y=p.indexOf(m);return y!==-1&&p.splice(y,2),this},this.getHandler=function(m){for(let y=0,A=p.length;y<A;y+=2){const _=p[y],S=p[y+1];if(_.global&&(_.lastIndex=0),_.test(m))return S}return null}}}const gL=new kE;class Qs{constructor(e){this.manager=e!==void 0?e:gL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(s,a){n.load(e,s,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Qs.DEFAULT_MATERIAL_NAME="__DEFAULT";const ac={};class KG extends Error{constructor(e,t){super(e),this.response=t}}class sr extends Qs{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,n,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=dc.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(ac[e]!==void 0){ac[e].push({onLoad:t,onProgress:n,onError:s});return}ac[e]=[],ac[e].push({onLoad:t,onProgress:n,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,h=this.responseType;fetch(o).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=ac[e],y=p.body.getReader(),A=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),_=A?parseInt(A):0,S=_!==0;let T=0;const E=new ReadableStream({start(b){w();function w(){y.read().then(({done:B,value:D})=>{if(B)b.close();else{T+=D.byteLength;const U=new ProgressEvent("progress",{lengthComputable:S,loaded:T,total:_});for(let P=0,F=m.length;P<F;P++){const H=m[P];H.onProgress&&H.onProgress(U)}b.enqueue(D),w()}},B=>{b.error(B)})}}});return new Response(E)}else throw new KG(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return p.json();default:if(c==="")return p.text();{const y=/charset="?([^;"\s]*)"?/i.exec(c),A=y&&y[1]?y[1].toLowerCase():void 0,_=new TextDecoder(A);return p.arrayBuffer().then(S=>_.decode(S))}}}).then(p=>{dc.add(e,p);const m=ac[e];delete ac[e];for(let y=0,A=m.length;y<A;y++){const _=m[y];_.onLoad&&_.onLoad(p)}}).catch(p=>{const m=ac[e];if(m===void 0)throw this.manager.itemError(e),p;delete ac[e];for(let y=0,A=m.length;y<A;y++){const _=m[y];_.onError&&_.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class JG extends Qs{constructor(e){super(e)}load(e,t,n,s){const a=this,o=new sr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(h){s?s(h):console.error(h),a.manager.itemError(e)}},n,s)}parse(e){const t=[];for(let n=0;n<e.length;n++){const s=Ap.parse(e[n]);t.push(s)}return t}}class ZG extends Qs{constructor(e){super(e)}load(e,t,n,s){const a=this,o=[],c=new ux,h=new sr(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(a.withCredentials);let p=0;function m(y){h.load(e[y],function(A){const _=a.parse(A,!0);o[y]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},p+=1,p===6&&(_.mipmapCount===1&&(c.minFilter=Gi),c.image=o,c.format=_.format,c.needsUpdate=!0,t&&t(c))},n,s)}if(Array.isArray(e))for(let y=0,A=e.length;y<A;++y)m(y);else h.load(e,function(y){const A=a.parse(y,!0);if(A.isCubemap){const _=A.mipmaps.length/A.mipmapCount;for(let S=0;S<_;S++){o[S]={mipmaps:[]};for(let T=0;T<A.mipmapCount;T++)o[S].mipmaps.push(A.mipmaps[S*A.mipmapCount+T]),o[S].format=A.format,o[S].width=A.width,o[S].height=A.height}c.image=o}else c.image.width=A.width,c.image.height=A.height,c.mipmaps=A.mipmaps;A.mipmapCount===1&&(c.minFilter=Gi),c.format=A.format,c.needsUpdate=!0,t&&t(c)},n,s);return c}}class $g extends Qs{constructor(e){super(e)}load(e,t,n,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=dc.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const c=Wg("img");function h(){m(),dc.add(e,this),t&&t(this),a.manager.itemEnd(e)}function p(y){m(),s&&s(y),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){c.removeEventListener("load",h,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",h,!1),c.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),a.manager.itemStart(e),c.src=e,c}}class QG extends Qs{constructor(e){super(e)}load(e,t,n,s){const a=new dy;a.colorSpace=Ys;const o=new $g(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function h(p){o.load(e[p],function(m){a.images[p]=m,c++,c===6&&(a.needsUpdate=!0,t&&t(a))},void 0,s)}for(let p=0;p<e.length;++p)h(p);return a}}class $G extends Qs{constructor(e){super(e)}load(e,t,n,s){const a=this,o=new Al,c=new sr(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(e,function(h){let p;try{p=a.parse(h)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}p.image!==void 0?o.image=p.image:p.data!==void 0&&(o.image.width=p.width,o.image.height=p.height,o.image.data=p.data),o.wrapS=p.wrapS!==void 0?p.wrapS:$a,o.wrapT=p.wrapT!==void 0?p.wrapT:$a,o.magFilter=p.magFilter!==void 0?p.magFilter:Gi,o.minFilter=p.minFilter!==void 0?p.minFilter:Gi,o.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(o.colorSpace=p.colorSpace),p.flipY!==void 0&&(o.flipY=p.flipY),p.format!==void 0&&(o.format=p.format),p.type!==void 0&&(o.type=p.type),p.mipmaps!==void 0&&(o.mipmaps=p.mipmaps,o.minFilter=Tr),p.mipmapCount===1&&(o.minFilter=Gi),p.generateMipmaps!==void 0&&(o.generateMipmaps=p.generateMipmaps),o.needsUpdate=!0,t&&t(o,p)},n,s),o}}class yL extends Qs{constructor(e){super(e)}load(e,t,n,s){const a=new ui,o=new $g(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){a.image=c,a.needsUpdate=!0,t!==void 0&&t(a)},n,s),a}}class zu extends vn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class vL extends zu{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(vn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ut(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const b1=new Nt,YR=new q,qR=new q;class XE{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new He(512,512),this.map=null,this.mapPass=null,this.matrix=new Nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gy,this._frameExtents=new He(1,1),this._viewportCount=1,this._viewports=[new Rn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;YR.setFromMatrixPosition(e.matrixWorld),t.position.copy(YR),qR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(qR),t.updateMatrixWorld(),b1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(b1),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(b1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class e6 extends XE{constructor(){super(new Ni(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=mp*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||s!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=s,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class jE extends zu{constructor(e,t,n=0,s=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(vn.DEFAULT_UP),this.updateMatrix(),this.target=new vn,this.distance=n,this.angle=s,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new e6}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const WR=new Nt,og=new q,M1=new q;class t6 extends XE{constructor(){super(new Ni(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new He(4,2),this._viewportCount=6,this._viewports=[new Rn(2,1,1,1),new Rn(0,1,1,1),new Rn(3,1,1,1),new Rn(1,1,1,1),new Rn(3,0,1,1),new Rn(1,0,1,1)],this._cubeDirections=[new q(1,0,0),new q(-1,0,0),new q(0,0,1),new q(0,0,-1),new q(0,1,0),new q(0,-1,0)],this._cubeUps=[new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,0,1),new q(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,s=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),og.setFromMatrixPosition(e.matrixWorld),n.position.copy(og),M1.copy(n.position),M1.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(M1),n.updateMatrixWorld(),s.makeTranslation(-og.x,-og.y,-og.z),WR.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WR)}}class YE extends zu{constructor(e,t,n=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=s,this.shadow=new t6}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class gc extends ax{constructor(e=-1,t=1,n=1,s=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=s,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,s,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let a=n-e,o=n+e,c=s+t,h=s-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=p*this.view.offsetX,o=a+p*this.view.width,c-=m*this.view.offsetY,h=c-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,c,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class n6 extends XE{constructor(){super(new gc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class qE extends zu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(vn.DEFAULT_UP),this.updateMatrix(),this.target=new vn,this.shadow=new n6}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AL extends zu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class _L extends zu{constructor(e,t,n=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class xL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,s=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*s),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*s)),t.addScaledVector(o[5],1.092548*(s*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(n*a)),t.addScaledVector(o[8],.546274*(n*n-s*s)),t}getIrradianceAt(e,t){const n=e.x,s=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*s),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*s),t.addScaledVector(o[5],2*.429043*s*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*n*a),t.addScaledVector(o[8],.429043*(n*n-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const n=e.x,s=e.y,a=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*s,t[5]=1.092548*s*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-s*s)}}class SL extends zu{constructor(e=new xL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Mx extends Qs{constructor(e){super(e),this.textures={}}load(e,t,n,s){const a=this,o=new sr(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(h){s?s(h):console.error(h),a.manager.itemError(e)}},n,s)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(s.uniforms[a]={},o.type){case"t":s.uniforms[a].value=n(o.value);break;case"c":s.uniforms[a].value=new ut().setHex(o.value);break;case"v2":s.uniforms[a].value=new He().fromArray(o.value);break;case"v3":s.uniforms[a].value=new q().fromArray(o.value);break;case"v4":s.uniforms[a].value=new Rn().fromArray(o.value);break;case"m3":s.uniforms[a].value=new Kt().fromArray(o.value);break;case"m4":s.uniforms[a].value=new Nt().fromArray(o.value);break;default:s.uniforms[a].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)s.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=n(e.map)),e.matcap!==void 0&&(s.matcap=n(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),s.normalScale=new He().fromArray(a)}return e.displacementMap!==void 0&&(s.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=n(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new He().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=n(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Mx.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:iL,SpriteMaterial:TE,RawShaderMaterial:sL,ShaderMaterial:xo,PointsMaterial:cx,MeshPhysicalMaterial:wr,MeshStandardMaterial:_y,MeshPhongMaterial:aL,MeshToonMaterial:rL,MeshNormalMaterial:oL,MeshLambertMaterial:lL,MeshDepthMaterial:FE,MeshDistanceMaterial:zE,MeshBasicMaterial:er,MeshMatcapMaterial:cL,LineDashedMaterial:uL,LineBasicMaterial:Zs,Material:es};return new t[e]}}class Cu{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class bL extends Jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class ML extends Qs{constructor(e){super(e)}load(e,t,n,s){const a=this,o=new sr(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(h){s?s(h):console.error(h),a.manager.itemError(e)}},n,s)}parse(e){const t={},n={};function s(_,S){if(t[S]!==void 0)return t[S];const E=_.interleavedBuffers[S],b=a(_,E.buffer),w=Jd(E.type,b),B=new py(w,E.stride);return B.uuid=E.uuid,t[S]=B,B}function a(_,S){if(n[S]!==void 0)return n[S];const E=_.arrayBuffers[S],b=new Uint32Array(E).buffer;return n[S]=b,b}const o=e.isInstancedBufferGeometry?new bL:new Jt,c=e.data.index;if(c!==void 0){const _=Jd(c.type,c.array);o.setIndex(new Bn(_,1))}const h=e.data.attributes;for(const _ in h){const S=h[_];let T;if(S.isInterleavedBufferAttribute){const E=s(e.data,S.data);T=new Ou(E,S.itemSize,S.offset,S.normalized)}else{const E=Jd(S.type,S.array),b=S.isInstancedBufferAttribute?dh:Bn;T=new b(E,S.itemSize,S.normalized)}S.name!==void 0&&(T.name=S.name),S.usage!==void 0&&T.setUsage(S.usage),o.setAttribute(_,T)}const p=e.data.morphAttributes;if(p)for(const _ in p){const S=p[_],T=[];for(let E=0,b=S.length;E<b;E++){const w=S[E];let B;if(w.isInterleavedBufferAttribute){const D=s(e.data,w.data);B=new Ou(D,w.itemSize,w.offset,w.normalized)}else{const D=Jd(w.type,w.array);B=new Bn(D,w.itemSize,w.normalized)}w.name!==void 0&&(B.name=w.name),T.push(B)}o.morphAttributes[_]=T}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const y=e.data.groups||e.data.drawcalls||e.data.offsets;if(y!==void 0)for(let _=0,S=y.length;_!==S;++_){const T=y[_];o.addGroup(T.start,T.count,T.materialIndex)}const A=e.data.boundingSphere;if(A!==void 0){const _=new q;A.center!==void 0&&_.fromArray(A.center),o.boundingSphere=new Bs(_,A.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class i6 extends Qs{constructor(e){super(e)}load(e,t,n,s){const a=this,o=this.path===""?Cu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new sr(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(h){let p=null;try{p=JSON.parse(h)}catch(y){s!==void 0&&s(y),console.error("THREE:ObjectLoader: Can't parse "+e+".",y.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(p,t)},n,s)}async loadAsync(e,t){const n=this,s=this.path===""?Cu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new sr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),c=JSON.parse(o),h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(c)}parse(e,t){const n=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){t!==void 0&&t(p)}),c=this.parseTextures(e.textures,o),h=this.parseMaterials(e.materials,c),p=this.parseObject(e.object,a,h,c,n),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let y=!1;for(const A in o)if(o[A].data instanceof HTMLImageElement){y=!0;break}y===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),h=this.parseObject(e.object,s,c,o,t),p=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(e){const t={};if(e!==void 0)for(let n=0,s=e.length;n<s;n++){const a=new uh().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},s={};if(t.traverse(function(a){a.isBone&&(s[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=new my().fromJSON(e[a],s);n[c.uuid]=c}return n}parseGeometries(e,t){const n={};if(e!==void 0){const s=new ML;for(let a=0,o=e.length;a<o;a++){let c;const h=e[a];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":c=s.parse(h);break;default:h.type in jR?c=jR[h.type].fromJSON(h,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}c.uuid=h.uuid,h.name!==void 0&&(c.name=h.name),h.userData!==void 0&&(c.userData=h.userData),n[h.uuid]=c}}return n}parseMaterials(e,t){const n={},s={};if(e!==void 0){const a=new Mx;a.setTextures(t);for(let o=0,c=e.length;o<c;o++){const h=e[o];n[h.uuid]===void 0&&(n[h.uuid]=a.parse(h)),s[h.uuid]=n[h.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const s=e[n],a=Ap.parse(s);t[a.uuid]=a}return t}parseImages(e,t){const n=this,s={};let a;function o(h){return n.manager.itemStart(h),a.load(h,function(){n.manager.itemEnd(h)},void 0,function(){n.manager.itemError(h),n.manager.itemEnd(h)})}function c(h){if(typeof h=="string"){const p=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return o(m)}else return h.data?{data:Jd(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new kE(t);a=new $g(h),a.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const y=e[p],A=y.url;if(Array.isArray(A)){const _=[];for(let S=0,T=A.length;S<T;S++){const E=A[S],b=c(E);b!==null&&(b instanceof HTMLImageElement?_.push(b):_.push(new Al(b.data,b.width,b.height)))}s[y.uuid]=new Tu(_)}else{const _=c(y.url);s[y.uuid]=new Tu(_)}}}return s}async parseImagesAsync(e){const t=this,n={};let s;async function a(o){if(typeof o=="string"){const c=o,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await s.loadAsync(h)}else return o.data?{data:Jd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new $g(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const h=e[o],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,A=p.length;y<A;y++){const _=p[y],S=await a(_);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new Al(S.data,S.width,S.height)))}n[h.uuid]=new Tu(m)}else{const m=await a(h.url);n[h.uuid]=new Tu(m)}}}return n}parseTextures(e,t){function n(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const s={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=e[a];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const h=t[c.image],p=h.data;let m;Array.isArray(p)?(m=new dy,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new Al:m=new ui,p&&(m.needsUpdate=!0)),m.source=h,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=n(c.mapping,s6)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=n(c.wrap[0],KR),m.wrapT=n(c.wrap[1],KR)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=n(c.minFilter,JR)),c.magFilter!==void 0&&(m.magFilter=n(c.magFilter,JR)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),s[c.uuid]=m}return s}parseObject(e,t,n,s,a){let o;function c(A){return t[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",A),t[A]}function h(A){if(A!==void 0){if(Array.isArray(A)){const _=[];for(let S=0,T=A.length;S<T;S++){const E=A[S];n[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),_.push(n[E])}return _}return n[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),n[A]}}function p(A){return s[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",A),s[A]}let m,y;switch(e.type){case"Scene":o=new EE,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ut(e.background):o.background=p(e.background)),e.environment!==void 0&&(o.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new ox(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new rx(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ni(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new gc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new AL(e.color,e.intensity);break;case"DirectionalLight":o=new qE(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new YE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new _L(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new jE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new vL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new SL().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),y=h(e.material),o=new CE(m,y),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),y=h(e.material),o=new Vi(m,y);break;case"InstancedMesh":m=c(e.geometry),y=h(e.material);const A=e.count,_=e.instanceMatrix,S=e.instanceColor;o=new RE(m,y,A),o.instanceMatrix=new dh(new Float32Array(_.array),16),S!==void 0&&(o.instanceColor=new dh(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=c(e.geometry),y=h(e.material),o=new XO(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,y),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(T=>{const E=new Ks;E.min.fromArray(T.boxMin),E.max.fromArray(T.boxMax);const b=new Bs;return b.radius=T.sphereRadius,b.center.fromArray(T.sphereCenter),{boxInitialized:T.boxInitialized,box:E,sphereInitialized:T.sphereInitialized,sphere:b}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=p(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=p(e.colorsTexture.uuid));break;case"LOD":o=new kO;break;case"Line":o=new _c(c(e.geometry),h(e.material));break;case"LineLoop":o=new wE(c(e.geometry),h(e.material));break;case"LineSegments":o=new So(c(e.geometry),h(e.material));break;case"PointCloud":case"Points":o=new BE(c(e.geometry),h(e.material));break;case"Sprite":o=new VO(h(e.material));break;case"Group":o=new hc;break;case"Bone":o=new lx;break;default:o=new vn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const A=e.children;for(let _=0;_<A.length;_++)o.add(this.parseObject(A[_],t,n,s,a))}if(e.animations!==void 0){const A=e.animations;for(let _=0;_<A.length;_++){const S=A[_];o.animations.push(a[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const A=e.levels;for(let _=0;_<A.length;_++){const S=A[_],T=o.getObjectByProperty("uuid",S.object);T!==void 0&&o.addLevel(T,S.distance,S.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const s=t[n.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(s,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,s=e.getObjectByProperty("uuid",n);s!==void 0?t.target=s:t.target=new vn}})}}const s6={UVMapping:W_,CubeReflectionMapping:vc,CubeRefractionMapping:wu,EquirectangularReflectionMapping:Vg,EquirectangularRefractionMapping:kg,CubeUVReflectionMapping:Mp},KR={RepeatWrapping:Bu,ClampToEdgeWrapping:$a,MirroredRepeatWrapping:lp},JR={NearestFilter:ys,NearestMipmapNearestFilter:K_,NearestMipmapLinearFilter:$f,LinearFilter:Gi,LinearMipmapNearestFilter:ep,LinearMipmapLinearFilter:Tr};class EL extends Qs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=dc.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(p=>{t&&t(p),a.manager.itemEnd(e)}).catch(p=>{s&&s(p)});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader;const h=fetch(e,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(p){return dc.add(e,p),t&&t(p),a.manager.itemEnd(e),p}).catch(function(p){s&&s(p),dc.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});dc.add(e,h),a.manager.itemStart(e)}}let eA;class WE{static getContext(){return eA===void 0&&(eA=new(window.AudioContext||window.webkitAudioContext)),eA}static setContext(e){eA=e}}class a6 extends Qs{constructor(e){super(e)}load(e,t,n,s){const a=this,o=new sr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(h){try{const p=h.slice(0);WE.getContext().decodeAudioData(p,function(y){t(y)}).catch(c)}catch(p){c(p)}},n,s);function c(h){s?s(h):console.error(h),a.manager.itemError(e)}}}const ZR=new Nt,QR=new Nt,If=new Nt;class r6{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ni,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ni,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,If.copy(e.projectionMatrix);const s=t.eyeSep/2,a=s*t.near/t.focus,o=t.near*Math.tan(ch*t.fov*.5)/t.zoom;let c,h;QR.elements[12]=-s,ZR.elements[12]=s,c=-o*t.aspect+a,h=o*t.aspect+a,If.elements[0]=2*t.near/(h-c),If.elements[8]=(h+c)/(h-c),this.cameraL.projectionMatrix.copy(If),c=-o*t.aspect-a,h=o*t.aspect-a,If.elements[0]=2*t.near/(h-c),If.elements[8]=(h+c)/(h-c),this.cameraR.projectionMatrix.copy(If)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(QR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ZR)}}class TL extends Ni{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class KE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=$R(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=$R();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function $R(){return performance.now()}const Ff=new q,ew=new vs,o6=new q,zf=new q;class l6 extends vn{constructor(){super(),this.type="AudioListener",this.context=WE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new KE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ff,ew,o6),zf.set(0,0,-1).applyQuaternion(ew),t.positionX){const s=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ff.x,s),t.positionY.linearRampToValueAtTime(Ff.y,s),t.positionZ.linearRampToValueAtTime(Ff.z,s),t.forwardX.linearRampToValueAtTime(zf.x,s),t.forwardY.linearRampToValueAtTime(zf.y,s),t.forwardZ.linearRampToValueAtTime(zf.z,s),t.upX.linearRampToValueAtTime(n.x,s),t.upY.linearRampToValueAtTime(n.y,s),t.upZ.linearRampToValueAtTime(n.z,s)}else t.setPosition(Ff.x,Ff.y,Ff.z),t.setOrientation(zf.x,zf.y,zf.z,n.x,n.y,n.z)}}class CL extends vn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Hf=new q,tw=new vs,c6=new q,Gf=new q;class u6 extends CL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Hf,tw,c6),Gf.set(0,0,1).applyQuaternion(tw);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Hf.x,n),t.positionY.linearRampToValueAtTime(Hf.y,n),t.positionZ.linearRampToValueAtTime(Hf.z,n),t.orientationX.linearRampToValueAtTime(Gf.x,n),t.orientationY.linearRampToValueAtTime(Gf.y,n),t.orientationZ.linearRampToValueAtTime(Gf.z,n)}else t.setPosition(Hf.x,Hf.y,Hf.z),t.setOrientation(Gf.x,Gf.y,Gf.z)}}class f6{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class RL{constructor(e,t,n){this.binding=e,this.valueSize=n;let s,a,o;switch(t){case"quaternion":s=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":s=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:s=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,s=this.valueSize,a=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==s;++c)n[a+c]=n[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(n,a,0,c,s)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,s=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,s=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const h=t*this._origIndex;this._mixBufferRegion(n,s,h,1-a,t)}o>0&&this._mixBufferRegionAdditive(n,s,this._addIndex*t,1,t);for(let h=t,p=t+t;h!==p;++h)if(n[h]!==n[h+t]){c.setValue(n,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,s=n*this._origIndex;e.getValue(t,s);for(let a=n,o=s;a!==o;++a)t[a]=t[s+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,s,a){if(s>=.5)for(let o=0;o!==a;++o)e[t+o]=e[n+o]}_slerp(e,t,n,s){vs.slerpFlat(e,t,e,t,e,n,s)}_slerpAdditive(e,t,n,s,a){const o=this._workIndex*a;vs.multiplyQuaternionsFlat(e,o,e,t,e,n),vs.slerpFlat(e,t,e,t,e,o,s)}_lerp(e,t,n,s,a){const o=1-s;for(let c=0;c!==a;++c){const h=t+c;e[h]=e[h]*o+e[n+c]*s}}_lerpAdditive(e,t,n,s,a){for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]+e[n+o]*s}}}const JE="\\[\\]\\.:\\/",h6=new RegExp("["+JE+"]","g"),ZE="[^"+JE+"]",d6="[^"+JE.replace("\\.","")+"]",p6=/((?:WC+[\/:])*)/.source.replace("WC",ZE),m6=/(WCOD+)?/.source.replace("WCOD",d6),g6=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ZE),y6=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ZE),v6=new RegExp("^"+p6+m6+g6+y6+"$"),A6=["material","materials","bones","map"];class _6{constructor(e,t,n){const s=n||Cn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,s=this._bindings[n];s!==void 0&&s.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let s=this._targetGroup.nCachedObjects_,a=n.length;s!==a;++s)n[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Cn{constructor(e,t,n){this.path=t,this.parsedPath=n||Cn.parseTrackName(t),this.node=Cn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Cn.Composite(e,t,n):new Cn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(h6,"")}static parseTrackName(e){const t=v6.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=n.nodeName&&n.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const a=n.nodeName.substring(s+1);A6.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,s),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===t||c.uuid===t)return c;const h=n(c.children);if(h)return h}return null},s=n(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let s=0,a=n.length;s!==a;++s)e[t++]=n[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let s=0,a=n.length;s!==a;++s)n[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let s=0,a=n.length;s!==a;++s)n[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let s=0,a=n.length;s!==a;++s)n[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,s=t.propertyName;let a=t.propertyIndex;if(e||(e=Cn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const o=e[s];if(o===void 0){const p=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(a!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}h=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(h=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Cn.Composite=_6;Cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Cn.prototype.GetterByBindingType=[Cn.prototype._getValue_direct,Cn.prototype._getValue_array,Cn.prototype._getValue_arrayElement,Cn.prototype._getValue_toArray];Cn.prototype.SetterByBindingTypeAndVersioning=[[Cn.prototype._setValue_direct,Cn.prototype._setValue_direct_setNeedsUpdate,Cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_array,Cn.prototype._setValue_array_setNeedsUpdate,Cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_arrayElement,Cn.prototype._setValue_arrayElement_setNeedsUpdate,Cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_fromArray,Cn.prototype._setValue_fromArray_setNeedsUpdate,Cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class x6{constructor(){this.isAnimationObjectGroup=!0,this.uuid=tr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,s=arguments.length;n!==s;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length;let c,h=e.length,p=this.nCachedObjects_;for(let m=0,y=arguments.length;m!==y;++m){const A=arguments[m],_=A.uuid;let S=t[_];if(S===void 0){S=h++,t[_]=S,e.push(A);for(let T=0,E=o;T!==E;++T)a[T].push(new Cn(A,n[T],s[T]))}else if(S<p){c=e[S];const T=--p,E=e[T];t[E.uuid]=S,e[S]=E,t[_]=T,e[T]=A;for(let b=0,w=o;b!==w;++b){const B=a[b],D=B[T];let U=B[S];B[S]=D,U===void 0&&(U=new Cn(A,n[b],s[b])),B[T]=U}}else e[S]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,s=n.length;let a=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const h=arguments[o],p=h.uuid,m=t[p];if(m!==void 0&&m>=a){const y=a++,A=e[y];t[A.uuid]=m,e[m]=A,t[p]=y,e[y]=h;for(let _=0,S=s;_!==S;++_){const T=n[_],E=T[y],b=T[m];T[m]=E,T[y]=b}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,s=n.length;let a=this.nCachedObjects_,o=e.length;for(let c=0,h=arguments.length;c!==h;++c){const p=arguments[c],m=p.uuid,y=t[m];if(y!==void 0)if(delete t[m],y<a){const A=--a,_=e[A],S=--o,T=e[S];t[_.uuid]=y,e[y]=_,t[T.uuid]=A,e[A]=T,e.pop();for(let E=0,b=s;E!==b;++E){const w=n[E],B=w[A],D=w[S];w[y]=B,w[A]=D,w.pop()}}else{const A=--o,_=e[A];A>0&&(t[_.uuid]=y),e[y]=_,e.pop();for(let S=0,T=s;S!==T;++S){const E=n[S];E[y]=E[A],E.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let s=n[e];const a=this._bindings;if(s!==void 0)return a[s];const o=this._paths,c=this._parsedPaths,h=this._objects,p=h.length,m=this.nCachedObjects_,y=new Array(p);s=a.length,n[e]=s,o.push(e),c.push(t),a.push(y);for(let A=m,_=h.length;A!==_;++A){const S=h[A];y[A]=new Cn(S,e,t)}return y}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const s=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length-1,h=o[c],p=e[c];t[p]=n,o[n]=h,o.pop(),a[n]=a[c],a.pop(),s[n]=s[c],s.pop()}}}class wL{constructor(e,t,n=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=s;const a=t.tracks,o=a.length,c=new Array(o),h={endingStart:eh,endingEnd:eh};for(let p=0;p!==o;++p){const m=a[p].createInterpolant(null);c[p]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=AO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const s=this._clip.duration,a=e._clip.duration,o=a/s,c=s/a;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const s=this._mixer,a=s.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const h=c.parameterPositions,p=c.sampleValues;return h[0]=a,h[1]=a+n,p[0]=e/o,p[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,s){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const h=(e-a)*n;h<0||n===0?t=0:(this._startTime=null,t=n*h)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case AE:for(let m=0,y=h.length;m!==y;++m)h[m].evaluate(o),p[m].accumulateAdditive(c);break;case nx:default:for(let m=0,y=h.length;m!==y;++m)h[m].evaluate(o),p[m].accumulate(s,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const s=n.evaluate(e)[0];t*=s,e>n.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const s=n.evaluate(e)[0];t*=s,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let s=this.time+e,a=this._loopCount;const o=n===_O;if(e===0)return a===-1?s:o&&(a&1)===1?t-s:s;if(n===vO){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=t||s<0){const c=Math.floor(s/t);s-=t*c,a+=Math.abs(c);const h=this.repetitions-a;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const p=e<0;this._setEndings(p,!p,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(o&&(a&1)===1)return t-s}return s}_setEndings(e,t,n){const s=this._interpolantSettings;n?(s.endingStart=th,s.endingEnd=th):(e?s.endingStart=this.zeroSlopeAtStart?th:eh:s.endingStart=Xg,t?s.endingEnd=this.zeroSlopeAtEnd?th:eh:s.endingEnd=Xg)}_scheduleFading(e,t,n){const s=this._mixer,a=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,h=o.sampleValues;return c[0]=a,h[0]=t,c[1]=a+e,h[1]=n,this}}const S6=new Float32Array(1);class BL extends Ml{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,s=e._clip.tracks,a=s.length,o=e._propertyBindings,c=e._interpolants,h=n.uuid,p=this._bindingsByRootAndName;let m=p[h];m===void 0&&(m={},p[h]=m);for(let y=0;y!==a;++y){const A=s[y],_=A.name;let S=m[_];if(S!==void 0)++S.referenceCount,o[y]=S;else{if(S=o[y],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,h,_));continue}const T=t&&t._propertyBindings[y].binding.parsedPath;S=new RL(Cn.create(n,_,T),A.ValueTypeName,A.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,h,_),o[y]=S}c[y].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,s=e._clip.uuid,a=this._actionsByClip[s];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,s,n)}const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const s=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],s=e._cacheIndex;n._cacheIndex=s,t[s]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,c=o[a],h=c.knownActions,p=h[h.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,h[m]=p,h.pop(),e._byClipCacheIndex=null;const y=c.actionByRoot,A=(e._localRoot||this._root).uuid;delete y[A],h.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,s=this._nActiveActions++,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,s=--this._nActiveActions,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const s=this._bindingsByRootAndName,a=this._bindings;let o=s[t];o===void 0&&(o={},s[t]=o),o[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,s=n.rootNode.uuid,a=n.path,o=this._bindingsByRootAndName,c=o[s],h=t[t.length-1],p=e._cacheIndex;h._cacheIndex=p,t[p]=h,t.pop(),delete c[a],Object.keys(c).length===0&&delete o[s]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,s=this._nActiveBindings++,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,s=--this._nActiveBindings,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new GE(new Float32Array(2),new Float32Array(2),1,S6),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,s=--this._nActiveControlInterpolants,a=t[s];e.__cacheIndex=s,t[s]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const s=t||this._root,a=s.uuid;let o=typeof e=="string"?Ap.findByName(s,e):e;const c=o!==null?o.uuid:e,h=this._actionsByClip[c];let p=null;if(n===void 0&&(o!==null?n=o.blendMode:n=nx),h!==void 0){const y=h.actionByRoot[a];if(y!==void 0&&y.blendMode===n)return y;p=h.knownActions[0],o===null&&(o=p._clip)}if(o===null)return null;const m=new wL(this,o,t,n);return this._bindAction(m,p),this._addInactiveAction(m,c,a),m}existingAction(e,t){const n=t||this._root,s=n.uuid,a=typeof e=="string"?Ap.findByName(n,e):e,o=a?a.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,s=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let p=0;p!==n;++p)t[p]._update(s,e,a,o);const c=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)c[p].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,s=this._actionsByClip,a=s[n];if(a!==void 0){const o=a.knownActions;for(let c=0,h=o.length;c!==h;++c){const p=o[c];this._deactivateAction(p);const m=p._cacheIndex,y=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,y._cacheIndex=m,t[m]=y,t.pop(),this._removeInactiveBindingsForAction(p)}delete s[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const c=n[o].actionByRoot,h=c[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const s=this._bindingsByRootAndName,a=s[t];if(a!==void 0)for(const o in a){const c=a[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class b6 extends ix{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isRenderTarget3D=!0,this.depth=n,this.texture=new sx(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class M6 extends ix{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isRenderTargetArray=!0,this.depth=n,this.texture=new hy(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class QE{constructor(e){this.value=e}clone(){return new QE(this.value.clone===void 0?this.value:this.value.clone())}}let E6=0;class T6 extends Ml{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:E6++}),this.name="",this.usage=Yg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,s=t.length;n<s;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class C6 extends py{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class R6{constructor(e,t,n,s,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=s,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const nw=new Nt;class DL{constructor(e,t,n=0,s=1/0){this.ray=new bh(e,t),this.near=n,this.far=s,this.camera=null,this.layers=new gp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return nw.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(nw),this}intersectObject(e,t=!0,n=[]){return Ib(e,this,n,t),n.sort(iw),n}intersectObjects(e,t=!0,n=[]){for(let s=0,a=e.length;s<a;s++)Ib(e[s],this,n,t);return n.sort(iw),n}}function iw(i,e){return i.distance-e.distance}function Ib(i,e,t,n){let s=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(s=!1),s===!0&&n===!0){const a=i.children;for(let o=0,c=a.length;o<c;o++)Ib(a[o],e,t,!0)}}class Fb{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Yt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Yt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class w6{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class $E{constructor(e,t,n,s){$E.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,s){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=s,this}}const sw=new He;class B6{constructor(e=new He(1/0,1/0),t=new He(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=sw.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,sw).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const aw=new q,tA=new q;class D6{constructor(e=new q,t=new q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){aw.subVectors(e,this.start),tA.subVectors(this.end,this.start);const n=tA.dot(tA);let a=tA.dot(aw)/n;return t&&(a=Yt(a,0,1)),a}closestPointToPoint(e,t,n){const s=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const rw=new q;class O6 extends vn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Jt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,h=32;o<h;o++,c++){const p=o/h*Math.PI*2,m=c/h*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new xt(s,3));const a=new Zs({fog:!1,toneMapped:!1});this.cone=new So(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const yu=new q,nA=new Nt,E1=new Nt;class L6 extends So{constructor(e){const t=OL(e),n=new Jt,s=[],a=[],o=new ut(0,0,1),c=new ut(0,1,0);for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),a.push(o.r,o.g,o.b),a.push(c.r,c.g,c.b))}n.setAttribute("position",new xt(s,3)),n.setAttribute("color",new xt(a,3));const h=new Zs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,s=n.getAttribute("position");E1.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const c=t[a];c.parent&&c.parent.isBone&&(nA.multiplyMatrices(E1,c.matrixWorld),yu.setFromMatrixPosition(nA),s.setXYZ(o,yu.x,yu.y,yu.z),nA.multiplyMatrices(E1,c.parent.matrixWorld),yu.setFromMatrixPosition(nA),s.setXYZ(o+1,yu.x,yu.y,yu.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function OL(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...OL(i.children[t]));return e}class N6 extends Vi{constructor(e,t,n){const s=new Ay(t,4,2),a=new er({wireframe:!0,fog:!1,toneMapped:!1});super(s,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const U6=new q,ow=new ut,lw=new ut;class P6 extends vn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const s=new vy(t);s.rotateY(Math.PI*.5),this.material=new er({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=s.getAttribute("position"),o=new Float32Array(a.count*3);s.setAttribute("color",new Bn(o,3)),this.add(new Vi(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ow.copy(this.light.color),lw.copy(this.light.groundColor);for(let n=0,s=t.count;n<s;n++){const a=n<s/2?ow:lw;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(U6.setFromMatrixPosition(this.light.matrixWorld).negate())}}class I6 extends So{constructor(e=10,t=10,n=4473924,s=8947848){n=new ut(n),s=new ut(s);const a=t/2,o=e/t,c=e/2,h=[],p=[];for(let A=0,_=0,S=-c;A<=t;A++,S+=o){h.push(-c,0,S,c,0,S),h.push(S,0,-c,S,0,c);const T=A===a?n:s;T.toArray(p,_),_+=3,T.toArray(p,_),_+=3,T.toArray(p,_),_+=3,T.toArray(p,_),_+=3}const m=new Jt;m.setAttribute("position",new xt(h,3)),m.setAttribute("color",new xt(p,3));const y=new Zs({vertexColors:!0,toneMapped:!1});super(m,y),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class F6 extends So{constructor(e=10,t=16,n=8,s=64,a=4473924,o=8947848){a=new ut(a),o=new ut(o);const c=[],h=[];if(t>1)for(let y=0;y<t;y++){const A=y/t*(Math.PI*2),_=Math.sin(A)*e,S=Math.cos(A)*e;c.push(0,0,0),c.push(_,0,S);const T=y&1?a:o;h.push(T.r,T.g,T.b),h.push(T.r,T.g,T.b)}for(let y=0;y<n;y++){const A=y&1?a:o,_=e-e/n*y;for(let S=0;S<s;S++){let T=S/s*(Math.PI*2),E=Math.sin(T)*_,b=Math.cos(T)*_;c.push(E,0,b),h.push(A.r,A.g,A.b),T=(S+1)/s*(Math.PI*2),E=Math.sin(T)*_,b=Math.cos(T)*_,c.push(E,0,b),h.push(A.r,A.g,A.b)}}const p=new Jt;p.setAttribute("position",new xt(c,3)),p.setAttribute("color",new xt(h,3));const m=new Zs({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const cw=new q,iA=new q,uw=new q;class z6 extends vn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new Jt;s.setAttribute("position",new xt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Zs({fog:!1,toneMapped:!1});this.lightPlane=new _c(s,a),this.add(this.lightPlane),s=new Jt,s.setAttribute("position",new xt([0,0,0,0,0,1],3)),this.targetLine=new _c(s,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),cw.setFromMatrixPosition(this.light.matrixWorld),iA.setFromMatrixPosition(this.light.target.matrixWorld),uw.subVectors(iA,cw),this.lightPlane.lookAt(iA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(iA),this.targetLine.scale.z=uw.length()}}const sA=new q,Oi=new ax;class H6 extends So{constructor(e){const t=new Jt,n=new Zs({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],a=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(S,T){h(S),h(T)}function h(S){s.push(0,0,0),a.push(0,0,0),o[S]===void 0&&(o[S]=[]),o[S].push(s.length/3-1)}t.setAttribute("position",new xt(s,3)),t.setAttribute("color",new xt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const p=new ut(16755200),m=new ut(16711680),y=new ut(43775),A=new ut(16777215),_=new ut(3355443);this.setColors(p,m,y,A,_)}setColors(e,t,n,s,a){const c=this.geometry.getAttribute("color");c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,n.r,n.g,n.b),c.setXYZ(33,n.r,n.g,n.b),c.setXYZ(34,n.r,n.g,n.b),c.setXYZ(35,n.r,n.g,n.b),c.setXYZ(36,n.r,n.g,n.b),c.setXYZ(37,n.r,n.g,n.b),c.setXYZ(38,s.r,s.g,s.b),c.setXYZ(39,s.r,s.g,s.b),c.setXYZ(40,a.r,a.g,a.b),c.setXYZ(41,a.r,a.g,a.b),c.setXYZ(42,a.r,a.g,a.b),c.setXYZ(43,a.r,a.g,a.b),c.setXYZ(44,a.r,a.g,a.b),c.setXYZ(45,a.r,a.g,a.b),c.setXYZ(46,a.r,a.g,a.b),c.setXYZ(47,a.r,a.g,a.b),c.setXYZ(48,a.r,a.g,a.b),c.setXYZ(49,a.r,a.g,a.b),c.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,s=1;Oi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===vo?-1:0;Fi("c",t,e,Oi,0,0,a),Fi("t",t,e,Oi,0,0,1),Fi("n1",t,e,Oi,-1,-1,a),Fi("n2",t,e,Oi,n,-1,a),Fi("n3",t,e,Oi,-1,s,a),Fi("n4",t,e,Oi,n,s,a),Fi("f1",t,e,Oi,-1,-1,1),Fi("f2",t,e,Oi,n,-1,1),Fi("f3",t,e,Oi,-1,s,1),Fi("f4",t,e,Oi,n,s,1),Fi("u1",t,e,Oi,n*.7,s*1.1,a),Fi("u2",t,e,Oi,-1*.7,s*1.1,a),Fi("u3",t,e,Oi,0,s*2,a),Fi("cf1",t,e,Oi,-1,0,1),Fi("cf2",t,e,Oi,n,0,1),Fi("cf3",t,e,Oi,0,-1,1),Fi("cf4",t,e,Oi,0,s,1),Fi("cn1",t,e,Oi,-1,0,a),Fi("cn2",t,e,Oi,n,0,a),Fi("cn3",t,e,Oi,0,-1,a),Fi("cn4",t,e,Oi,0,s,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fi(i,e,t,n,s,a,o){sA.set(s,a,o).unproject(n);const c=e[i];if(c!==void 0){const h=t.getAttribute("position");for(let p=0,m=c.length;p<m;p++)h.setXYZ(c[p],sA.x,sA.y,sA.z)}}const aA=new Ks;class G6 extends So{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),a=new Jt;a.setIndex(new Bn(n,1)),a.setAttribute("position",new Bn(s,3)),super(a,new Zs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&aA.setFromObject(this.object),aA.isEmpty())return;const e=aA.min,t=aA.max,n=this.geometry.attributes.position,s=n.array;s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=e.x,s[4]=t.y,s[5]=t.z,s[6]=e.x,s[7]=e.y,s[8]=t.z,s[9]=t.x,s[10]=e.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=e.z,s[15]=e.x,s[16]=t.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=t.x,s[22]=e.y,s[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class V6 extends So{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Jt;a.setIndex(new Bn(n,1)),a.setAttribute("position",new xt(s,3)),super(a,new Zs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class k6 extends _c{constructor(e,t=1,n=16776960){const s=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Jt;o.setAttribute("position",new xt(a,3)),o.computeBoundingSphere(),super(o,new Zs({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new Jt;h.setAttribute("position",new xt(c,3)),h.computeBoundingSphere(),this.add(new Vi(h,new er({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const fw=new q;let rA,T1;class X6 extends vn{constructor(e=new q(0,0,1),t=new q(0,0,0),n=1,s=16776960,a=n*.2,o=a*.2){super(),this.type="ArrowHelper",rA===void 0&&(rA=new Jt,rA.setAttribute("position",new xt([0,0,0,0,1,0],3)),T1=new Tp(0,.5,1,5,1),T1.translate(0,-.5,0)),this.position.copy(t),this.line=new _c(rA,new Zs({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Vi(T1,new er({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{fw.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(fw,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class j6 extends So{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Jt;s.setAttribute("position",new xt(t,3)),s.setAttribute("color",new xt(n,3));const a=new Zs({vertexColors:!0,toneMapped:!1});super(s,a),this.type="AxesHelper"}setColors(e,t,n){const s=new ut,a=this.geometry.attributes.color.array;return s.set(e),s.toArray(a,0),s.toArray(a,3),s.set(t),s.toArray(a,6),s.toArray(a,9),s.set(n),s.toArray(a,12),s.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Y6{constructor(){this.type="ShapePath",this.color=new ut,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Kg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,s){return this.currentPath.quadraticCurveTo(e,t,n,s),this}bezierCurveTo(e,t,n,s,a,o){return this.currentPath.bezierCurveTo(e,t,n,s,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const w=[];for(let B=0,D=b.length;B<D;B++){const U=b[B],P=new uh;P.curves=U.curves,w.push(P)}return w}function n(b,w){const B=w.length;let D=!1;for(let U=B-1,P=0;P<B;U=P++){let F=w[U],H=w[P],N=H.x-F.x,L=H.y-F.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(F=w[P],N=-N,H=w[U],L=-L),b.y<F.y||b.y>H.y)continue;if(b.y===F.y){if(b.x===F.x)return!0}else{const G=L*(b.x-F.x)-N*(b.y-F.y);if(G===0)return!0;if(G<0)continue;D=!D}}else{if(b.y!==F.y)continue;if(H.x<=b.x&&b.x<=F.x||F.x<=b.x&&b.x<=H.x)return!0}}return D}const s=_l.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,c,h;const p=[];if(a.length===1)return c=a[0],h=new uh,h.curves=c.curves,p.push(h),p;let m=!s(a[0].getPoints());m=e?!m:m;const y=[],A=[];let _=[],S=0,T;A[S]=void 0,_[S]=[];for(let b=0,w=a.length;b<w;b++)c=a[b],T=c.getPoints(),o=s(T),o=e?!o:o,o?(!m&&A[S]&&S++,A[S]={s:new uh,p:T},A[S].s.curves=c.curves,m&&S++,_[S]=[]):_[S].push({h:c,p:T[0]});if(!A[0])return t(a);if(A.length>1){let b=!1,w=0;for(let B=0,D=A.length;B<D;B++)y[B]=[];for(let B=0,D=A.length;B<D;B++){const U=_[B];for(let P=0;P<U.length;P++){const F=U[P];let H=!0;for(let N=0;N<A.length;N++)n(F.p,A[N].p)&&(B!==N&&w++,H?(H=!1,y[N].push(F)):b=!0);H&&y[B].push(F)}}w>0&&b===!1&&(_=y)}let E;for(let b=0,w=A.length;b<w;b++){h=A[b].s,p.push(h),E=_[b];for(let B=0,D=E.length;B<D;B++)h.holes.push(E[B].h)}return p}}class q6 extends Ml{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function W6(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function K6(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function J6(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function zb(i,e,t,n){const s=Z6(n);switch(t){case dE:return i*e;case mE:return i*e;case gE:return i*e*2;case $_:return i*e/s.components*s.byteLength;case fy:return i*e/s.components*s.byteLength;case yE:return i*e*2/s.components*s.byteLength;case ex:return i*e*2/s.components*s.byteLength;case pE:return i*e*3/s.components*s.byteLength;case Ws:return i*e*4/s.components*s.byteLength;case tx:return i*e*4/s.components*s.byteLength;case Mg:case Eg:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Tg:case Cg:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case JA:case QA:return Math.max(i,16)*Math.max(e,8)/4;case KA:case ZA:return Math.max(i,8)*Math.max(e,8)/2;case $A:case e_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case t_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case n_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case i_:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case s_:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case a_:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case r_:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case o_:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case l_:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case c_:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case u_:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case f_:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case h_:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case d_:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case p_:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case m_:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case Rg:case g_:case y_:return Math.ceil(i/4)*Math.ceil(e/4)*16;case vE:case v_:return Math.ceil(i/4)*Math.ceil(e/4)*8;case A_:case __:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Z6(i){switch(i){case _o:case uE:return{byteLength:1,components:1};case cp:case fE:case Ep:return{byteLength:2,components:1};case Z_:case Q_:return{byteLength:2,components:4};case Ac:case J_:case La:return{byteLength:4,components:1};case hE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class Q6{static contain(e,t){return W6(e,t)}static cover(e,t){return K6(e,t)}static fill(e){return J6(e)}static getByteLength(e,t,n,s){return zb(e,t,n,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:cy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=cy);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function LL(){let i=null,e=!1,t=null,n=null;function s(a,o){t(a,o),n=i.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(s),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){i=a}}}function $6(i){const e=new WeakMap;function t(c,h){const p=c.array,m=c.usage,y=p.byteLength,A=i.createBuffer();i.bindBuffer(h,A),i.bufferData(h,p,m),c.onUploadCallback();let _;if(p instanceof Float32Array)_=i.FLOAT;else if(p instanceof Uint16Array)c.isFloat16BufferAttribute?_=i.HALF_FLOAT:_=i.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=i.SHORT;else if(p instanceof Uint32Array)_=i.UNSIGNED_INT;else if(p instanceof Int32Array)_=i.INT;else if(p instanceof Int8Array)_=i.BYTE;else if(p instanceof Uint8Array)_=i.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:A,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:y}}function n(c,h,p){const m=h.array,y=h.updateRanges;if(i.bindBuffer(p,c),y.length===0)i.bufferSubData(p,0,m);else{y.sort((_,S)=>_.start-S.start);let A=0;for(let _=1;_<y.length;_++){const S=y[A],T=y[_];T.start<=S.start+S.count+1?S.count=Math.max(S.count,T.start+T.count-S.start):(++A,y[A]=T)}y.length=A+1;for(let _=0,S=y.length;_<S;_++){const T=y[_];i.bufferSubData(p,T.start*m.BYTES_PER_ELEMENT,m,T.start,T.count)}h.clearUpdateRanges()}h.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=e.get(c);h&&(i.deleteBuffer(h.buffer),e.delete(c))}function o(c,h){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const p=e.get(c);if(p===void 0)e.set(c,t(c,h));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,c,h),p.version=c.version}}return{get:s,remove:a,update:o}}var e8=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,t8=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,n8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,i8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,s8=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,a8=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,r8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,o8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,l8=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,c8=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,u8=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,f8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,h8=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,d8=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,p8=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,m8=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,g8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,y8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,v8=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,A8=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,x8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,S8=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,b8=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,M8=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,E8=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,T8=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,C8=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,R8=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,w8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,B8="gl_FragColor = linearToOutputTexel( gl_FragColor );",D8=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,O8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,L8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,N8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,U8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,P8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,I8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,F8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,z8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,H8=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,G8=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,V8=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,k8=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,X8=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,j8=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Y8=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,q8=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,W8=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,K8=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,J8=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Z8=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Q8=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$8=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,e9=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,t9=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,n9=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,i9=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,s9=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,a9=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,r9=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,o9=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,l9=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,c9=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,u9=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,f9=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,h9=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,d9=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,p9=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,m9=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,g9=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,y9=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,v9=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,A9=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_9=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,x9=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,S9=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,b9=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,M9=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,E9=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,T9=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,C9=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,R9=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,w9=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,B9=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,D9=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,O9=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,L9=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,N9=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,U9=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,P9=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,I9=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,F9=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,z9=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,H9=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,G9=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,V9=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,k9=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,X9=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,j9=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Y9=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,q9=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,W9=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,K9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,J9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Z9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Q9=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $9=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,eV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,iV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sV=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aV=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rV=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,oV=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,lV=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,cV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uV=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fV=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,hV=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dV=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,pV=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mV=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_V=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,xV=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bV=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,MV=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,RV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wV=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,DV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,OV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sn={alphahash_fragment:e8,alphahash_pars_fragment:t8,alphamap_fragment:n8,alphamap_pars_fragment:i8,alphatest_fragment:s8,alphatest_pars_fragment:a8,aomap_fragment:r8,aomap_pars_fragment:o8,batching_pars_vertex:l8,batching_vertex:c8,begin_vertex:u8,beginnormal_vertex:f8,bsdfs:h8,iridescence_fragment:d8,bumpmap_pars_fragment:p8,clipping_planes_fragment:m8,clipping_planes_pars_fragment:g8,clipping_planes_pars_vertex:y8,clipping_planes_vertex:v8,color_fragment:A8,color_pars_fragment:_8,color_pars_vertex:x8,color_vertex:S8,common:b8,cube_uv_reflection_fragment:M8,defaultnormal_vertex:E8,displacementmap_pars_vertex:T8,displacementmap_vertex:C8,emissivemap_fragment:R8,emissivemap_pars_fragment:w8,colorspace_fragment:B8,colorspace_pars_fragment:D8,envmap_fragment:O8,envmap_common_pars_fragment:L8,envmap_pars_fragment:N8,envmap_pars_vertex:U8,envmap_physical_pars_fragment:Y8,envmap_vertex:P8,fog_vertex:I8,fog_pars_vertex:F8,fog_fragment:z8,fog_pars_fragment:H8,gradientmap_pars_fragment:G8,lightmap_pars_fragment:V8,lights_lambert_fragment:k8,lights_lambert_pars_fragment:X8,lights_pars_begin:j8,lights_toon_fragment:q8,lights_toon_pars_fragment:W8,lights_phong_fragment:K8,lights_phong_pars_fragment:J8,lights_physical_fragment:Z8,lights_physical_pars_fragment:Q8,lights_fragment_begin:$8,lights_fragment_maps:e9,lights_fragment_end:t9,logdepthbuf_fragment:n9,logdepthbuf_pars_fragment:i9,logdepthbuf_pars_vertex:s9,logdepthbuf_vertex:a9,map_fragment:r9,map_pars_fragment:o9,map_particle_fragment:l9,map_particle_pars_fragment:c9,metalnessmap_fragment:u9,metalnessmap_pars_fragment:f9,morphinstance_vertex:h9,morphcolor_vertex:d9,morphnormal_vertex:p9,morphtarget_pars_vertex:m9,morphtarget_vertex:g9,normal_fragment_begin:y9,normal_fragment_maps:v9,normal_pars_fragment:A9,normal_pars_vertex:_9,normal_vertex:x9,normalmap_pars_fragment:S9,clearcoat_normal_fragment_begin:b9,clearcoat_normal_fragment_maps:M9,clearcoat_pars_fragment:E9,iridescence_pars_fragment:T9,opaque_fragment:C9,packing:R9,premultiplied_alpha_fragment:w9,project_vertex:B9,dithering_fragment:D9,dithering_pars_fragment:O9,roughnessmap_fragment:L9,roughnessmap_pars_fragment:N9,shadowmap_pars_fragment:U9,shadowmap_pars_vertex:P9,shadowmap_vertex:I9,shadowmask_pars_fragment:F9,skinbase_vertex:z9,skinning_pars_vertex:H9,skinning_vertex:G9,skinnormal_vertex:V9,specularmap_fragment:k9,specularmap_pars_fragment:X9,tonemapping_fragment:j9,tonemapping_pars_fragment:Y9,transmission_fragment:q9,transmission_pars_fragment:W9,uv_pars_fragment:K9,uv_pars_vertex:J9,uv_vertex:Z9,worldpos_vertex:Q9,background_vert:$9,background_frag:eV,backgroundCube_vert:tV,backgroundCube_frag:nV,cube_vert:iV,cube_frag:sV,depth_vert:aV,depth_frag:rV,distanceRGBA_vert:oV,distanceRGBA_frag:lV,equirect_vert:cV,equirect_frag:uV,linedashed_vert:fV,linedashed_frag:hV,meshbasic_vert:dV,meshbasic_frag:pV,meshlambert_vert:mV,meshlambert_frag:gV,meshmatcap_vert:yV,meshmatcap_frag:vV,meshnormal_vert:AV,meshnormal_frag:_V,meshphong_vert:xV,meshphong_frag:SV,meshphysical_vert:bV,meshphysical_frag:MV,meshtoon_vert:EV,meshtoon_frag:TV,points_vert:CV,points_frag:RV,shadow_vert:wV,shadow_frag:BV,sprite_vert:DV,sprite_frag:OV},dt={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Kt}},envmap:{envMap:{value:null},envMapRotation:{value:new Kt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Kt},normalScale:{value:new He(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0},uvTransform:{value:new Kt}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new He(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}}},go={basic:{uniforms:ua([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:ua([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new ut(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:ua([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:ua([dt.common,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.roughnessmap,dt.metalnessmap,dt.fog,dt.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:ua([dt.common,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.gradientmap,dt.fog,dt.lights,{emissive:{value:new ut(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:ua([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:ua([dt.points,dt.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:ua([dt.common,dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:ua([dt.common,dt.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:ua([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,{opacity:{value:1}}]),vertexShader:sn.meshnormal_vert,fragmentShader:sn.meshnormal_frag},sprite:{uniforms:ua([dt.sprite,dt.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new Kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Kt}},vertexShader:sn.backgroundCube_vert,fragmentShader:sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:ua([dt.common,dt.displacementmap,{referencePosition:{value:new q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:ua([dt.lights,dt.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};go.physical={uniforms:ua([go.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Kt},clearcoatNormalScale:{value:new He(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Kt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Kt},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Kt},transmissionSamplerSize:{value:new He},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Kt},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Kt},anisotropyVector:{value:new He},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Kt}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag};const oA={r:0,b:0,g:0},Vf=new ir,LV=new Nt;function NV(i,e,t,n,s,a,o){const c=new ut(0);let h=a===!0?0:1,p,m,y=null,A=0,_=null;function S(B){let D=B.isScene===!0?B.background:null;return D&&D.isTexture&&(D=(B.backgroundBlurriness>0?t:e).get(D)),D}function T(B){let D=!1;const U=S(B);U===null?b(c,h):U&&U.isColor&&(b(U,1),D=!0);const P=i.xr.getEnvironmentBlendMode();P==="additive"?n.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||D)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function E(B,D){const U=S(D);U&&(U.isCubeTexture||U.mapping===Mp)?(m===void 0&&(m=new Vi(new Mh(1,1,1),new xo({name:"BackgroundCubeMaterial",uniforms:yp(go.backgroundCube.uniforms),vertexShader:go.backgroundCube.vertexShader,fragmentShader:go.backgroundCube.fragmentShader,side:pa,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,F,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),Vf.copy(D.backgroundRotation),Vf.x*=-1,Vf.y*=-1,Vf.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(Vf.y*=-1,Vf.z*=-1),m.material.uniforms.envMap.value=U,m.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(LV.makeRotationFromEuler(Vf)),m.material.toneMapped=bn.getTransfer(U.colorSpace)!==kn,(y!==U||A!==U.version||_!==i.toneMapping)&&(m.material.needsUpdate=!0,y=U,A=U.version,_=i.toneMapping),m.layers.enableAll(),B.unshift(m,m.geometry,m.material,0,0,null)):U&&U.isTexture&&(p===void 0&&(p=new Vi(new Cp(2,2),new xo({name:"BackgroundMaterial",uniforms:yp(go.background.uniforms),vertexShader:go.background.vertexShader,fragmentShader:go.background.fragmentShader,side:Sl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(p)),p.material.uniforms.t2D.value=U,p.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,p.material.toneMapped=bn.getTransfer(U.colorSpace)!==kn,U.matrixAutoUpdate===!0&&U.updateMatrix(),p.material.uniforms.uvTransform.value.copy(U.matrix),(y!==U||A!==U.version||_!==i.toneMapping)&&(p.material.needsUpdate=!0,y=U,A=U.version,_=i.toneMapping),p.layers.enableAll(),B.unshift(p,p.geometry,p.material,0,0,null))}function b(B,D){B.getRGB(oA,IO(i)),n.buffers.color.setClear(oA.r,oA.g,oA.b,D,o)}function w(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return c},setClearColor:function(B,D=1){c.set(B),h=D,b(c,h)},getClearAlpha:function(){return h},setClearAlpha:function(B){h=B,b(c,h)},render:T,addToRenderList:E,dispose:w}}function UV(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},s=A(null);let a=s,o=!1;function c(L,G,W,K,$){let ge=!1;const ee=y(K,W,G);a!==ee&&(a=ee,p(a.object)),ge=_(L,K,W,$),ge&&S(L,K,W,$),$!==null&&e.update($,i.ELEMENT_ARRAY_BUFFER),(ge||o)&&(o=!1,D(L,G,W,K),$!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get($).buffer))}function h(){return i.createVertexArray()}function p(L){return i.bindVertexArray(L)}function m(L){return i.deleteVertexArray(L)}function y(L,G,W){const K=W.wireframe===!0;let $=n[L.id];$===void 0&&($={},n[L.id]=$);let ge=$[G.id];ge===void 0&&(ge={},$[G.id]=ge);let ee=ge[K];return ee===void 0&&(ee=A(h()),ge[K]=ee),ee}function A(L){const G=[],W=[],K=[];for(let $=0;$<t;$++)G[$]=0,W[$]=0,K[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:W,attributeDivisors:K,object:L,attributes:{},index:null}}function _(L,G,W,K){const $=a.attributes,ge=G.attributes;let ee=0;const re=W.getAttributes();for(const se in re)if(re[se].location>=0){const Y=$[se];let oe=ge[se];if(oe===void 0&&(se==="instanceMatrix"&&L.instanceMatrix&&(oe=L.instanceMatrix),se==="instanceColor"&&L.instanceColor&&(oe=L.instanceColor)),Y===void 0||Y.attribute!==oe||oe&&Y.data!==oe.data)return!0;ee++}return a.attributesNum!==ee||a.index!==K}function S(L,G,W,K){const $={},ge=G.attributes;let ee=0;const re=W.getAttributes();for(const se in re)if(re[se].location>=0){let Y=ge[se];Y===void 0&&(se==="instanceMatrix"&&L.instanceMatrix&&(Y=L.instanceMatrix),se==="instanceColor"&&L.instanceColor&&(Y=L.instanceColor));const oe={};oe.attribute=Y,Y&&Y.data&&(oe.data=Y.data),$[se]=oe,ee++}a.attributes=$,a.attributesNum=ee,a.index=K}function T(){const L=a.newAttributes;for(let G=0,W=L.length;G<W;G++)L[G]=0}function E(L){b(L,0)}function b(L,G){const W=a.newAttributes,K=a.enabledAttributes,$=a.attributeDivisors;W[L]=1,K[L]===0&&(i.enableVertexAttribArray(L),K[L]=1),$[L]!==G&&(i.vertexAttribDivisor(L,G),$[L]=G)}function w(){const L=a.newAttributes,G=a.enabledAttributes;for(let W=0,K=G.length;W<K;W++)G[W]!==L[W]&&(i.disableVertexAttribArray(W),G[W]=0)}function B(L,G,W,K,$,ge,ee){ee===!0?i.vertexAttribIPointer(L,G,W,$,ge):i.vertexAttribPointer(L,G,W,K,$,ge)}function D(L,G,W,K){T();const $=K.attributes,ge=W.getAttributes(),ee=G.defaultAttributeValues;for(const re in ge){const se=ge[re];if(se.location>=0){let Te=$[re];if(Te===void 0&&(re==="instanceMatrix"&&L.instanceMatrix&&(Te=L.instanceMatrix),re==="instanceColor"&&L.instanceColor&&(Te=L.instanceColor)),Te!==void 0){const Y=Te.normalized,oe=Te.itemSize,Oe=e.get(Te);if(Oe===void 0)continue;const je=Oe.buffer,ie=Oe.type,Re=Oe.bytesPerElement,Ge=ie===i.INT||ie===i.UNSIGNED_INT||Te.gpuType===J_;if(Te.isInterleavedBufferAttribute){const Ye=Te.data,ke=Ye.stride,vt=Te.offset;if(Ye.isInstancedInterleavedBuffer){for(let it=0;it<se.locationSize;it++)b(se.location+it,Ye.meshPerAttribute);L.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=Ye.meshPerAttribute*Ye.count)}else for(let it=0;it<se.locationSize;it++)E(se.location+it);i.bindBuffer(i.ARRAY_BUFFER,je);for(let it=0;it<se.locationSize;it++)B(se.location+it,oe/se.locationSize,ie,Y,ke*Re,(vt+oe/se.locationSize*it)*Re,Ge)}else{if(Te.isInstancedBufferAttribute){for(let Ye=0;Ye<se.locationSize;Ye++)b(se.location+Ye,Te.meshPerAttribute);L.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let Ye=0;Ye<se.locationSize;Ye++)E(se.location+Ye);i.bindBuffer(i.ARRAY_BUFFER,je);for(let Ye=0;Ye<se.locationSize;Ye++)B(se.location+Ye,oe/se.locationSize,ie,Y,oe*Re,oe/se.locationSize*Ye*Re,Ge)}}else if(ee!==void 0){const Y=ee[re];if(Y!==void 0)switch(Y.length){case 2:i.vertexAttrib2fv(se.location,Y);break;case 3:i.vertexAttrib3fv(se.location,Y);break;case 4:i.vertexAttrib4fv(se.location,Y);break;default:i.vertexAttrib1fv(se.location,Y)}}}}w()}function U(){H();for(const L in n){const G=n[L];for(const W in G){const K=G[W];for(const $ in K)m(K[$].object),delete K[$];delete G[W]}delete n[L]}}function P(L){if(n[L.id]===void 0)return;const G=n[L.id];for(const W in G){const K=G[W];for(const $ in K)m(K[$].object),delete K[$];delete G[W]}delete n[L.id]}function F(L){for(const G in n){const W=n[G];if(W[L.id]===void 0)continue;const K=W[L.id];for(const $ in K)m(K[$].object),delete K[$];delete W[L.id]}}function H(){N(),o=!0,a!==s&&(a=s,p(a.object))}function N(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:c,reset:H,resetDefaultState:N,dispose:U,releaseStatesOfGeometry:P,releaseStatesOfProgram:F,initAttributes:T,enableAttribute:E,disableUnusedAttributes:w}}function PV(i,e,t){let n;function s(p){n=p}function a(p,m){i.drawArrays(n,p,m),t.update(m,n,1)}function o(p,m,y){y!==0&&(i.drawArraysInstanced(n,p,m,y),t.update(m,n,y))}function c(p,m,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,m,0,y);let _=0;for(let S=0;S<y;S++)_+=m[S];t.update(_,n,1)}function h(p,m,y,A){if(y===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let S=0;S<p.length;S++)o(p[S],m[S],A[S]);else{_.multiDrawArraysInstancedWEBGL(n,p,0,m,0,A,0,y);let S=0;for(let T=0;T<y;T++)S+=m[T]*A[T];t.update(S,n,1)}}this.setMode=s,this.render=a,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=h}function IV(i,e,t,n){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");s=i.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(F){return!(F!==Ws&&n.convert(F)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(F){const H=F===Ep&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==_o&&n.convert(F)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==La&&!H)}function h(F){if(F==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=h(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const y=t.logarithmicDepthBuffer===!0,A=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),_=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=i.getParameter(i.MAX_TEXTURE_SIZE),E=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),b=i.getParameter(i.MAX_VERTEX_ATTRIBS),w=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),B=i.getParameter(i.MAX_VARYING_VECTORS),D=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),U=S>0,P=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:h,textureFormatReadable:o,textureTypeReadable:c,precision:p,logarithmicDepthBuffer:y,reverseDepthBuffer:A,maxTextures:_,maxVertexTextures:S,maxTextureSize:T,maxCubemapSize:E,maxAttributes:b,maxVertexUniforms:w,maxVaryings:B,maxFragmentUniforms:D,vertexTextures:U,maxSamples:P}}function FV(i){const e=this;let t=null,n=0,s=!1,a=!1;const o=new lc,c=new Kt,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(y,A){const _=y.length!==0||A||n!==0||s;return s=A,n=y.length,_},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(y,A){t=m(y,A,0)},this.setState=function(y,A,_){const S=y.clippingPlanes,T=y.clipIntersection,E=y.clipShadows,b=i.get(y);if(!s||S===null||S.length===0||a&&!E)a?m(null):p();else{const w=a?0:n,B=w*4;let D=b.clippingState||null;h.value=D,D=m(S,A,B,_);for(let U=0;U!==B;++U)D[U]=t[U];b.clippingState=D,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=w}};function p(){h.value!==t&&(h.value=t,h.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(y,A,_,S){const T=y!==null?y.length:0;let E=null;if(T!==0){if(E=h.value,S!==!0||E===null){const b=_+T*4,w=A.matrixWorldInverse;c.getNormalMatrix(w),(E===null||E.length<b)&&(E=new Float32Array(b));for(let B=0,D=_;B!==T;++B,D+=4)o.copy(y[B]).applyMatrix4(w,c),o.normal.toArray(E,D),E[D+3]=o.constant}h.value=E,h.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,E}}function zV(i){let e=new WeakMap;function t(o,c){return c===Vg?o.mapping=vc:c===kg&&(o.mapping=wu),o}function n(o){if(o&&o.isTexture){const c=o.mapping;if(c===Vg||c===kg)if(e.has(o)){const h=e.get(o).texture;return t(h,o.mapping)}else{const h=o.image;if(h&&h.height>0){const p=new HO(h.height);return p.fromEquirectangularTexture(i,o),e.set(o,p),o.addEventListener("dispose",s),t(p.texture,o.mapping)}else return null}}return o}function s(o){const c=o.target;c.removeEventListener("dispose",s);const h=e.get(c);h!==void 0&&(e.delete(c),h.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const Zd=4,hw=[.125,.215,.35,.446,.526,.582],Jf=20,C1=new gc,dw=new ut;let R1=null,w1=0,B1=0,D1=!1;const Kf=(1+Math.sqrt(5))/2,Gd=1/Kf,pw=[new q(-Kf,Gd,0),new q(Kf,Gd,0),new q(-Gd,0,Kf),new q(Gd,0,Kf),new q(0,Kf,-Gd),new q(0,Kf,Gd),new q(-1,1,-1),new q(1,1,-1),new q(-1,1,1),new q(1,1,1)],HV=new q;class Hb{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,s=100,a={}){const{size:o=256,position:c=HV}=a;R1=this._renderer.getRenderTarget(),w1=this._renderer.getActiveCubeFace(),B1=this._renderer.getActiveMipmapLevel(),D1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,n,s,h,c),t>0&&this._blur(h,0,0,t),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=yw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=gw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(R1,w1,B1),this._renderer.xr.enabled=D1,e.scissorTest=!1,lA(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===vc||e.mapping===wu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),R1=this._renderer.getRenderTarget(),w1=this._renderer.getActiveCubeFace(),B1=this._renderer.getActiveMipmapLevel(),D1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Gi,minFilter:Gi,generateMipmaps:!1,type:Ep,format:Ws,colorSpace:Du,depthBuffer:!1},s=mw(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=mw(e,t,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=GV(a)),this._blurMaterial=VV(a,e,t)}return s}_compileMaterial(e){const t=new Vi(this._lodPlanes[0],e);this._renderer.compile(t,C1)}_sceneToCubeUV(e,t,n,s,a){const h=new Ni(90,1,t,n),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],y=this._renderer,A=y.autoClear,_=y.toneMapping;y.getClearColor(dw),y.toneMapping=vl,y.autoClear=!1;const S=new er({name:"PMREM.Background",side:pa,depthWrite:!1,depthTest:!1}),T=new Vi(new Mh,S);let E=!1;const b=e.background;b?b.isColor&&(S.color.copy(b),e.background=null,E=!0):(S.color.copy(dw),E=!0);for(let w=0;w<6;w++){const B=w%3;B===0?(h.up.set(0,p[w],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x+m[w],a.y,a.z)):B===1?(h.up.set(0,0,p[w]),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y+m[w],a.z)):(h.up.set(0,p[w],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y,a.z+m[w]));const D=this._cubeSize;lA(s,B*D,w>2?D:0,D,D),y.setRenderTarget(s),E&&y.render(T,h),y.render(e,h)}T.geometry.dispose(),T.material.dispose(),y.toneMapping=_,y.autoClear=A,e.background=b}_textureToCubeUV(e,t){const n=this._renderer,s=e.mapping===vc||e.mapping===wu;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=yw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=gw());const a=s?this._cubemapMaterial:this._equirectMaterial,o=new Vi(this._lodPlanes[0],a),c=a.uniforms;c.envMap.value=e;const h=this._cubeSize;lA(t,0,0,3*h,2*h),n.setRenderTarget(t),n.render(o,C1)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const s=this._lodPlanes.length;for(let a=1;a<s;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),c=pw[(s-a-1)%pw.length];this._blur(e,a-1,a,o,c)}t.autoClear=n}_blur(e,t,n,s,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,s,"latitudinal",a),this._halfBlur(o,e,n,n,s,"longitudinal",a)}_halfBlur(e,t,n,s,a,o,c){const h=this._renderer,p=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,y=new Vi(this._lodPlanes[s],p),A=p.uniforms,_=this._sizeLods[n]-1,S=isFinite(a)?Math.PI/(2*_):2*Math.PI/(2*Jf-1),T=a/S,E=isFinite(a)?1+Math.floor(m*T):Jf;E>Jf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Jf}`);const b=[];let w=0;for(let F=0;F<Jf;++F){const H=F/T,N=Math.exp(-H*H/2);b.push(N),F===0?w+=N:F<E&&(w+=2*N)}for(let F=0;F<b.length;F++)b[F]=b[F]/w;A.envMap.value=e.texture,A.samples.value=E,A.weights.value=b,A.latitudinal.value=o==="latitudinal",c&&(A.poleAxis.value=c);const{_lodMax:B}=this;A.dTheta.value=S,A.mipInt.value=B-n;const D=this._sizeLods[s],U=3*D*(s>B-Zd?s-B+Zd:0),P=4*(this._cubeSize-D);lA(t,U,P,3*D,2*D),h.setRenderTarget(t),h.render(y,C1)}}function GV(i){const e=[],t=[],n=[];let s=i;const a=i-Zd+1+hw.length;for(let o=0;o<a;o++){const c=Math.pow(2,s);t.push(c);let h=1/c;o>i-Zd?h=hw[o-i+Zd-1]:o===0&&(h=0),n.push(h);const p=1/(c-2),m=-p,y=1+p,A=[m,m,y,m,y,y,m,m,y,y,m,y],_=6,S=6,T=3,E=2,b=1,w=new Float32Array(T*S*_),B=new Float32Array(E*S*_),D=new Float32Array(b*S*_);for(let P=0;P<_;P++){const F=P%3*2/3-1,H=P>2?0:-1,N=[F,H,0,F+2/3,H,0,F+2/3,H+1,0,F,H,0,F+2/3,H+1,0,F,H+1,0];w.set(N,T*S*P),B.set(A,E*S*P);const L=[P,P,P,P,P,P];D.set(L,b*S*P)}const U=new Jt;U.setAttribute("position",new Bn(w,T)),U.setAttribute("uv",new Bn(B,E)),U.setAttribute("faceIndex",new Bn(D,b)),e.push(U),s>Zd&&s--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function mw(i,e,t){const n=new bl(i,e,t);return n.texture.mapping=Mp,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function lA(i,e,t,n,s){i.viewport.set(e,t,n,s),i.scissor.set(e,t,n,s)}function VV(i,e,t){const n=new Float32Array(Jf),s=new q(0,1,0);return new xo({name:"SphericalGaussianBlur",defines:{n:Jf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:eT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function gw(){return new xo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:eT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function yw(){return new xo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:eT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function eT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kV(i){let e=new WeakMap,t=null;function n(c){if(c&&c.isTexture){const h=c.mapping,p=h===Vg||h===kg,m=h===vc||h===wu;if(p||m){let y=e.get(c);const A=y!==void 0?y.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==A)return t===null&&(t=new Hb(i)),y=p?t.fromEquirectangular(c,y):t.fromCubemap(c,y),y.texture.pmremVersion=c.pmremVersion,e.set(c,y),y.texture;if(y!==void 0)return y.texture;{const _=c.image;return p&&_&&_.height>0||m&&_&&s(_)?(t===null&&(t=new Hb(i)),y=p?t.fromEquirectangular(c):t.fromCubemap(c),y.texture.pmremVersion=c.pmremVersion,e.set(c,y),c.addEventListener("dispose",a),y.texture):null}}}return c}function s(c){let h=0;const p=6;for(let m=0;m<p;m++)c[m]!==void 0&&h++;return h===p}function a(c){const h=c.target;h.removeEventListener("dispose",a);const p=e.get(h);p!==void 0&&(e.delete(h),p.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function XV(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let s;switch(n){case"WEBGL_depth_texture":s=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=i.getExtension(n)}return e[n]=s,s}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const s=t(n);return s===null&&bA("THREE.WebGLRenderer: "+n+" extension not supported."),s}}}function jV(i,e,t,n){const s={},a=new WeakMap;function o(y){const A=y.target;A.index!==null&&e.remove(A.index);for(const S in A.attributes)e.remove(A.attributes[S]);A.removeEventListener("dispose",o),delete s[A.id];const _=a.get(A);_&&(e.remove(_),a.delete(A)),n.releaseStatesOfGeometry(A),A.isInstancedBufferGeometry===!0&&delete A._maxInstanceCount,t.memory.geometries--}function c(y,A){return s[A.id]===!0||(A.addEventListener("dispose",o),s[A.id]=!0,t.memory.geometries++),A}function h(y){const A=y.attributes;for(const _ in A)e.update(A[_],i.ARRAY_BUFFER)}function p(y){const A=[],_=y.index,S=y.attributes.position;let T=0;if(_!==null){const w=_.array;T=_.version;for(let B=0,D=w.length;B<D;B+=3){const U=w[B+0],P=w[B+1],F=w[B+2];A.push(U,P,P,F,F,U)}}else if(S!==void 0){const w=S.array;T=S.version;for(let B=0,D=w.length/3-1;B<D;B+=3){const U=B+0,P=B+1,F=B+2;A.push(U,P,P,F,F,U)}}else return;const E=new(LO(A)?ME:bE)(A,1);E.version=T;const b=a.get(y);b&&e.remove(b),a.set(y,E)}function m(y){const A=a.get(y);if(A){const _=y.index;_!==null&&A.version<_.version&&p(y)}else p(y);return a.get(y)}return{get:c,update:h,getWireframeAttribute:m}}function YV(i,e,t){let n;function s(A){n=A}let a,o;function c(A){a=A.type,o=A.bytesPerElement}function h(A,_){i.drawElements(n,_,a,A*o),t.update(_,n,1)}function p(A,_,S){S!==0&&(i.drawElementsInstanced(n,_,a,A*o,S),t.update(_,n,S))}function m(A,_,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,_,0,a,A,0,S);let E=0;for(let b=0;b<S;b++)E+=_[b];t.update(E,n,1)}function y(A,_,S,T){if(S===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let b=0;b<A.length;b++)p(A[b]/o,_[b],T[b]);else{E.multiDrawElementsInstancedWEBGL(n,_,0,a,A,0,T,0,S);let b=0;for(let w=0;w<S;w++)b+=_[w]*T[w];t.update(b,n,1)}}this.setMode=s,this.setIndex=c,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=y}function qV(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,o,c){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=c*(a/3);break;case i.LINES:t.lines+=c*(a/2);break;case i.LINE_STRIP:t.lines+=c*(a-1);break;case i.LINE_LOOP:t.lines+=c*a;break;case i.POINTS:t.points+=c*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:n}}function WV(i,e,t){const n=new WeakMap,s=new Rn;function a(o,c,h){const p=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=m!==void 0?m.length:0;let A=n.get(c);if(A===void 0||A.count!==y){let L=function(){H.dispose(),n.delete(c),c.removeEventListener("dispose",L)};var _=L;A!==void 0&&A.texture.dispose();const S=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,b=c.morphAttributes.position||[],w=c.morphAttributes.normal||[],B=c.morphAttributes.color||[];let D=0;S===!0&&(D=1),T===!0&&(D=2),E===!0&&(D=3);let U=c.attributes.position.count*D,P=1;U>e.maxTextureSize&&(P=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const F=new Float32Array(U*P*4*y),H=new hy(F,U,P,y);H.type=La,H.needsUpdate=!0;const N=D*4;for(let G=0;G<y;G++){const W=b[G],K=w[G],$=B[G],ge=U*P*4*G;for(let ee=0;ee<W.count;ee++){const re=ee*N;S===!0&&(s.fromBufferAttribute(W,ee),F[ge+re+0]=s.x,F[ge+re+1]=s.y,F[ge+re+2]=s.z,F[ge+re+3]=0),T===!0&&(s.fromBufferAttribute(K,ee),F[ge+re+4]=s.x,F[ge+re+5]=s.y,F[ge+re+6]=s.z,F[ge+re+7]=0),E===!0&&(s.fromBufferAttribute($,ee),F[ge+re+8]=s.x,F[ge+re+9]=s.y,F[ge+re+10]=s.z,F[ge+re+11]=$.itemSize===4?s.w:1)}}A={count:y,texture:H,size:new He(U,P)},n.set(c,A),c.addEventListener("dispose",L)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)h.getUniforms().setValue(i,"morphTexture",o.morphTexture,t);else{let S=0;for(let E=0;E<p.length;E++)S+=p[E];const T=c.morphTargetsRelative?1:1-S;h.getUniforms().setValue(i,"morphTargetBaseInfluence",T),h.getUniforms().setValue(i,"morphTargetInfluences",p)}h.getUniforms().setValue(i,"morphTargetsTexture",A.texture,t),h.getUniforms().setValue(i,"morphTargetsTextureSize",A.size)}return{update:a}}function KV(i,e,t,n){let s=new WeakMap;function a(h){const p=n.render.frame,m=h.geometry,y=e.get(h,m);if(s.get(y)!==p&&(e.update(y),s.set(y,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",c)===!1&&h.addEventListener("dispose",c),s.get(h)!==p&&(t.update(h.instanceMatrix,i.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,i.ARRAY_BUFFER),s.set(h,p))),h.isSkinnedMesh){const A=h.skeleton;s.get(A)!==p&&(A.update(),s.set(A,p))}return y}function o(){s=new WeakMap}function c(h){const p=h.target;p.removeEventListener("dispose",c),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:a,dispose:o}}const NL=new ui,vw=new DE(1,1),UL=new hy,PL=new sx,IL=new dy,Aw=[],_w=[],xw=new Float32Array(16),Sw=new Float32Array(9),bw=new Float32Array(4);function wp(i,e,t){const n=i[0];if(n<=0||n>0)return i;const s=e*t;let a=Aw[s];if(a===void 0&&(a=new Float32Array(s),Aw[s]=a),e!==0){n.toArray(a,0);for(let o=1,c=0;o!==e;++o)c+=t,i[o].toArray(a,c)}return a}function ts(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function ns(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Ex(i,e){let t=_w[e];t===void 0&&(t=new Int32Array(e),_w[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function JV(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function ZV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ts(t,e))return;i.uniform2fv(this.addr,e),ns(t,e)}}function QV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ts(t,e))return;i.uniform3fv(this.addr,e),ns(t,e)}}function $V(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ts(t,e))return;i.uniform4fv(this.addr,e),ns(t,e)}}function e7(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ts(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),ns(t,e)}else{if(ts(t,n))return;bw.set(n),i.uniformMatrix2fv(this.addr,!1,bw),ns(t,n)}}function t7(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ts(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),ns(t,e)}else{if(ts(t,n))return;Sw.set(n),i.uniformMatrix3fv(this.addr,!1,Sw),ns(t,n)}}function n7(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ts(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),ns(t,e)}else{if(ts(t,n))return;xw.set(n),i.uniformMatrix4fv(this.addr,!1,xw),ns(t,n)}}function i7(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function s7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ts(t,e))return;i.uniform2iv(this.addr,e),ns(t,e)}}function a7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ts(t,e))return;i.uniform3iv(this.addr,e),ns(t,e)}}function r7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ts(t,e))return;i.uniform4iv(this.addr,e),ns(t,e)}}function o7(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function l7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ts(t,e))return;i.uniform2uiv(this.addr,e),ns(t,e)}}function c7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ts(t,e))return;i.uniform3uiv(this.addr,e),ns(t,e)}}function u7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ts(t,e))return;i.uniform4uiv(this.addr,e),ns(t,e)}}function f7(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s);let a;this.type===i.SAMPLER_2D_SHADOW?(vw.compareFunction=xE,a=vw):a=NL,t.setTexture2D(e||a,s)}function h7(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture3D(e||PL,s)}function d7(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTextureCube(e||IL,s)}function p7(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture2DArray(e||UL,s)}function m7(i){switch(i){case 5126:return JV;case 35664:return ZV;case 35665:return QV;case 35666:return $V;case 35674:return e7;case 35675:return t7;case 35676:return n7;case 5124:case 35670:return i7;case 35667:case 35671:return s7;case 35668:case 35672:return a7;case 35669:case 35673:return r7;case 5125:return o7;case 36294:return l7;case 36295:return c7;case 36296:return u7;case 35678:case 36198:case 36298:case 36306:case 35682:return f7;case 35679:case 36299:case 36307:return h7;case 35680:case 36300:case 36308:case 36293:return d7;case 36289:case 36303:case 36311:case 36292:return p7}}function g7(i,e){i.uniform1fv(this.addr,e)}function y7(i,e){const t=wp(e,this.size,2);i.uniform2fv(this.addr,t)}function v7(i,e){const t=wp(e,this.size,3);i.uniform3fv(this.addr,t)}function A7(i,e){const t=wp(e,this.size,4);i.uniform4fv(this.addr,t)}function _7(i,e){const t=wp(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function x7(i,e){const t=wp(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function S7(i,e){const t=wp(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function b7(i,e){i.uniform1iv(this.addr,e)}function M7(i,e){i.uniform2iv(this.addr,e)}function E7(i,e){i.uniform3iv(this.addr,e)}function T7(i,e){i.uniform4iv(this.addr,e)}function C7(i,e){i.uniform1uiv(this.addr,e)}function R7(i,e){i.uniform2uiv(this.addr,e)}function w7(i,e){i.uniform3uiv(this.addr,e)}function B7(i,e){i.uniform4uiv(this.addr,e)}function D7(i,e,t){const n=this.cache,s=e.length,a=Ex(t,s);ts(n,a)||(i.uniform1iv(this.addr,a),ns(n,a));for(let o=0;o!==s;++o)t.setTexture2D(e[o]||NL,a[o])}function O7(i,e,t){const n=this.cache,s=e.length,a=Ex(t,s);ts(n,a)||(i.uniform1iv(this.addr,a),ns(n,a));for(let o=0;o!==s;++o)t.setTexture3D(e[o]||PL,a[o])}function L7(i,e,t){const n=this.cache,s=e.length,a=Ex(t,s);ts(n,a)||(i.uniform1iv(this.addr,a),ns(n,a));for(let o=0;o!==s;++o)t.setTextureCube(e[o]||IL,a[o])}function N7(i,e,t){const n=this.cache,s=e.length,a=Ex(t,s);ts(n,a)||(i.uniform1iv(this.addr,a),ns(n,a));for(let o=0;o!==s;++o)t.setTexture2DArray(e[o]||UL,a[o])}function U7(i){switch(i){case 5126:return g7;case 35664:return y7;case 35665:return v7;case 35666:return A7;case 35674:return _7;case 35675:return x7;case 35676:return S7;case 5124:case 35670:return b7;case 35667:case 35671:return M7;case 35668:case 35672:return E7;case 35669:case 35673:return T7;case 5125:return C7;case 36294:return R7;case 36295:return w7;case 36296:return B7;case 35678:case 36198:case 36298:case 36306:case 35682:return D7;case 35679:case 36299:case 36307:return O7;case 35680:case 36300:case 36308:case 36293:return L7;case 36289:case 36303:case 36311:case 36292:return N7}}class P7{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=m7(t.type)}}class I7{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=U7(t.type)}}class F7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const s=this.seq;for(let a=0,o=s.length;a!==o;++a){const c=s[a];c.setValue(e,t[c.id],n)}}}const O1=/(\w+)(\])?(\[|\.)?/g;function Mw(i,e){i.seq.push(e),i.map[e.id]=e}function z7(i,e,t){const n=i.name,s=n.length;for(O1.lastIndex=0;;){const a=O1.exec(n),o=O1.lastIndex;let c=a[1];const h=a[2]==="]",p=a[3];if(h&&(c=c|0),p===void 0||p==="["&&o+2===s){Mw(t,p===void 0?new P7(c,i,e):new I7(c,i,e));break}else{let y=t.map[c];y===void 0&&(y=new F7(c),Mw(t,y)),t=y}}}class EA{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;++s){const a=e.getActiveUniform(t,s),o=e.getUniformLocation(t,a.name);z7(a,o,this)}}setValue(e,t,n,s){const a=this.map[t];a!==void 0&&a.setValue(e,n,s)}setOptional(e,t,n){const s=t[n];s!==void 0&&this.setValue(e,n,s)}static upload(e,t,n,s){for(let a=0,o=t.length;a!==o;++a){const c=t[a],h=n[c.id];h.needsUpdate!==!1&&c.setValue(e,h.value,s)}}static seqWithValue(e,t){const n=[];for(let s=0,a=e.length;s!==a;++s){const o=e[s];o.id in t&&n.push(o)}return n}}function Ew(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const H7=37297;let G7=0;function V7(i,e){const t=i.split(`
`),n=[],s=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=s;o<a;o++){const c=o+1;n.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return n.join(`
`)}const Tw=new Kt;function k7(i){bn._getMatrix(Tw,bn.workingColorSpace,i);const e=`mat3( ${Tw.elements.map(t=>t.toFixed(4))} )`;switch(bn.getTransfer(i)){case jg:return[e,"LinearTransferOETF"];case kn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function Cw(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),s=i.getShaderInfoLog(e).trim();if(n&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+s+`

`+V7(i.getShaderSource(e),o)}else return s}function X7(i,e){const t=k7(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function j7(i,e){let t;switch(e){case fO:t="Linear";break;case hO:t="Reinhard";break;case dO:t="Cineon";break;case cE:t="ACESFilmic";break;case mO:t="AgX";break;case gO:t="Neutral";break;case pO:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const cA=new q;function Y7(){bn.getLuminanceCoefficients(cA);const i=cA.x.toFixed(4),e=cA.y.toFixed(4),t=cA.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function q7(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(mg).join(`
`)}function W7(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function K7(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const a=i.getActiveAttrib(e,s),o=a.name;let c=1;a.type===i.FLOAT_MAT2&&(c=2),a.type===i.FLOAT_MAT3&&(c=3),a.type===i.FLOAT_MAT4&&(c=4),t[o]={type:a.type,location:i.getAttribLocation(e,o),locationSize:c}}return t}function mg(i){return i!==""}function Rw(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ww(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const J7=/^[ \t]*#include +<([\w\d./]+)>/gm;function Gb(i){return i.replace(J7,Q7)}const Z7=new Map;function Q7(i,e){let t=sn[e];if(t===void 0){const n=Z7.get(e);if(n!==void 0)t=sn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return Gb(t)}const $7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Bw(i){return i.replace($7,ek)}function ek(i,e,t,n){let s="";for(let a=parseInt(e);a<parseInt(t);a++)s+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function Dw(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function tk(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===q_?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===bg?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===mo&&(e="SHADOWMAP_TYPE_VSM"),e}function nk(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case vc:case wu:e="ENVMAP_TYPE_CUBE";break;case Mp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ik(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case wu:e="ENVMAP_MODE_REFRACTION";break}return e}function sk(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case uy:e="ENVMAP_BLENDING_MULTIPLY";break;case cO:e="ENVMAP_BLENDING_MIX";break;case uO:e="ENVMAP_BLENDING_ADD";break}return e}function ak(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function rk(i,e,t,n){const s=i.getContext(),a=t.defines;let o=t.vertexShader,c=t.fragmentShader;const h=tk(t),p=nk(t),m=ik(t),y=sk(t),A=ak(t),_=q7(t),S=W7(a),T=s.createProgram();let E,b,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(mg).join(`
`),E.length>0&&(E+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(mg).join(`
`),b.length>0&&(b+=`
`)):(E=[Dw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(mg).join(`
`),b=[Dw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+y:"",A?"#define CUBEUV_TEXEL_WIDTH "+A.texelWidth:"",A?"#define CUBEUV_TEXEL_HEIGHT "+A.texelHeight:"",A?"#define CUBEUV_MAX_MIP "+A.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==vl?"#define TONE_MAPPING":"",t.toneMapping!==vl?sn.tonemapping_pars_fragment:"",t.toneMapping!==vl?j7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",sn.colorspace_pars_fragment,X7("linearToOutputTexel",t.outputColorSpace),Y7(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(mg).join(`
`)),o=Gb(o),o=Rw(o,t),o=ww(o,t),c=Gb(c),c=Rw(c,t),c=ww(c,t),o=Bw(o),c=Bw(c),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,E=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,b=["#define varying in",t.glslVersion===Ob?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Ob?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const B=w+E+o,D=w+b+c,U=Ew(s,s.VERTEX_SHADER,B),P=Ew(s,s.FRAGMENT_SHADER,D);s.attachShader(T,U),s.attachShader(T,P),t.index0AttributeName!==void 0?s.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(T,0,"position"),s.linkProgram(T);function F(G){if(i.debug.checkShaderErrors){const W=s.getProgramInfoLog(T).trim(),K=s.getShaderInfoLog(U).trim(),$=s.getShaderInfoLog(P).trim();let ge=!0,ee=!0;if(s.getProgramParameter(T,s.LINK_STATUS)===!1)if(ge=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(s,T,U,P);else{const re=Cw(s,U,"vertex"),se=Cw(s,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(T,s.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+W+`
`+re+`
`+se)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(K===""||$==="")&&(ee=!1);ee&&(G.diagnostics={runnable:ge,programLog:W,vertexShader:{log:K,prefix:E},fragmentShader:{log:$,prefix:b}})}s.deleteShader(U),s.deleteShader(P),H=new EA(s,T),N=K7(s,T)}let H;this.getUniforms=function(){return H===void 0&&F(this),H};let N;this.getAttributes=function(){return N===void 0&&F(this),N};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=s.getProgramParameter(T,H7)),L},this.destroy=function(){n.releaseStatesOfProgram(this),s.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=G7++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=U,this.fragmentShader=P,this}let ok=0;class lk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,s=this._getShaderStage(t),a=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new ck(e),t.set(e,n)),n}}class ck{constructor(e){this.id=ok++,this.code=e,this.usedTimes=0}}function uk(i,e,t,n,s,a,o){const c=new gp,h=new lk,p=new Set,m=[],y=s.logarithmicDepthBuffer,A=s.vertexTextures;let _=s.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(N){return p.add(N),N===0?"uv":`uv${N}`}function E(N,L,G,W,K){const $=W.fog,ge=K.geometry,ee=N.isMeshStandardMaterial?W.environment:null,re=(N.isMeshStandardMaterial?t:e).get(N.envMap||ee),se=re&&re.mapping===Mp?re.image.height:null,Te=S[N.type];N.precision!==null&&(_=s.getMaxPrecision(N.precision),_!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",_,"instead."));const Y=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,oe=Y!==void 0?Y.length:0;let Oe=0;ge.morphAttributes.position!==void 0&&(Oe=1),ge.morphAttributes.normal!==void 0&&(Oe=2),ge.morphAttributes.color!==void 0&&(Oe=3);let je,ie,Re,Ge;if(Te){const Wt=go[Te];je=Wt.vertexShader,ie=Wt.fragmentShader}else je=N.vertexShader,ie=N.fragmentShader,h.update(N),Re=h.getVertexShaderID(N),Ge=h.getFragmentShaderID(N);const Ye=i.getRenderTarget(),ke=i.state.buffers.depth.getReversed(),vt=K.isInstancedMesh===!0,it=K.isBatchedMesh===!0,Ct=!!N.map,Xt=!!N.matcap,Bt=!!re,Z=!!N.aoMap,Mn=!!N.lightMap,Pe=!!N.bumpMap,Ve=!!N.normalMap,Le=!!N.displacementMap,nt=!!N.emissiveMap,we=!!N.metalnessMap,j=!!N.roughnessMap,z=N.anisotropy>0,fe=N.clearcoat>0,Se=N.dispersion>0,Ue=N.iridescence>0,De=N.sheen>0,yt=N.transmission>0,tt=z&&!!N.anisotropyMap,pt=fe&&!!N.clearcoatMap,qt=fe&&!!N.clearcoatNormalMap,Je=fe&&!!N.clearcoatRoughnessMap,gt=Ue&&!!N.iridescenceMap,At=Ue&&!!N.iridescenceThicknessMap,mt=De&&!!N.sheenColorMap,lt=De&&!!N.sheenRoughnessMap,ne=!!N.specularMap,Ce=!!N.specularColorMap,ot=!!N.specularIntensityMap,te=yt&&!!N.transmissionMap,Qe=yt&&!!N.thicknessMap,Ee=!!N.gradientMap,Ie=!!N.alphaMap,at=N.alphaTest>0,rt=!!N.alphaHash,St=!!N.extensions;let on=vl;N.toneMapped&&(Ye===null||Ye.isXRRenderTarget===!0)&&(on=i.toneMapping);const Ln={shaderID:Te,shaderType:N.type,shaderName:N.name,vertexShader:je,fragmentShader:ie,defines:N.defines,customVertexShaderID:Re,customFragmentShaderID:Ge,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:_,batching:it,batchingColor:it&&K._colorsTexture!==null,instancing:vt,instancingColor:vt&&K.instanceColor!==null,instancingMorph:vt&&K.morphTexture!==null,supportsVertexTextures:A,outputColorSpace:Ye===null?i.outputColorSpace:Ye.isXRRenderTarget===!0?Ye.texture.colorSpace:Du,alphaToCoverage:!!N.alphaToCoverage,map:Ct,matcap:Xt,envMap:Bt,envMapMode:Bt&&re.mapping,envMapCubeUVHeight:se,aoMap:Z,lightMap:Mn,bumpMap:Pe,normalMap:Ve,displacementMap:A&&Le,emissiveMap:nt,normalMapObjectSpace:Ve&&N.normalMapType===MO,normalMapTangentSpace:Ve&&N.normalMapType===Iu,metalnessMap:we,roughnessMap:j,anisotropy:z,anisotropyMap:tt,clearcoat:fe,clearcoatMap:pt,clearcoatNormalMap:qt,clearcoatRoughnessMap:Je,dispersion:Se,iridescence:Ue,iridescenceMap:gt,iridescenceThicknessMap:At,sheen:De,sheenColorMap:mt,sheenRoughnessMap:lt,specularMap:ne,specularColorMap:Ce,specularIntensityMap:ot,transmission:yt,transmissionMap:te,thicknessMap:Qe,gradientMap:Ee,opaque:N.transparent===!1&&N.blending===lh&&N.alphaToCoverage===!1,alphaMap:Ie,alphaTest:at,alphaHash:rt,combine:N.combine,mapUv:Ct&&T(N.map.channel),aoMapUv:Z&&T(N.aoMap.channel),lightMapUv:Mn&&T(N.lightMap.channel),bumpMapUv:Pe&&T(N.bumpMap.channel),normalMapUv:Ve&&T(N.normalMap.channel),displacementMapUv:Le&&T(N.displacementMap.channel),emissiveMapUv:nt&&T(N.emissiveMap.channel),metalnessMapUv:we&&T(N.metalnessMap.channel),roughnessMapUv:j&&T(N.roughnessMap.channel),anisotropyMapUv:tt&&T(N.anisotropyMap.channel),clearcoatMapUv:pt&&T(N.clearcoatMap.channel),clearcoatNormalMapUv:qt&&T(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Je&&T(N.clearcoatRoughnessMap.channel),iridescenceMapUv:gt&&T(N.iridescenceMap.channel),iridescenceThicknessMapUv:At&&T(N.iridescenceThicknessMap.channel),sheenColorMapUv:mt&&T(N.sheenColorMap.channel),sheenRoughnessMapUv:lt&&T(N.sheenRoughnessMap.channel),specularMapUv:ne&&T(N.specularMap.channel),specularColorMapUv:Ce&&T(N.specularColorMap.channel),specularIntensityMapUv:ot&&T(N.specularIntensityMap.channel),transmissionMapUv:te&&T(N.transmissionMap.channel),thicknessMapUv:Qe&&T(N.thicknessMap.channel),alphaMapUv:Ie&&T(N.alphaMap.channel),vertexTangents:!!ge.attributes.tangent&&(Ve||z),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,pointsUvs:K.isPoints===!0&&!!ge.attributes.uv&&(Ct||Ie),fog:!!$,useFog:N.fog===!0,fogExp2:!!$&&$.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:y,reverseDepthBuffer:ke,skinning:K.isSkinnedMesh===!0,morphTargets:ge.morphAttributes.position!==void 0,morphNormals:ge.morphAttributes.normal!==void 0,morphColors:ge.morphAttributes.color!==void 0,morphTargetsCount:oe,morphTextureStride:Oe,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:i.shadowMap.enabled&&G.length>0,shadowMapType:i.shadowMap.type,toneMapping:on,decodeVideoTexture:Ct&&N.map.isVideoTexture===!0&&bn.getTransfer(N.map.colorSpace)===kn,decodeVideoTextureEmissive:nt&&N.emissiveMap.isVideoTexture===!0&&bn.getTransfer(N.emissiveMap.colorSpace)===kn,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===yo,flipSided:N.side===pa,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:St&&N.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(St&&N.extensions.multiDraw===!0||it)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return Ln.vertexUv1s=p.has(1),Ln.vertexUv2s=p.has(2),Ln.vertexUv3s=p.has(3),p.clear(),Ln}function b(N){const L=[];if(N.shaderID?L.push(N.shaderID):(L.push(N.customVertexShaderID),L.push(N.customFragmentShaderID)),N.defines!==void 0)for(const G in N.defines)L.push(G),L.push(N.defines[G]);return N.isRawShaderMaterial===!1&&(w(L,N),B(L,N),L.push(i.outputColorSpace)),L.push(N.customProgramCacheKey),L.join()}function w(N,L){N.push(L.precision),N.push(L.outputColorSpace),N.push(L.envMapMode),N.push(L.envMapCubeUVHeight),N.push(L.mapUv),N.push(L.alphaMapUv),N.push(L.lightMapUv),N.push(L.aoMapUv),N.push(L.bumpMapUv),N.push(L.normalMapUv),N.push(L.displacementMapUv),N.push(L.emissiveMapUv),N.push(L.metalnessMapUv),N.push(L.roughnessMapUv),N.push(L.anisotropyMapUv),N.push(L.clearcoatMapUv),N.push(L.clearcoatNormalMapUv),N.push(L.clearcoatRoughnessMapUv),N.push(L.iridescenceMapUv),N.push(L.iridescenceThicknessMapUv),N.push(L.sheenColorMapUv),N.push(L.sheenRoughnessMapUv),N.push(L.specularMapUv),N.push(L.specularColorMapUv),N.push(L.specularIntensityMapUv),N.push(L.transmissionMapUv),N.push(L.thicknessMapUv),N.push(L.combine),N.push(L.fogExp2),N.push(L.sizeAttenuation),N.push(L.morphTargetsCount),N.push(L.morphAttributeCount),N.push(L.numDirLights),N.push(L.numPointLights),N.push(L.numSpotLights),N.push(L.numSpotLightMaps),N.push(L.numHemiLights),N.push(L.numRectAreaLights),N.push(L.numDirLightShadows),N.push(L.numPointLightShadows),N.push(L.numSpotLightShadows),N.push(L.numSpotLightShadowsWithMaps),N.push(L.numLightProbes),N.push(L.shadowMapType),N.push(L.toneMapping),N.push(L.numClippingPlanes),N.push(L.numClipIntersection),N.push(L.depthPacking)}function B(N,L){c.disableAll(),L.supportsVertexTextures&&c.enable(0),L.instancing&&c.enable(1),L.instancingColor&&c.enable(2),L.instancingMorph&&c.enable(3),L.matcap&&c.enable(4),L.envMap&&c.enable(5),L.normalMapObjectSpace&&c.enable(6),L.normalMapTangentSpace&&c.enable(7),L.clearcoat&&c.enable(8),L.iridescence&&c.enable(9),L.alphaTest&&c.enable(10),L.vertexColors&&c.enable(11),L.vertexAlphas&&c.enable(12),L.vertexUv1s&&c.enable(13),L.vertexUv2s&&c.enable(14),L.vertexUv3s&&c.enable(15),L.vertexTangents&&c.enable(16),L.anisotropy&&c.enable(17),L.alphaHash&&c.enable(18),L.batching&&c.enable(19),L.dispersion&&c.enable(20),L.batchingColor&&c.enable(21),N.push(c.mask),c.disableAll(),L.fog&&c.enable(0),L.useFog&&c.enable(1),L.flatShading&&c.enable(2),L.logarithmicDepthBuffer&&c.enable(3),L.reverseDepthBuffer&&c.enable(4),L.skinning&&c.enable(5),L.morphTargets&&c.enable(6),L.morphNormals&&c.enable(7),L.morphColors&&c.enable(8),L.premultipliedAlpha&&c.enable(9),L.shadowMapEnabled&&c.enable(10),L.doubleSided&&c.enable(11),L.flipSided&&c.enable(12),L.useDepthPacking&&c.enable(13),L.dithering&&c.enable(14),L.transmission&&c.enable(15),L.sheen&&c.enable(16),L.opaque&&c.enable(17),L.pointsUvs&&c.enable(18),L.decodeVideoTexture&&c.enable(19),L.decodeVideoTextureEmissive&&c.enable(20),L.alphaToCoverage&&c.enable(21),N.push(c.mask)}function D(N){const L=S[N.type];let G;if(L){const W=go[L];G=FO.clone(W.uniforms)}else G=N.uniforms;return G}function U(N,L){let G;for(let W=0,K=m.length;W<K;W++){const $=m[W];if($.cacheKey===L){G=$,++G.usedTimes;break}}return G===void 0&&(G=new rk(i,L,N,a),m.push(G)),G}function P(N){if(--N.usedTimes===0){const L=m.indexOf(N);m[L]=m[m.length-1],m.pop(),N.destroy()}}function F(N){h.remove(N)}function H(){h.dispose()}return{getParameters:E,getProgramCacheKey:b,getUniforms:D,acquireProgram:U,releaseProgram:P,releaseShaderCache:F,programs:m,dispose:H}}function fk(){let i=new WeakMap;function e(o){return i.has(o)}function t(o){let c=i.get(o);return c===void 0&&(c={},i.set(o,c)),c}function n(o){i.delete(o)}function s(o,c,h){i.get(o)[c]=h}function a(){i=new WeakMap}return{has:e,get:t,remove:n,update:s,dispose:a}}function hk(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function Ow(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function Lw(){const i=[];let e=0;const t=[],n=[],s=[];function a(){e=0,t.length=0,n.length=0,s.length=0}function o(y,A,_,S,T,E){let b=i[e];return b===void 0?(b={id:y.id,object:y,geometry:A,material:_,groupOrder:S,renderOrder:y.renderOrder,z:T,group:E},i[e]=b):(b.id=y.id,b.object=y,b.geometry=A,b.material=_,b.groupOrder=S,b.renderOrder=y.renderOrder,b.z=T,b.group=E),e++,b}function c(y,A,_,S,T,E){const b=o(y,A,_,S,T,E);_.transmission>0?n.push(b):_.transparent===!0?s.push(b):t.push(b)}function h(y,A,_,S,T,E){const b=o(y,A,_,S,T,E);_.transmission>0?n.unshift(b):_.transparent===!0?s.unshift(b):t.unshift(b)}function p(y,A){t.length>1&&t.sort(y||hk),n.length>1&&n.sort(A||Ow),s.length>1&&s.sort(A||Ow)}function m(){for(let y=e,A=i.length;y<A;y++){const _=i[y];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:t,transmissive:n,transparent:s,init:a,push:c,unshift:h,finish:m,sort:p}}function dk(){let i=new WeakMap;function e(n,s){const a=i.get(n);let o;return a===void 0?(o=new Lw,i.set(n,[o])):s>=a.length?(o=new Lw,a.push(o)):o=a[s],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function pk(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new q,color:new ut};break;case"SpotLight":t={position:new q,direction:new q,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new q,color:new ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new q,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":t={color:new ut,position:new q,halfWidth:new q,halfHeight:new q};break}return i[e.id]=t,t}}}function mk(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let gk=0;function yk(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function vk(i){const e=new pk,t=mk(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new q);const s=new q,a=new Nt,o=new Nt;function c(p){let m=0,y=0,A=0;for(let N=0;N<9;N++)n.probe[N].set(0,0,0);let _=0,S=0,T=0,E=0,b=0,w=0,B=0,D=0,U=0,P=0,F=0;p.sort(yk);for(let N=0,L=p.length;N<L;N++){const G=p[N],W=G.color,K=G.intensity,$=G.distance,ge=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)m+=W.r*K,y+=W.g*K,A+=W.b*K;else if(G.isLightProbe){for(let ee=0;ee<9;ee++)n.probe[ee].addScaledVector(G.sh.coefficients[ee],K);F++}else if(G.isDirectionalLight){const ee=e.get(G);if(ee.color.copy(G.color).multiplyScalar(G.intensity),G.castShadow){const re=G.shadow,se=t.get(G);se.shadowIntensity=re.intensity,se.shadowBias=re.bias,se.shadowNormalBias=re.normalBias,se.shadowRadius=re.radius,se.shadowMapSize=re.mapSize,n.directionalShadow[_]=se,n.directionalShadowMap[_]=ge,n.directionalShadowMatrix[_]=G.shadow.matrix,w++}n.directional[_]=ee,_++}else if(G.isSpotLight){const ee=e.get(G);ee.position.setFromMatrixPosition(G.matrixWorld),ee.color.copy(W).multiplyScalar(K),ee.distance=$,ee.coneCos=Math.cos(G.angle),ee.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),ee.decay=G.decay,n.spot[T]=ee;const re=G.shadow;if(G.map&&(n.spotLightMap[U]=G.map,U++,re.updateMatrices(G),G.castShadow&&P++),n.spotLightMatrix[T]=re.matrix,G.castShadow){const se=t.get(G);se.shadowIntensity=re.intensity,se.shadowBias=re.bias,se.shadowNormalBias=re.normalBias,se.shadowRadius=re.radius,se.shadowMapSize=re.mapSize,n.spotShadow[T]=se,n.spotShadowMap[T]=ge,D++}T++}else if(G.isRectAreaLight){const ee=e.get(G);ee.color.copy(W).multiplyScalar(K),ee.halfWidth.set(G.width*.5,0,0),ee.halfHeight.set(0,G.height*.5,0),n.rectArea[E]=ee,E++}else if(G.isPointLight){const ee=e.get(G);if(ee.color.copy(G.color).multiplyScalar(G.intensity),ee.distance=G.distance,ee.decay=G.decay,G.castShadow){const re=G.shadow,se=t.get(G);se.shadowIntensity=re.intensity,se.shadowBias=re.bias,se.shadowNormalBias=re.normalBias,se.shadowRadius=re.radius,se.shadowMapSize=re.mapSize,se.shadowCameraNear=re.camera.near,se.shadowCameraFar=re.camera.far,n.pointShadow[S]=se,n.pointShadowMap[S]=ge,n.pointShadowMatrix[S]=G.shadow.matrix,B++}n.point[S]=ee,S++}else if(G.isHemisphereLight){const ee=e.get(G);ee.skyColor.copy(G.color).multiplyScalar(K),ee.groundColor.copy(G.groundColor).multiplyScalar(K),n.hemi[b]=ee,b++}}E>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=dt.LTC_FLOAT_1,n.rectAreaLTC2=dt.LTC_FLOAT_2):(n.rectAreaLTC1=dt.LTC_HALF_1,n.rectAreaLTC2=dt.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=y,n.ambient[2]=A;const H=n.hash;(H.directionalLength!==_||H.pointLength!==S||H.spotLength!==T||H.rectAreaLength!==E||H.hemiLength!==b||H.numDirectionalShadows!==w||H.numPointShadows!==B||H.numSpotShadows!==D||H.numSpotMaps!==U||H.numLightProbes!==F)&&(n.directional.length=_,n.spot.length=T,n.rectArea.length=E,n.point.length=S,n.hemi.length=b,n.directionalShadow.length=w,n.directionalShadowMap.length=w,n.pointShadow.length=B,n.pointShadowMap.length=B,n.spotShadow.length=D,n.spotShadowMap.length=D,n.directionalShadowMatrix.length=w,n.pointShadowMatrix.length=B,n.spotLightMatrix.length=D+U-P,n.spotLightMap.length=U,n.numSpotLightShadowsWithMaps=P,n.numLightProbes=F,H.directionalLength=_,H.pointLength=S,H.spotLength=T,H.rectAreaLength=E,H.hemiLength=b,H.numDirectionalShadows=w,H.numPointShadows=B,H.numSpotShadows=D,H.numSpotMaps=U,H.numLightProbes=F,n.version=gk++)}function h(p,m){let y=0,A=0,_=0,S=0,T=0;const E=m.matrixWorldInverse;for(let b=0,w=p.length;b<w;b++){const B=p[b];if(B.isDirectionalLight){const D=n.directional[y];D.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(s),D.direction.transformDirection(E),y++}else if(B.isSpotLight){const D=n.spot[_];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),D.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(s),D.direction.transformDirection(E),_++}else if(B.isRectAreaLight){const D=n.rectArea[S];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),o.identity(),a.copy(B.matrixWorld),a.premultiply(E),o.extractRotation(a),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),D.halfWidth.applyMatrix4(o),D.halfHeight.applyMatrix4(o),S++}else if(B.isPointLight){const D=n.point[A];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),A++}else if(B.isHemisphereLight){const D=n.hemi[T];D.direction.setFromMatrixPosition(B.matrixWorld),D.direction.transformDirection(E),T++}}}return{setup:c,setupView:h,state:n}}function Nw(i){const e=new vk(i),t=[],n=[];function s(m){p.camera=m,t.length=0,n.length=0}function a(m){t.push(m)}function o(m){n.push(m)}function c(){e.setup(t)}function h(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:p,setupLights:c,setupLightsView:h,pushLight:a,pushShadow:o}}function Ak(i){let e=new WeakMap;function t(s,a=0){const o=e.get(s);let c;return o===void 0?(c=new Nw(i),e.set(s,[c])):a>=o.length?(c=new Nw(i),o.push(c)):c=o[a],c}function n(){e=new WeakMap}return{get:t,dispose:n}}const _k=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xk=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Sk(i,e,t){let n=new gy;const s=new He,a=new He,o=new Rn,c=new FE({depthPacking:bO}),h=new zE,p={},m=t.maxTextureSize,y={[Sl]:pa,[pa]:Sl,[yo]:yo},A=new xo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new He},radius:{value:4}},vertexShader:_k,fragmentShader:xk}),_=A.clone();_.defines.HORIZONTAL_PASS=1;const S=new Jt;S.setAttribute("position",new Bn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Vi(S,A),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q_;let b=this.type;this.render=function(P,F,H){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||P.length===0)return;const N=i.getRenderTarget(),L=i.getActiveCubeFace(),G=i.getActiveMipmapLevel(),W=i.state;W.setBlending(pc),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const K=b!==mo&&this.type===mo,$=b===mo&&this.type!==mo;for(let ge=0,ee=P.length;ge<ee;ge++){const re=P[ge],se=re.shadow;if(se===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(se.autoUpdate===!1&&se.needsUpdate===!1)continue;s.copy(se.mapSize);const Te=se.getFrameExtents();if(s.multiply(Te),a.copy(se.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(a.x=Math.floor(m/Te.x),s.x=a.x*Te.x,se.mapSize.x=a.x),s.y>m&&(a.y=Math.floor(m/Te.y),s.y=a.y*Te.y,se.mapSize.y=a.y)),se.map===null||K===!0||$===!0){const oe=this.type!==mo?{minFilter:ys,magFilter:ys}:{};se.map!==null&&se.map.dispose(),se.map=new bl(s.x,s.y,oe),se.map.texture.name=re.name+".shadowMap",se.camera.updateProjectionMatrix()}i.setRenderTarget(se.map),i.clear();const Y=se.getViewportCount();for(let oe=0;oe<Y;oe++){const Oe=se.getViewport(oe);o.set(a.x*Oe.x,a.y*Oe.y,a.x*Oe.z,a.y*Oe.w),W.viewport(o),se.updateMatrices(re,oe),n=se.getFrustum(),D(F,H,se.camera,re,this.type)}se.isPointLightShadow!==!0&&this.type===mo&&w(se,H),se.needsUpdate=!1}b=this.type,E.needsUpdate=!1,i.setRenderTarget(N,L,G)};function w(P,F){const H=e.update(T);A.defines.VSM_SAMPLES!==P.blurSamples&&(A.defines.VSM_SAMPLES=P.blurSamples,_.defines.VSM_SAMPLES=P.blurSamples,A.needsUpdate=!0,_.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new bl(s.x,s.y)),A.uniforms.shadow_pass.value=P.map.texture,A.uniforms.resolution.value=P.mapSize,A.uniforms.radius.value=P.radius,i.setRenderTarget(P.mapPass),i.clear(),i.renderBufferDirect(F,null,H,A,T,null),_.uniforms.shadow_pass.value=P.mapPass.texture,_.uniforms.resolution.value=P.mapSize,_.uniforms.radius.value=P.radius,i.setRenderTarget(P.map),i.clear(),i.renderBufferDirect(F,null,H,_,T,null)}function B(P,F,H,N){let L=null;const G=H.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(G!==void 0)L=G;else if(L=H.isPointLight===!0?h:c,i.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0){const W=L.uuid,K=F.uuid;let $=p[W];$===void 0&&($={},p[W]=$);let ge=$[K];ge===void 0&&(ge=L.clone(),$[K]=ge,F.addEventListener("dispose",U)),L=ge}if(L.visible=F.visible,L.wireframe=F.wireframe,N===mo?L.side=F.shadowSide!==null?F.shadowSide:F.side:L.side=F.shadowSide!==null?F.shadowSide:y[F.side],L.alphaMap=F.alphaMap,L.alphaTest=F.alphaTest,L.map=F.map,L.clipShadows=F.clipShadows,L.clippingPlanes=F.clippingPlanes,L.clipIntersection=F.clipIntersection,L.displacementMap=F.displacementMap,L.displacementScale=F.displacementScale,L.displacementBias=F.displacementBias,L.wireframeLinewidth=F.wireframeLinewidth,L.linewidth=F.linewidth,H.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const W=i.properties.get(L);W.light=H}return L}function D(P,F,H,N,L){if(P.visible===!1)return;if(P.layers.test(F.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&L===mo)&&(!P.frustumCulled||n.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,P.matrixWorld);const K=e.update(P),$=P.material;if(Array.isArray($)){const ge=K.groups;for(let ee=0,re=ge.length;ee<re;ee++){const se=ge[ee],Te=$[se.materialIndex];if(Te&&Te.visible){const Y=B(P,Te,N,L);P.onBeforeShadow(i,P,F,H,K,Y,se),i.renderBufferDirect(H,null,K,Y,P,se),P.onAfterShadow(i,P,F,H,K,Y,se)}}}else if($.visible){const ge=B(P,$,N,L);P.onBeforeShadow(i,P,F,H,K,ge,null),i.renderBufferDirect(H,null,K,ge,P,null),P.onAfterShadow(i,P,F,H,K,ge,null)}}const W=P.children;for(let K=0,$=W.length;K<$;K++)D(W[K],F,H,N,L)}function U(P){P.target.removeEventListener("dispose",U);for(const H in p){const N=p[H],L=P.target.uuid;L in N&&(N[L].dispose(),delete N[L])}}}const bk={[VA]:kA,[XA]:qA,[jA]:WA,[hh]:YA,[kA]:VA,[qA]:XA,[WA]:jA,[YA]:hh};function Mk(i,e){function t(){let te=!1;const Qe=new Rn;let Ee=null;const Ie=new Rn(0,0,0,0);return{setMask:function(at){Ee!==at&&!te&&(i.colorMask(at,at,at,at),Ee=at)},setLocked:function(at){te=at},setClear:function(at,rt,St,on,Ln){Ln===!0&&(at*=on,rt*=on,St*=on),Qe.set(at,rt,St,on),Ie.equals(Qe)===!1&&(i.clearColor(at,rt,St,on),Ie.copy(Qe))},reset:function(){te=!1,Ee=null,Ie.set(-1,0,0,0)}}}function n(){let te=!1,Qe=!1,Ee=null,Ie=null,at=null;return{setReversed:function(rt){if(Qe!==rt){const St=e.get("EXT_clip_control");rt?St.clipControlEXT(St.LOWER_LEFT_EXT,St.ZERO_TO_ONE_EXT):St.clipControlEXT(St.LOWER_LEFT_EXT,St.NEGATIVE_ONE_TO_ONE_EXT),Qe=rt;const on=at;at=null,this.setClear(on)}},getReversed:function(){return Qe},setTest:function(rt){rt?Ye(i.DEPTH_TEST):ke(i.DEPTH_TEST)},setMask:function(rt){Ee!==rt&&!te&&(i.depthMask(rt),Ee=rt)},setFunc:function(rt){if(Qe&&(rt=bk[rt]),Ie!==rt){switch(rt){case VA:i.depthFunc(i.NEVER);break;case kA:i.depthFunc(i.ALWAYS);break;case XA:i.depthFunc(i.LESS);break;case hh:i.depthFunc(i.LEQUAL);break;case jA:i.depthFunc(i.EQUAL);break;case YA:i.depthFunc(i.GEQUAL);break;case qA:i.depthFunc(i.GREATER);break;case WA:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}Ie=rt}},setLocked:function(rt){te=rt},setClear:function(rt){at!==rt&&(Qe&&(rt=1-rt),i.clearDepth(rt),at=rt)},reset:function(){te=!1,Ee=null,Ie=null,at=null,Qe=!1}}}function s(){let te=!1,Qe=null,Ee=null,Ie=null,at=null,rt=null,St=null,on=null,Ln=null;return{setTest:function(Wt){te||(Wt?Ye(i.STENCIL_TEST):ke(i.STENCIL_TEST))},setMask:function(Wt){Qe!==Wt&&!te&&(i.stencilMask(Wt),Qe=Wt)},setFunc:function(Wt,ii,fi){(Ee!==Wt||Ie!==ii||at!==fi)&&(i.stencilFunc(Wt,ii,fi),Ee=Wt,Ie=ii,at=fi)},setOp:function(Wt,ii,fi){(rt!==Wt||St!==ii||on!==fi)&&(i.stencilOp(Wt,ii,fi),rt=Wt,St=ii,on=fi)},setLocked:function(Wt){te=Wt},setClear:function(Wt){Ln!==Wt&&(i.clearStencil(Wt),Ln=Wt)},reset:function(){te=!1,Qe=null,Ee=null,Ie=null,at=null,rt=null,St=null,on=null,Ln=null}}}const a=new t,o=new n,c=new s,h=new WeakMap,p=new WeakMap;let m={},y={},A=new WeakMap,_=[],S=null,T=!1,E=null,b=null,w=null,B=null,D=null,U=null,P=null,F=new ut(0,0,0),H=0,N=!1,L=null,G=null,W=null,K=null,$=null;const ge=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,re=0;const se=i.getParameter(i.VERSION);se.indexOf("WebGL")!==-1?(re=parseFloat(/^WebGL (\d)/.exec(se)[1]),ee=re>=1):se.indexOf("OpenGL ES")!==-1&&(re=parseFloat(/^OpenGL ES (\d)/.exec(se)[1]),ee=re>=2);let Te=null,Y={};const oe=i.getParameter(i.SCISSOR_BOX),Oe=i.getParameter(i.VIEWPORT),je=new Rn().fromArray(oe),ie=new Rn().fromArray(Oe);function Re(te,Qe,Ee,Ie){const at=new Uint8Array(4),rt=i.createTexture();i.bindTexture(te,rt),i.texParameteri(te,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(te,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let St=0;St<Ee;St++)te===i.TEXTURE_3D||te===i.TEXTURE_2D_ARRAY?i.texImage3D(Qe,0,i.RGBA,1,1,Ie,0,i.RGBA,i.UNSIGNED_BYTE,at):i.texImage2D(Qe+St,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,at);return rt}const Ge={};Ge[i.TEXTURE_2D]=Re(i.TEXTURE_2D,i.TEXTURE_2D,1),Ge[i.TEXTURE_CUBE_MAP]=Re(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ge[i.TEXTURE_2D_ARRAY]=Re(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),Ge[i.TEXTURE_3D]=Re(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),Ye(i.DEPTH_TEST),o.setFunc(hh),Pe(!1),Ve(Tb),Ye(i.CULL_FACE),Z(pc);function Ye(te){m[te]!==!0&&(i.enable(te),m[te]=!0)}function ke(te){m[te]!==!1&&(i.disable(te),m[te]=!1)}function vt(te,Qe){return y[te]!==Qe?(i.bindFramebuffer(te,Qe),y[te]=Qe,te===i.DRAW_FRAMEBUFFER&&(y[i.FRAMEBUFFER]=Qe),te===i.FRAMEBUFFER&&(y[i.DRAW_FRAMEBUFFER]=Qe),!0):!1}function it(te,Qe){let Ee=_,Ie=!1;if(te){Ee=A.get(Qe),Ee===void 0&&(Ee=[],A.set(Qe,Ee));const at=te.textures;if(Ee.length!==at.length||Ee[0]!==i.COLOR_ATTACHMENT0){for(let rt=0,St=at.length;rt<St;rt++)Ee[rt]=i.COLOR_ATTACHMENT0+rt;Ee.length=at.length,Ie=!0}}else Ee[0]!==i.BACK&&(Ee[0]=i.BACK,Ie=!0);Ie&&i.drawBuffers(Ee)}function Ct(te){return S!==te?(i.useProgram(te),S=te,!0):!1}const Xt={[Mu]:i.FUNC_ADD,[Y3]:i.FUNC_SUBTRACT,[q3]:i.FUNC_REVERSE_SUBTRACT};Xt[W3]=i.MIN,Xt[K3]=i.MAX;const Bt={[J3]:i.ZERO,[Z3]:i.ONE,[Q3]:i.SRC_COLOR,[HA]:i.SRC_ALPHA,[sO]:i.SRC_ALPHA_SATURATE,[nO]:i.DST_COLOR,[eO]:i.DST_ALPHA,[$3]:i.ONE_MINUS_SRC_COLOR,[GA]:i.ONE_MINUS_SRC_ALPHA,[iO]:i.ONE_MINUS_DST_COLOR,[tO]:i.ONE_MINUS_DST_ALPHA,[aO]:i.CONSTANT_COLOR,[rO]:i.ONE_MINUS_CONSTANT_COLOR,[oO]:i.CONSTANT_ALPHA,[lO]:i.ONE_MINUS_CONSTANT_ALPHA};function Z(te,Qe,Ee,Ie,at,rt,St,on,Ln,Wt){if(te===pc){T===!0&&(ke(i.BLEND),T=!1);return}if(T===!1&&(Ye(i.BLEND),T=!0),te!==j3){if(te!==E||Wt!==N){if((b!==Mu||D!==Mu)&&(i.blendEquation(i.FUNC_ADD),b=Mu,D=Mu),Wt)switch(te){case lh:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case Cb:i.blendFunc(i.ONE,i.ONE);break;case Rb:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case wb:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case lh:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case Cb:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case Rb:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case wb:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}w=null,B=null,U=null,P=null,F.set(0,0,0),H=0,E=te,N=Wt}return}at=at||Qe,rt=rt||Ee,St=St||Ie,(Qe!==b||at!==D)&&(i.blendEquationSeparate(Xt[Qe],Xt[at]),b=Qe,D=at),(Ee!==w||Ie!==B||rt!==U||St!==P)&&(i.blendFuncSeparate(Bt[Ee],Bt[Ie],Bt[rt],Bt[St]),w=Ee,B=Ie,U=rt,P=St),(on.equals(F)===!1||Ln!==H)&&(i.blendColor(on.r,on.g,on.b,Ln),F.copy(on),H=Ln),E=te,N=!1}function Mn(te,Qe){te.side===yo?ke(i.CULL_FACE):Ye(i.CULL_FACE);let Ee=te.side===pa;Qe&&(Ee=!Ee),Pe(Ee),te.blending===lh&&te.transparent===!1?Z(pc):Z(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),o.setFunc(te.depthFunc),o.setTest(te.depthTest),o.setMask(te.depthWrite),a.setMask(te.colorWrite);const Ie=te.stencilWrite;c.setTest(Ie),Ie&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),nt(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Ye(i.SAMPLE_ALPHA_TO_COVERAGE):ke(i.SAMPLE_ALPHA_TO_COVERAGE)}function Pe(te){L!==te&&(te?i.frontFace(i.CW):i.frontFace(i.CCW),L=te)}function Ve(te){te!==V3?(Ye(i.CULL_FACE),te!==G&&(te===Tb?i.cullFace(i.BACK):te===k3?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):ke(i.CULL_FACE),G=te}function Le(te){te!==W&&(ee&&i.lineWidth(te),W=te)}function nt(te,Qe,Ee){te?(Ye(i.POLYGON_OFFSET_FILL),(K!==Qe||$!==Ee)&&(i.polygonOffset(Qe,Ee),K=Qe,$=Ee)):ke(i.POLYGON_OFFSET_FILL)}function we(te){te?Ye(i.SCISSOR_TEST):ke(i.SCISSOR_TEST)}function j(te){te===void 0&&(te=i.TEXTURE0+ge-1),Te!==te&&(i.activeTexture(te),Te=te)}function z(te,Qe,Ee){Ee===void 0&&(Te===null?Ee=i.TEXTURE0+ge-1:Ee=Te);let Ie=Y[Ee];Ie===void 0&&(Ie={type:void 0,texture:void 0},Y[Ee]=Ie),(Ie.type!==te||Ie.texture!==Qe)&&(Te!==Ee&&(i.activeTexture(Ee),Te=Ee),i.bindTexture(te,Qe||Ge[te]),Ie.type=te,Ie.texture=Qe)}function fe(){const te=Y[Te];te!==void 0&&te.type!==void 0&&(i.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function Se(){try{i.compressedTexImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ue(){try{i.compressedTexImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function De(){try{i.texSubImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function yt(){try{i.texSubImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function tt(){try{i.compressedTexSubImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function pt(){try{i.compressedTexSubImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function qt(){try{i.texStorage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Je(){try{i.texStorage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function gt(){try{i.texImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function At(){try{i.texImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function mt(te){je.equals(te)===!1&&(i.scissor(te.x,te.y,te.z,te.w),je.copy(te))}function lt(te){ie.equals(te)===!1&&(i.viewport(te.x,te.y,te.z,te.w),ie.copy(te))}function ne(te,Qe){let Ee=p.get(Qe);Ee===void 0&&(Ee=new WeakMap,p.set(Qe,Ee));let Ie=Ee.get(te);Ie===void 0&&(Ie=i.getUniformBlockIndex(Qe,te.name),Ee.set(te,Ie))}function Ce(te,Qe){const Ie=p.get(Qe).get(te);h.get(Qe)!==Ie&&(i.uniformBlockBinding(Qe,Ie,te.__bindingPointIndex),h.set(Qe,Ie))}function ot(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),m={},Te=null,Y={},y={},A=new WeakMap,_=[],S=null,T=!1,E=null,b=null,w=null,B=null,D=null,U=null,P=null,F=new ut(0,0,0),H=0,N=!1,L=null,G=null,W=null,K=null,$=null,je.set(0,0,i.canvas.width,i.canvas.height),ie.set(0,0,i.canvas.width,i.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:Ye,disable:ke,bindFramebuffer:vt,drawBuffers:it,useProgram:Ct,setBlending:Z,setMaterial:Mn,setFlipSided:Pe,setCullFace:Ve,setLineWidth:Le,setPolygonOffset:nt,setScissorTest:we,activeTexture:j,bindTexture:z,unbindTexture:fe,compressedTexImage2D:Se,compressedTexImage3D:Ue,texImage2D:gt,texImage3D:At,updateUBOMapping:ne,uniformBlockBinding:Ce,texStorage2D:qt,texStorage3D:Je,texSubImage2D:De,texSubImage3D:yt,compressedTexSubImage2D:tt,compressedTexSubImage3D:pt,scissor:mt,viewport:lt,reset:ot}}function Ek(i,e,t,n,s,a,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new He,m=new WeakMap;let y;const A=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(j,z){return _?new OffscreenCanvas(j,z):Wg("canvas")}function T(j,z,fe){let Se=1;const Ue=we(j);if((Ue.width>fe||Ue.height>fe)&&(Se=fe/Math.max(Ue.width,Ue.height)),Se<1)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap||typeof VideoFrame<"u"&&j instanceof VideoFrame){const De=Math.floor(Se*Ue.width),yt=Math.floor(Se*Ue.height);y===void 0&&(y=S(De,yt));const tt=z?S(De,yt):y;return tt.width=De,tt.height=yt,tt.getContext("2d").drawImage(j,0,0,De,yt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+De+"x"+yt+")."),tt}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),j;return j}function E(j){return j.generateMipmaps}function b(j){i.generateMipmap(j)}function w(j){return j.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:j.isWebGL3DRenderTarget?i.TEXTURE_3D:j.isWebGLArrayRenderTarget||j.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function B(j,z,fe,Se,Ue=!1){if(j!==null){if(i[j]!==void 0)return i[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let De=z;if(z===i.RED&&(fe===i.FLOAT&&(De=i.R32F),fe===i.HALF_FLOAT&&(De=i.R16F),fe===i.UNSIGNED_BYTE&&(De=i.R8)),z===i.RED_INTEGER&&(fe===i.UNSIGNED_BYTE&&(De=i.R8UI),fe===i.UNSIGNED_SHORT&&(De=i.R16UI),fe===i.UNSIGNED_INT&&(De=i.R32UI),fe===i.BYTE&&(De=i.R8I),fe===i.SHORT&&(De=i.R16I),fe===i.INT&&(De=i.R32I)),z===i.RG&&(fe===i.FLOAT&&(De=i.RG32F),fe===i.HALF_FLOAT&&(De=i.RG16F),fe===i.UNSIGNED_BYTE&&(De=i.RG8)),z===i.RG_INTEGER&&(fe===i.UNSIGNED_BYTE&&(De=i.RG8UI),fe===i.UNSIGNED_SHORT&&(De=i.RG16UI),fe===i.UNSIGNED_INT&&(De=i.RG32UI),fe===i.BYTE&&(De=i.RG8I),fe===i.SHORT&&(De=i.RG16I),fe===i.INT&&(De=i.RG32I)),z===i.RGB_INTEGER&&(fe===i.UNSIGNED_BYTE&&(De=i.RGB8UI),fe===i.UNSIGNED_SHORT&&(De=i.RGB16UI),fe===i.UNSIGNED_INT&&(De=i.RGB32UI),fe===i.BYTE&&(De=i.RGB8I),fe===i.SHORT&&(De=i.RGB16I),fe===i.INT&&(De=i.RGB32I)),z===i.RGBA_INTEGER&&(fe===i.UNSIGNED_BYTE&&(De=i.RGBA8UI),fe===i.UNSIGNED_SHORT&&(De=i.RGBA16UI),fe===i.UNSIGNED_INT&&(De=i.RGBA32UI),fe===i.BYTE&&(De=i.RGBA8I),fe===i.SHORT&&(De=i.RGBA16I),fe===i.INT&&(De=i.RGBA32I)),z===i.RGB&&fe===i.UNSIGNED_INT_5_9_9_9_REV&&(De=i.RGB9_E5),z===i.RGBA){const yt=Ue?jg:bn.getTransfer(Se);fe===i.FLOAT&&(De=i.RGBA32F),fe===i.HALF_FLOAT&&(De=i.RGBA16F),fe===i.UNSIGNED_BYTE&&(De=yt===kn?i.SRGB8_ALPHA8:i.RGBA8),fe===i.UNSIGNED_SHORT_4_4_4_4&&(De=i.RGBA4),fe===i.UNSIGNED_SHORT_5_5_5_1&&(De=i.RGB5_A1)}return(De===i.R16F||De===i.R32F||De===i.RG16F||De===i.RG32F||De===i.RGBA16F||De===i.RGBA32F)&&e.get("EXT_color_buffer_float"),De}function D(j,z){let fe;return j?z===null||z===Ac||z===up?fe=i.DEPTH24_STENCIL8:z===La?fe=i.DEPTH32F_STENCIL8:z===cp&&(fe=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):z===null||z===Ac||z===up?fe=i.DEPTH_COMPONENT24:z===La?fe=i.DEPTH_COMPONENT32F:z===cp&&(fe=i.DEPTH_COMPONENT16),fe}function U(j,z){return E(j)===!0||j.isFramebufferTexture&&j.minFilter!==ys&&j.minFilter!==Gi?Math.log2(Math.max(z.width,z.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?z.mipmaps.length:1}function P(j){const z=j.target;z.removeEventListener("dispose",P),H(z),z.isVideoTexture&&m.delete(z)}function F(j){const z=j.target;z.removeEventListener("dispose",F),L(z)}function H(j){const z=n.get(j);if(z.__webglInit===void 0)return;const fe=j.source,Se=A.get(fe);if(Se){const Ue=Se[z.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&N(j),Object.keys(Se).length===0&&A.delete(fe)}n.remove(j)}function N(j){const z=n.get(j);i.deleteTexture(z.__webglTexture);const fe=j.source,Se=A.get(fe);delete Se[z.__cacheKey],o.memory.textures--}function L(j){const z=n.get(j);if(j.depthTexture&&(j.depthTexture.dispose(),n.remove(j.depthTexture)),j.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(z.__webglFramebuffer[Se]))for(let Ue=0;Ue<z.__webglFramebuffer[Se].length;Ue++)i.deleteFramebuffer(z.__webglFramebuffer[Se][Ue]);else i.deleteFramebuffer(z.__webglFramebuffer[Se]);z.__webglDepthbuffer&&i.deleteRenderbuffer(z.__webglDepthbuffer[Se])}else{if(Array.isArray(z.__webglFramebuffer))for(let Se=0;Se<z.__webglFramebuffer.length;Se++)i.deleteFramebuffer(z.__webglFramebuffer[Se]);else i.deleteFramebuffer(z.__webglFramebuffer);if(z.__webglDepthbuffer&&i.deleteRenderbuffer(z.__webglDepthbuffer),z.__webglMultisampledFramebuffer&&i.deleteFramebuffer(z.__webglMultisampledFramebuffer),z.__webglColorRenderbuffer)for(let Se=0;Se<z.__webglColorRenderbuffer.length;Se++)z.__webglColorRenderbuffer[Se]&&i.deleteRenderbuffer(z.__webglColorRenderbuffer[Se]);z.__webglDepthRenderbuffer&&i.deleteRenderbuffer(z.__webglDepthRenderbuffer)}const fe=j.textures;for(let Se=0,Ue=fe.length;Se<Ue;Se++){const De=n.get(fe[Se]);De.__webglTexture&&(i.deleteTexture(De.__webglTexture),o.memory.textures--),n.remove(fe[Se])}n.remove(j)}let G=0;function W(){G=0}function K(){const j=G;return j>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+s.maxTextures),G+=1,j}function $(j){const z=[];return z.push(j.wrapS),z.push(j.wrapT),z.push(j.wrapR||0),z.push(j.magFilter),z.push(j.minFilter),z.push(j.anisotropy),z.push(j.internalFormat),z.push(j.format),z.push(j.type),z.push(j.generateMipmaps),z.push(j.premultiplyAlpha),z.push(j.flipY),z.push(j.unpackAlignment),z.push(j.colorSpace),z.join()}function ge(j,z){const fe=n.get(j);if(j.isVideoTexture&&Le(j),j.isRenderTargetTexture===!1&&j.version>0&&fe.__version!==j.version){const Se=j.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ie(fe,j,z);return}}t.bindTexture(i.TEXTURE_2D,fe.__webglTexture,i.TEXTURE0+z)}function ee(j,z){const fe=n.get(j);if(j.version>0&&fe.__version!==j.version){ie(fe,j,z);return}t.bindTexture(i.TEXTURE_2D_ARRAY,fe.__webglTexture,i.TEXTURE0+z)}function re(j,z){const fe=n.get(j);if(j.version>0&&fe.__version!==j.version){ie(fe,j,z);return}t.bindTexture(i.TEXTURE_3D,fe.__webglTexture,i.TEXTURE0+z)}function se(j,z){const fe=n.get(j);if(j.version>0&&fe.__version!==j.version){Re(fe,j,z);return}t.bindTexture(i.TEXTURE_CUBE_MAP,fe.__webglTexture,i.TEXTURE0+z)}const Te={[Bu]:i.REPEAT,[$a]:i.CLAMP_TO_EDGE,[lp]:i.MIRRORED_REPEAT},Y={[ys]:i.NEAREST,[K_]:i.NEAREST_MIPMAP_NEAREST,[$f]:i.NEAREST_MIPMAP_LINEAR,[Gi]:i.LINEAR,[ep]:i.LINEAR_MIPMAP_NEAREST,[Tr]:i.LINEAR_MIPMAP_LINEAR},oe={[EO]:i.NEVER,[DO]:i.ALWAYS,[TO]:i.LESS,[xE]:i.LEQUAL,[CO]:i.EQUAL,[BO]:i.GEQUAL,[RO]:i.GREATER,[wO]:i.NOTEQUAL};function Oe(j,z){if(z.type===La&&e.has("OES_texture_float_linear")===!1&&(z.magFilter===Gi||z.magFilter===ep||z.magFilter===$f||z.magFilter===Tr||z.minFilter===Gi||z.minFilter===ep||z.minFilter===$f||z.minFilter===Tr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(j,i.TEXTURE_WRAP_S,Te[z.wrapS]),i.texParameteri(j,i.TEXTURE_WRAP_T,Te[z.wrapT]),(j===i.TEXTURE_3D||j===i.TEXTURE_2D_ARRAY)&&i.texParameteri(j,i.TEXTURE_WRAP_R,Te[z.wrapR]),i.texParameteri(j,i.TEXTURE_MAG_FILTER,Y[z.magFilter]),i.texParameteri(j,i.TEXTURE_MIN_FILTER,Y[z.minFilter]),z.compareFunction&&(i.texParameteri(j,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(j,i.TEXTURE_COMPARE_FUNC,oe[z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(z.magFilter===ys||z.minFilter!==$f&&z.minFilter!==Tr||z.type===La&&e.has("OES_texture_float_linear")===!1)return;if(z.anisotropy>1||n.get(z).__currentAnisotropy){const fe=e.get("EXT_texture_filter_anisotropic");i.texParameterf(j,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,s.getMaxAnisotropy())),n.get(z).__currentAnisotropy=z.anisotropy}}}function je(j,z){let fe=!1;j.__webglInit===void 0&&(j.__webglInit=!0,z.addEventListener("dispose",P));const Se=z.source;let Ue=A.get(Se);Ue===void 0&&(Ue={},A.set(Se,Ue));const De=$(z);if(De!==j.__cacheKey){Ue[De]===void 0&&(Ue[De]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Ue[De].usedTimes++;const yt=Ue[j.__cacheKey];yt!==void 0&&(Ue[j.__cacheKey].usedTimes--,yt.usedTimes===0&&N(z)),j.__cacheKey=De,j.__webglTexture=Ue[De].texture}return fe}function ie(j,z,fe){let Se=i.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Se=i.TEXTURE_2D_ARRAY),z.isData3DTexture&&(Se=i.TEXTURE_3D);const Ue=je(j,z),De=z.source;t.bindTexture(Se,j.__webglTexture,i.TEXTURE0+fe);const yt=n.get(De);if(De.version!==yt.__version||Ue===!0){t.activeTexture(i.TEXTURE0+fe);const tt=bn.getPrimaries(bn.workingColorSpace),pt=z.colorSpace===uc?null:bn.getPrimaries(z.colorSpace),qt=z.colorSpace===uc||tt===pt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,z.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,z.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,qt);let Je=T(z.image,!1,s.maxTextureSize);Je=nt(z,Je);const gt=a.convert(z.format,z.colorSpace),At=a.convert(z.type);let mt=B(z.internalFormat,gt,At,z.colorSpace,z.isVideoTexture);Oe(Se,z);let lt;const ne=z.mipmaps,Ce=z.isVideoTexture!==!0,ot=yt.__version===void 0||Ue===!0,te=De.dataReady,Qe=U(z,Je);if(z.isDepthTexture)mt=D(z.format===hp,z.type),ot&&(Ce?t.texStorage2D(i.TEXTURE_2D,1,mt,Je.width,Je.height):t.texImage2D(i.TEXTURE_2D,0,mt,Je.width,Je.height,0,gt,At,null));else if(z.isDataTexture)if(ne.length>0){Ce&&ot&&t.texStorage2D(i.TEXTURE_2D,Qe,mt,ne[0].width,ne[0].height);for(let Ee=0,Ie=ne.length;Ee<Ie;Ee++)lt=ne[Ee],Ce?te&&t.texSubImage2D(i.TEXTURE_2D,Ee,0,0,lt.width,lt.height,gt,At,lt.data):t.texImage2D(i.TEXTURE_2D,Ee,mt,lt.width,lt.height,0,gt,At,lt.data);z.generateMipmaps=!1}else Ce?(ot&&t.texStorage2D(i.TEXTURE_2D,Qe,mt,Je.width,Je.height),te&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,Je.width,Je.height,gt,At,Je.data)):t.texImage2D(i.TEXTURE_2D,0,mt,Je.width,Je.height,0,gt,At,Je.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){Ce&&ot&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Qe,mt,ne[0].width,ne[0].height,Je.depth);for(let Ee=0,Ie=ne.length;Ee<Ie;Ee++)if(lt=ne[Ee],z.format!==Ws)if(gt!==null)if(Ce){if(te)if(z.layerUpdates.size>0){const at=zb(lt.width,lt.height,z.format,z.type);for(const rt of z.layerUpdates){const St=lt.data.subarray(rt*at/lt.data.BYTES_PER_ELEMENT,(rt+1)*at/lt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ee,0,0,rt,lt.width,lt.height,1,gt,St)}z.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ee,0,0,0,lt.width,lt.height,Je.depth,gt,lt.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Ee,mt,lt.width,lt.height,Je.depth,0,lt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ce?te&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,Ee,0,0,0,lt.width,lt.height,Je.depth,gt,At,lt.data):t.texImage3D(i.TEXTURE_2D_ARRAY,Ee,mt,lt.width,lt.height,Je.depth,0,gt,At,lt.data)}else{Ce&&ot&&t.texStorage2D(i.TEXTURE_2D,Qe,mt,ne[0].width,ne[0].height);for(let Ee=0,Ie=ne.length;Ee<Ie;Ee++)lt=ne[Ee],z.format!==Ws?gt!==null?Ce?te&&t.compressedTexSubImage2D(i.TEXTURE_2D,Ee,0,0,lt.width,lt.height,gt,lt.data):t.compressedTexImage2D(i.TEXTURE_2D,Ee,mt,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ce?te&&t.texSubImage2D(i.TEXTURE_2D,Ee,0,0,lt.width,lt.height,gt,At,lt.data):t.texImage2D(i.TEXTURE_2D,Ee,mt,lt.width,lt.height,0,gt,At,lt.data)}else if(z.isDataArrayTexture)if(Ce){if(ot&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Qe,mt,Je.width,Je.height,Je.depth),te)if(z.layerUpdates.size>0){const Ee=zb(Je.width,Je.height,z.format,z.type);for(const Ie of z.layerUpdates){const at=Je.data.subarray(Ie*Ee/Je.data.BYTES_PER_ELEMENT,(Ie+1)*Ee/Je.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ie,Je.width,Je.height,1,gt,At,at)}z.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,gt,At,Je.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,mt,Je.width,Je.height,Je.depth,0,gt,At,Je.data);else if(z.isData3DTexture)Ce?(ot&&t.texStorage3D(i.TEXTURE_3D,Qe,mt,Je.width,Je.height,Je.depth),te&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,gt,At,Je.data)):t.texImage3D(i.TEXTURE_3D,0,mt,Je.width,Je.height,Je.depth,0,gt,At,Je.data);else if(z.isFramebufferTexture){if(ot)if(Ce)t.texStorage2D(i.TEXTURE_2D,Qe,mt,Je.width,Je.height);else{let Ee=Je.width,Ie=Je.height;for(let at=0;at<Qe;at++)t.texImage2D(i.TEXTURE_2D,at,mt,Ee,Ie,0,gt,At,null),Ee>>=1,Ie>>=1}}else if(ne.length>0){if(Ce&&ot){const Ee=we(ne[0]);t.texStorage2D(i.TEXTURE_2D,Qe,mt,Ee.width,Ee.height)}for(let Ee=0,Ie=ne.length;Ee<Ie;Ee++)lt=ne[Ee],Ce?te&&t.texSubImage2D(i.TEXTURE_2D,Ee,0,0,gt,At,lt):t.texImage2D(i.TEXTURE_2D,Ee,mt,gt,At,lt);z.generateMipmaps=!1}else if(Ce){if(ot){const Ee=we(Je);t.texStorage2D(i.TEXTURE_2D,Qe,mt,Ee.width,Ee.height)}te&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,gt,At,Je)}else t.texImage2D(i.TEXTURE_2D,0,mt,gt,At,Je);E(z)&&b(Se),yt.__version=De.version,z.onUpdate&&z.onUpdate(z)}j.__version=z.version}function Re(j,z,fe){if(z.image.length!==6)return;const Se=je(j,z),Ue=z.source;t.bindTexture(i.TEXTURE_CUBE_MAP,j.__webglTexture,i.TEXTURE0+fe);const De=n.get(Ue);if(Ue.version!==De.__version||Se===!0){t.activeTexture(i.TEXTURE0+fe);const yt=bn.getPrimaries(bn.workingColorSpace),tt=z.colorSpace===uc?null:bn.getPrimaries(z.colorSpace),pt=z.colorSpace===uc||yt===tt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,z.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,z.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const qt=z.isCompressedTexture||z.image[0].isCompressedTexture,Je=z.image[0]&&z.image[0].isDataTexture,gt=[];for(let Ie=0;Ie<6;Ie++)!qt&&!Je?gt[Ie]=T(z.image[Ie],!0,s.maxCubemapSize):gt[Ie]=Je?z.image[Ie].image:z.image[Ie],gt[Ie]=nt(z,gt[Ie]);const At=gt[0],mt=a.convert(z.format,z.colorSpace),lt=a.convert(z.type),ne=B(z.internalFormat,mt,lt,z.colorSpace),Ce=z.isVideoTexture!==!0,ot=De.__version===void 0||Se===!0,te=Ue.dataReady;let Qe=U(z,At);Oe(i.TEXTURE_CUBE_MAP,z);let Ee;if(qt){Ce&&ot&&t.texStorage2D(i.TEXTURE_CUBE_MAP,Qe,ne,At.width,At.height);for(let Ie=0;Ie<6;Ie++){Ee=gt[Ie].mipmaps;for(let at=0;at<Ee.length;at++){const rt=Ee[at];z.format!==Ws?mt!==null?Ce?te&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,at,0,0,rt.width,rt.height,mt,rt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,at,ne,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ce?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,at,0,0,rt.width,rt.height,mt,lt,rt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,at,ne,rt.width,rt.height,0,mt,lt,rt.data)}}}else{if(Ee=z.mipmaps,Ce&&ot){Ee.length>0&&Qe++;const Ie=we(gt[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,Qe,ne,Ie.width,Ie.height)}for(let Ie=0;Ie<6;Ie++)if(Je){Ce?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,gt[Ie].width,gt[Ie].height,mt,lt,gt[Ie].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,ne,gt[Ie].width,gt[Ie].height,0,mt,lt,gt[Ie].data);for(let at=0;at<Ee.length;at++){const St=Ee[at].image[Ie].image;Ce?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,at+1,0,0,St.width,St.height,mt,lt,St.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,at+1,ne,St.width,St.height,0,mt,lt,St.data)}}else{Ce?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,mt,lt,gt[Ie]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,ne,mt,lt,gt[Ie]);for(let at=0;at<Ee.length;at++){const rt=Ee[at];Ce?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,at+1,0,0,mt,lt,rt.image[Ie]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,at+1,ne,mt,lt,rt.image[Ie])}}}E(z)&&b(i.TEXTURE_CUBE_MAP),De.__version=Ue.version,z.onUpdate&&z.onUpdate(z)}j.__version=z.version}function Ge(j,z,fe,Se,Ue,De){const yt=a.convert(fe.format,fe.colorSpace),tt=a.convert(fe.type),pt=B(fe.internalFormat,yt,tt,fe.colorSpace),qt=n.get(z),Je=n.get(fe);if(Je.__renderTarget=z,!qt.__hasExternalTextures){const gt=Math.max(1,z.width>>De),At=Math.max(1,z.height>>De);Ue===i.TEXTURE_3D||Ue===i.TEXTURE_2D_ARRAY?t.texImage3D(Ue,De,pt,gt,At,z.depth,0,yt,tt,null):t.texImage2D(Ue,De,pt,gt,At,0,yt,tt,null)}t.bindFramebuffer(i.FRAMEBUFFER,j),Ve(z)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Se,Ue,Je.__webglTexture,0,Pe(z)):(Ue===i.TEXTURE_2D||Ue>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Se,Ue,Je.__webglTexture,De),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Ye(j,z,fe){if(i.bindRenderbuffer(i.RENDERBUFFER,j),z.depthBuffer){const Se=z.depthTexture,Ue=Se&&Se.isDepthTexture?Se.type:null,De=D(z.stencilBuffer,Ue),yt=z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,tt=Pe(z);Ve(z)?c.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,tt,De,z.width,z.height):fe?i.renderbufferStorageMultisample(i.RENDERBUFFER,tt,De,z.width,z.height):i.renderbufferStorage(i.RENDERBUFFER,De,z.width,z.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,yt,i.RENDERBUFFER,j)}else{const Se=z.textures;for(let Ue=0;Ue<Se.length;Ue++){const De=Se[Ue],yt=a.convert(De.format,De.colorSpace),tt=a.convert(De.type),pt=B(De.internalFormat,yt,tt,De.colorSpace),qt=Pe(z);fe&&Ve(z)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,qt,pt,z.width,z.height):Ve(z)?c.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,qt,pt,z.width,z.height):i.renderbufferStorage(i.RENDERBUFFER,pt,z.width,z.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function ke(j,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,j),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Se=n.get(z.depthTexture);Se.__renderTarget=z,(!Se.__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),ge(z.depthTexture,0);const Ue=Se.__webglTexture,De=Pe(z);if(z.depthTexture.format===fp)Ve(z)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ue,0,De):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ue,0);else if(z.depthTexture.format===hp)Ve(z)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ue,0,De):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ue,0);else throw new Error("Unknown depthTexture format")}function vt(j){const z=n.get(j),fe=j.isWebGLCubeRenderTarget===!0;if(z.__boundDepthTexture!==j.depthTexture){const Se=j.depthTexture;if(z.__depthDisposeCallback&&z.__depthDisposeCallback(),Se){const Ue=()=>{delete z.__boundDepthTexture,delete z.__depthDisposeCallback,Se.removeEventListener("dispose",Ue)};Se.addEventListener("dispose",Ue),z.__depthDisposeCallback=Ue}z.__boundDepthTexture=Se}if(j.depthTexture&&!z.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");ke(z.__webglFramebuffer,j)}else if(fe){z.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)if(t.bindFramebuffer(i.FRAMEBUFFER,z.__webglFramebuffer[Se]),z.__webglDepthbuffer[Se]===void 0)z.__webglDepthbuffer[Se]=i.createRenderbuffer(),Ye(z.__webglDepthbuffer[Se],j,!1);else{const Ue=j.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,De=z.__webglDepthbuffer[Se];i.bindRenderbuffer(i.RENDERBUFFER,De),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ue,i.RENDERBUFFER,De)}}else if(t.bindFramebuffer(i.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer===void 0)z.__webglDepthbuffer=i.createRenderbuffer(),Ye(z.__webglDepthbuffer,j,!1);else{const Se=j.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ue=z.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Ue),i.framebufferRenderbuffer(i.FRAMEBUFFER,Se,i.RENDERBUFFER,Ue)}t.bindFramebuffer(i.FRAMEBUFFER,null)}function it(j,z,fe){const Se=n.get(j);z!==void 0&&Ge(Se.__webglFramebuffer,j,j.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),fe!==void 0&&vt(j)}function Ct(j){const z=j.texture,fe=n.get(j),Se=n.get(z);j.addEventListener("dispose",F);const Ue=j.textures,De=j.isWebGLCubeRenderTarget===!0,yt=Ue.length>1;if(yt||(Se.__webglTexture===void 0&&(Se.__webglTexture=i.createTexture()),Se.__version=z.version,o.memory.textures++),De){fe.__webglFramebuffer=[];for(let tt=0;tt<6;tt++)if(z.mipmaps&&z.mipmaps.length>0){fe.__webglFramebuffer[tt]=[];for(let pt=0;pt<z.mipmaps.length;pt++)fe.__webglFramebuffer[tt][pt]=i.createFramebuffer()}else fe.__webglFramebuffer[tt]=i.createFramebuffer()}else{if(z.mipmaps&&z.mipmaps.length>0){fe.__webglFramebuffer=[];for(let tt=0;tt<z.mipmaps.length;tt++)fe.__webglFramebuffer[tt]=i.createFramebuffer()}else fe.__webglFramebuffer=i.createFramebuffer();if(yt)for(let tt=0,pt=Ue.length;tt<pt;tt++){const qt=n.get(Ue[tt]);qt.__webglTexture===void 0&&(qt.__webglTexture=i.createTexture(),o.memory.textures++)}if(j.samples>0&&Ve(j)===!1){fe.__webglMultisampledFramebuffer=i.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let tt=0;tt<Ue.length;tt++){const pt=Ue[tt];fe.__webglColorRenderbuffer[tt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,fe.__webglColorRenderbuffer[tt]);const qt=a.convert(pt.format,pt.colorSpace),Je=a.convert(pt.type),gt=B(pt.internalFormat,qt,Je,pt.colorSpace,j.isXRRenderTarget===!0),At=Pe(j);i.renderbufferStorageMultisample(i.RENDERBUFFER,At,gt,j.width,j.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+tt,i.RENDERBUFFER,fe.__webglColorRenderbuffer[tt])}i.bindRenderbuffer(i.RENDERBUFFER,null),j.depthBuffer&&(fe.__webglDepthRenderbuffer=i.createRenderbuffer(),Ye(fe.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(De){t.bindTexture(i.TEXTURE_CUBE_MAP,Se.__webglTexture),Oe(i.TEXTURE_CUBE_MAP,z);for(let tt=0;tt<6;tt++)if(z.mipmaps&&z.mipmaps.length>0)for(let pt=0;pt<z.mipmaps.length;pt++)Ge(fe.__webglFramebuffer[tt][pt],j,z,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+tt,pt);else Ge(fe.__webglFramebuffer[tt],j,z,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0);E(z)&&b(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(yt){for(let tt=0,pt=Ue.length;tt<pt;tt++){const qt=Ue[tt],Je=n.get(qt);t.bindTexture(i.TEXTURE_2D,Je.__webglTexture),Oe(i.TEXTURE_2D,qt),Ge(fe.__webglFramebuffer,j,qt,i.COLOR_ATTACHMENT0+tt,i.TEXTURE_2D,0),E(qt)&&b(i.TEXTURE_2D)}t.unbindTexture()}else{let tt=i.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(tt=j.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(tt,Se.__webglTexture),Oe(tt,z),z.mipmaps&&z.mipmaps.length>0)for(let pt=0;pt<z.mipmaps.length;pt++)Ge(fe.__webglFramebuffer[pt],j,z,i.COLOR_ATTACHMENT0,tt,pt);else Ge(fe.__webglFramebuffer,j,z,i.COLOR_ATTACHMENT0,tt,0);E(z)&&b(tt),t.unbindTexture()}j.depthBuffer&&vt(j)}function Xt(j){const z=j.textures;for(let fe=0,Se=z.length;fe<Se;fe++){const Ue=z[fe];if(E(Ue)){const De=w(j),yt=n.get(Ue).__webglTexture;t.bindTexture(De,yt),b(De),t.unbindTexture()}}}const Bt=[],Z=[];function Mn(j){if(j.samples>0){if(Ve(j)===!1){const z=j.textures,fe=j.width,Se=j.height;let Ue=i.COLOR_BUFFER_BIT;const De=j.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,yt=n.get(j),tt=z.length>1;if(tt)for(let pt=0;pt<z.length;pt++)t.bindFramebuffer(i.FRAMEBUFFER,yt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+pt,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,yt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+pt,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,yt.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,yt.__webglFramebuffer);for(let pt=0;pt<z.length;pt++){if(j.resolveDepthBuffer&&(j.depthBuffer&&(Ue|=i.DEPTH_BUFFER_BIT),j.stencilBuffer&&j.resolveStencilBuffer&&(Ue|=i.STENCIL_BUFFER_BIT)),tt){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,yt.__webglColorRenderbuffer[pt]);const qt=n.get(z[pt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,qt,0)}i.blitFramebuffer(0,0,fe,Se,0,0,fe,Se,Ue,i.NEAREST),h===!0&&(Bt.length=0,Z.length=0,Bt.push(i.COLOR_ATTACHMENT0+pt),j.depthBuffer&&j.resolveDepthBuffer===!1&&(Bt.push(De),Z.push(De),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Z)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Bt))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),tt)for(let pt=0;pt<z.length;pt++){t.bindFramebuffer(i.FRAMEBUFFER,yt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+pt,i.RENDERBUFFER,yt.__webglColorRenderbuffer[pt]);const qt=n.get(z[pt]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,yt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+pt,i.TEXTURE_2D,qt,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,yt.__webglMultisampledFramebuffer)}else if(j.depthBuffer&&j.resolveDepthBuffer===!1&&h){const z=j.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[z])}}}function Pe(j){return Math.min(s.maxSamples,j.samples)}function Ve(j){const z=n.get(j);return j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function Le(j){const z=o.render.frame;m.get(j)!==z&&(m.set(j,z),j.update())}function nt(j,z){const fe=j.colorSpace,Se=j.format,Ue=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||fe!==Du&&fe!==uc&&(bn.getTransfer(fe)===kn?(Se!==Ws||Ue!==_o)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),z}function we(j){return typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement?(p.width=j.naturalWidth||j.width,p.height=j.naturalHeight||j.height):typeof VideoFrame<"u"&&j instanceof VideoFrame?(p.width=j.displayWidth,p.height=j.displayHeight):(p.width=j.width,p.height=j.height),p}this.allocateTextureUnit=K,this.resetTextureUnits=W,this.setTexture2D=ge,this.setTexture2DArray=ee,this.setTexture3D=re,this.setTextureCube=se,this.rebindTextures=it,this.setupRenderTarget=Ct,this.updateRenderTargetMipmap=Xt,this.updateMultisampleRenderTarget=Mn,this.setupDepthRenderbuffer=vt,this.setupFrameBufferTexture=Ge,this.useMultisampledRTT=Ve}function FL(i,e){function t(n,s=uc){let a;const o=bn.getTransfer(s);if(n===_o)return i.UNSIGNED_BYTE;if(n===Z_)return i.UNSIGNED_SHORT_4_4_4_4;if(n===Q_)return i.UNSIGNED_SHORT_5_5_5_1;if(n===hE)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===uE)return i.BYTE;if(n===fE)return i.SHORT;if(n===cp)return i.UNSIGNED_SHORT;if(n===J_)return i.INT;if(n===Ac)return i.UNSIGNED_INT;if(n===La)return i.FLOAT;if(n===Ep)return i.HALF_FLOAT;if(n===dE)return i.ALPHA;if(n===pE)return i.RGB;if(n===Ws)return i.RGBA;if(n===mE)return i.LUMINANCE;if(n===gE)return i.LUMINANCE_ALPHA;if(n===fp)return i.DEPTH_COMPONENT;if(n===hp)return i.DEPTH_STENCIL;if(n===$_)return i.RED;if(n===fy)return i.RED_INTEGER;if(n===yE)return i.RG;if(n===ex)return i.RG_INTEGER;if(n===tx)return i.RGBA_INTEGER;if(n===Mg||n===Eg||n===Tg||n===Cg)if(o===kn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===Mg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Eg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Tg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Cg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===Mg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Eg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Tg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Cg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===KA||n===JA||n===ZA||n===QA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===KA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===JA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ZA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===QA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===$A||n===e_||n===t_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===$A||n===e_)return o===kn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===t_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===n_||n===i_||n===s_||n===a_||n===r_||n===o_||n===l_||n===c_||n===u_||n===f_||n===h_||n===d_||n===p_||n===m_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===n_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===i_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===s_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===a_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===r_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===o_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===l_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===c_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===u_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===f_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===h_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===d_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===p_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===m_)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===Rg||n===g_||n===y_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===Rg)return o===kn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===g_)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===y_)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===vE||n===v_||n===A_||n===__)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===Rg)return a.COMPRESSED_RED_RGTC1_EXT;if(n===v_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===A_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===__)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===up?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const Tk=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Ck=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Rk{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const s=new ui,a=e.properties.get(s);a.__webglTexture=t.texture,(t.depthNear!==n.depthNear||t.depthFar!==n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new xo({vertexShader:Tk,fragmentShader:Ck,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Vi(new Cp(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class wk extends Ml{constructor(e,t){super();const n=this;let s=null,a=1,o=null,c="local-floor",h=1,p=null,m=null,y=null,A=null,_=null,S=null;const T=new Rk,E=t.getContextAttributes();let b=null,w=null;const B=[],D=[],U=new He;let P=null;const F=new Ni;F.viewport=new Rn;const H=new Ni;H.viewport=new Rn;const N=[F,H],L=new TL;let G=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let Re=B[ie];return Re===void 0&&(Re=new MA,B[ie]=Re),Re.getTargetRaySpace()},this.getControllerGrip=function(ie){let Re=B[ie];return Re===void 0&&(Re=new MA,B[ie]=Re),Re.getGripSpace()},this.getHand=function(ie){let Re=B[ie];return Re===void 0&&(Re=new MA,B[ie]=Re),Re.getHandSpace()};function K(ie){const Re=D.indexOf(ie.inputSource);if(Re===-1)return;const Ge=B[Re];Ge!==void 0&&(Ge.update(ie.inputSource,ie.frame,p||o),Ge.dispatchEvent({type:ie.type,data:ie.inputSource}))}function $(){s.removeEventListener("select",K),s.removeEventListener("selectstart",K),s.removeEventListener("selectend",K),s.removeEventListener("squeeze",K),s.removeEventListener("squeezestart",K),s.removeEventListener("squeezeend",K),s.removeEventListener("end",$),s.removeEventListener("inputsourceschange",ge);for(let ie=0;ie<B.length;ie++){const Re=D[ie];Re!==null&&(D[ie]=null,B[ie].disconnect(Re))}G=null,W=null,T.reset(),e.setRenderTarget(b),_=null,A=null,y=null,s=null,w=null,je.stop(),n.isPresenting=!1,e.setPixelRatio(P),e.setSize(U.width,U.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){a=ie,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){c=ie,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||o},this.setReferenceSpace=function(ie){p=ie},this.getBaseLayer=function(){return A!==null?A:_},this.getBinding=function(){return y},this.getFrame=function(){return S},this.getSession=function(){return s},this.setSession=async function(ie){if(s=ie,s!==null){if(b=e.getRenderTarget(),s.addEventListener("select",K),s.addEventListener("selectstart",K),s.addEventListener("selectend",K),s.addEventListener("squeeze",K),s.addEventListener("squeezestart",K),s.addEventListener("squeezeend",K),s.addEventListener("end",$),s.addEventListener("inputsourceschange",ge),E.xrCompatible!==!0&&await t.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(U),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ge=null,Ye=null,ke=null;E.depth&&(ke=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ge=E.stencil?hp:fp,Ye=E.stencil?up:Ac);const vt={colorFormat:t.RGBA8,depthFormat:ke,scaleFactor:a};y=new XRWebGLBinding(s,t),A=y.createProjectionLayer(vt),s.updateRenderState({layers:[A]}),e.setPixelRatio(1),e.setSize(A.textureWidth,A.textureHeight,!1),w=new bl(A.textureWidth,A.textureHeight,{format:Ws,type:_o,depthTexture:new DE(A.textureWidth,A.textureHeight,Ye,void 0,void 0,void 0,void 0,void 0,void 0,Ge),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:A.ignoreDepthValues===!1,resolveStencilBuffer:A.ignoreDepthValues===!1})}else{const Ge={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:a};_=new XRWebGLLayer(s,t,Ge),s.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),w=new bl(_.framebufferWidth,_.framebufferHeight,{format:Ws,type:_o,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(h),p=null,o=await s.requestReferenceSpace(c),je.setContext(s),je.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function ge(ie){for(let Re=0;Re<ie.removed.length;Re++){const Ge=ie.removed[Re],Ye=D.indexOf(Ge);Ye>=0&&(D[Ye]=null,B[Ye].disconnect(Ge))}for(let Re=0;Re<ie.added.length;Re++){const Ge=ie.added[Re];let Ye=D.indexOf(Ge);if(Ye===-1){for(let vt=0;vt<B.length;vt++)if(vt>=D.length){D.push(Ge),Ye=vt;break}else if(D[vt]===null){D[vt]=Ge,Ye=vt;break}if(Ye===-1)break}const ke=B[Ye];ke&&ke.connect(Ge)}}const ee=new q,re=new q;function se(ie,Re,Ge){ee.setFromMatrixPosition(Re.matrixWorld),re.setFromMatrixPosition(Ge.matrixWorld);const Ye=ee.distanceTo(re),ke=Re.projectionMatrix.elements,vt=Ge.projectionMatrix.elements,it=ke[14]/(ke[10]-1),Ct=ke[14]/(ke[10]+1),Xt=(ke[9]+1)/ke[5],Bt=(ke[9]-1)/ke[5],Z=(ke[8]-1)/ke[0],Mn=(vt[8]+1)/vt[0],Pe=it*Z,Ve=it*Mn,Le=Ye/(-Z+Mn),nt=Le*-Z;if(Re.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(nt),ie.translateZ(Le),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert(),ke[10]===-1)ie.projectionMatrix.copy(Re.projectionMatrix),ie.projectionMatrixInverse.copy(Re.projectionMatrixInverse);else{const we=it+Le,j=Ct+Le,z=Pe-nt,fe=Ve+(Ye-nt),Se=Xt*Ct/j*we,Ue=Bt*Ct/j*we;ie.projectionMatrix.makePerspective(z,fe,Se,Ue,we,j),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}}function Te(ie,Re){Re===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(Re.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(s===null)return;let Re=ie.near,Ge=ie.far;T.texture!==null&&(T.depthNear>0&&(Re=T.depthNear),T.depthFar>0&&(Ge=T.depthFar)),L.near=H.near=F.near=Re,L.far=H.far=F.far=Ge,(G!==L.near||W!==L.far)&&(s.updateRenderState({depthNear:L.near,depthFar:L.far}),G=L.near,W=L.far),F.layers.mask=ie.layers.mask|2,H.layers.mask=ie.layers.mask|4,L.layers.mask=F.layers.mask|H.layers.mask;const Ye=ie.parent,ke=L.cameras;Te(L,Ye);for(let vt=0;vt<ke.length;vt++)Te(ke[vt],Ye);ke.length===2?se(L,F,H):L.projectionMatrix.copy(F.projectionMatrix),Y(ie,L,Ye)};function Y(ie,Re,Ge){Ge===null?ie.matrix.copy(Re.matrixWorld):(ie.matrix.copy(Ge.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(Re.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0),ie.projectionMatrix.copy(Re.projectionMatrix),ie.projectionMatrixInverse.copy(Re.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=mp*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(A===null&&_===null))return h},this.setFoveation=function(ie){h=ie,A!==null&&(A.fixedFoveation=ie),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=ie)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(L)};let oe=null;function Oe(ie,Re){if(m=Re.getViewerPose(p||o),S=Re,m!==null){const Ge=m.views;_!==null&&(e.setRenderTargetFramebuffer(w,_.framebuffer),e.setRenderTarget(w));let Ye=!1;Ge.length!==L.cameras.length&&(L.cameras.length=0,Ye=!0);for(let it=0;it<Ge.length;it++){const Ct=Ge[it];let Xt=null;if(_!==null)Xt=_.getViewport(Ct);else{const Z=y.getViewSubImage(A,Ct);Xt=Z.viewport,it===0&&(e.setRenderTargetTextures(w,Z.colorTexture,Z.depthStencilTexture),e.setRenderTarget(w))}let Bt=N[it];Bt===void 0&&(Bt=new Ni,Bt.layers.enable(it),Bt.viewport=new Rn,N[it]=Bt),Bt.matrix.fromArray(Ct.transform.matrix),Bt.matrix.decompose(Bt.position,Bt.quaternion,Bt.scale),Bt.projectionMatrix.fromArray(Ct.projectionMatrix),Bt.projectionMatrixInverse.copy(Bt.projectionMatrix).invert(),Bt.viewport.set(Xt.x,Xt.y,Xt.width,Xt.height),it===0&&(L.matrix.copy(Bt.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),Ye===!0&&L.cameras.push(Bt)}const ke=s.enabledFeatures;if(ke&&ke.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&y){const it=y.getDepthInformation(Ge[0]);it&&it.isValid&&it.texture&&T.init(e,it,s.renderState)}}for(let Ge=0;Ge<B.length;Ge++){const Ye=D[Ge],ke=B[Ge];Ye!==null&&ke!==void 0&&ke.update(Ye,Re,p||o)}oe&&oe(ie,Re),Re.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Re}),S=null}const je=new LL;je.setAnimationLoop(Oe),this.setAnimationLoop=function(ie){oe=ie},this.dispose=function(){}}}const kf=new ir,Bk=new Nt;function Dk(i,e){function t(E,b){E.matrixAutoUpdate===!0&&E.updateMatrix(),b.value.copy(E.matrix)}function n(E,b){b.color.getRGB(E.fogColor.value,IO(i)),b.isFog?(E.fogNear.value=b.near,E.fogFar.value=b.far):b.isFogExp2&&(E.fogDensity.value=b.density)}function s(E,b,w,B,D){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(E,b):b.isMeshToonMaterial?(a(E,b),y(E,b)):b.isMeshPhongMaterial?(a(E,b),m(E,b)):b.isMeshStandardMaterial?(a(E,b),A(E,b),b.isMeshPhysicalMaterial&&_(E,b,D)):b.isMeshMatcapMaterial?(a(E,b),S(E,b)):b.isMeshDepthMaterial?a(E,b):b.isMeshDistanceMaterial?(a(E,b),T(E,b)):b.isMeshNormalMaterial?a(E,b):b.isLineBasicMaterial?(o(E,b),b.isLineDashedMaterial&&c(E,b)):b.isPointsMaterial?h(E,b,w,B):b.isSpriteMaterial?p(E,b):b.isShadowMaterial?(E.color.value.copy(b.color),E.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function a(E,b){E.opacity.value=b.opacity,b.color&&E.diffuse.value.copy(b.color),b.emissive&&E.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(E.map.value=b.map,t(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.bumpMap&&(E.bumpMap.value=b.bumpMap,t(b.bumpMap,E.bumpMapTransform),E.bumpScale.value=b.bumpScale,b.side===pa&&(E.bumpScale.value*=-1)),b.normalMap&&(E.normalMap.value=b.normalMap,t(b.normalMap,E.normalMapTransform),E.normalScale.value.copy(b.normalScale),b.side===pa&&E.normalScale.value.negate()),b.displacementMap&&(E.displacementMap.value=b.displacementMap,t(b.displacementMap,E.displacementMapTransform),E.displacementScale.value=b.displacementScale,E.displacementBias.value=b.displacementBias),b.emissiveMap&&(E.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,E.emissiveMapTransform)),b.specularMap&&(E.specularMap.value=b.specularMap,t(b.specularMap,E.specularMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest);const w=e.get(b),B=w.envMap,D=w.envMapRotation;B&&(E.envMap.value=B,kf.copy(D),kf.x*=-1,kf.y*=-1,kf.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(kf.y*=-1,kf.z*=-1),E.envMapRotation.value.setFromMatrix4(Bk.makeRotationFromEuler(kf)),E.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=b.reflectivity,E.ior.value=b.ior,E.refractionRatio.value=b.refractionRatio),b.lightMap&&(E.lightMap.value=b.lightMap,E.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,E.lightMapTransform)),b.aoMap&&(E.aoMap.value=b.aoMap,E.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,E.aoMapTransform))}function o(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,b.map&&(E.map.value=b.map,t(b.map,E.mapTransform))}function c(E,b){E.dashSize.value=b.dashSize,E.totalSize.value=b.dashSize+b.gapSize,E.scale.value=b.scale}function h(E,b,w,B){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.size.value=b.size*w,E.scale.value=B*.5,b.map&&(E.map.value=b.map,t(b.map,E.uvTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function p(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.rotation.value=b.rotation,b.map&&(E.map.value=b.map,t(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function m(E,b){E.specular.value.copy(b.specular),E.shininess.value=Math.max(b.shininess,1e-4)}function y(E,b){b.gradientMap&&(E.gradientMap.value=b.gradientMap)}function A(E,b){E.metalness.value=b.metalness,b.metalnessMap&&(E.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,E.metalnessMapTransform)),E.roughness.value=b.roughness,b.roughnessMap&&(E.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,E.roughnessMapTransform)),b.envMap&&(E.envMapIntensity.value=b.envMapIntensity)}function _(E,b,w){E.ior.value=b.ior,b.sheen>0&&(E.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),E.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(E.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,E.sheenColorMapTransform)),b.sheenRoughnessMap&&(E.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,E.sheenRoughnessMapTransform))),b.clearcoat>0&&(E.clearcoat.value=b.clearcoat,E.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(E.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,E.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(E.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===pa&&E.clearcoatNormalScale.value.negate())),b.dispersion>0&&(E.dispersion.value=b.dispersion),b.iridescence>0&&(E.iridescence.value=b.iridescence,E.iridescenceIOR.value=b.iridescenceIOR,E.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(E.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,E.iridescenceMapTransform)),b.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),b.transmission>0&&(E.transmission.value=b.transmission,E.transmissionSamplerMap.value=w.texture,E.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(E.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,E.transmissionMapTransform)),E.thickness.value=b.thickness,b.thicknessMap&&(E.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=b.attenuationDistance,E.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(E.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(E.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=b.specularIntensity,E.specularColor.value.copy(b.specularColor),b.specularColorMap&&(E.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,E.specularColorMapTransform)),b.specularIntensityMap&&(E.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,E.specularIntensityMapTransform))}function S(E,b){b.matcap&&(E.matcap.value=b.matcap)}function T(E,b){const w=e.get(b).light;E.referencePosition.value.setFromMatrixPosition(w.matrixWorld),E.nearDistance.value=w.shadow.camera.near,E.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:s}}function Ok(i,e,t,n){let s={},a={},o=[];const c=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function h(w,B){const D=B.program;n.uniformBlockBinding(w,D)}function p(w,B){let D=s[w.id];D===void 0&&(S(w),D=m(w),s[w.id]=D,w.addEventListener("dispose",E));const U=B.program;n.updateUBOMapping(w,U);const P=e.render.frame;a[w.id]!==P&&(A(w),a[w.id]=P)}function m(w){const B=y();w.__bindingPointIndex=B;const D=i.createBuffer(),U=w.__size,P=w.usage;return i.bindBuffer(i.UNIFORM_BUFFER,D),i.bufferData(i.UNIFORM_BUFFER,U,P),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,B,D),D}function y(){for(let w=0;w<c;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function A(w){const B=s[w.id],D=w.uniforms,U=w.__cache;i.bindBuffer(i.UNIFORM_BUFFER,B);for(let P=0,F=D.length;P<F;P++){const H=Array.isArray(D[P])?D[P]:[D[P]];for(let N=0,L=H.length;N<L;N++){const G=H[N];if(_(G,P,N,U)===!0){const W=G.__offset,K=Array.isArray(G.value)?G.value:[G.value];let $=0;for(let ge=0;ge<K.length;ge++){const ee=K[ge],re=T(ee);typeof ee=="number"||typeof ee=="boolean"?(G.__data[0]=ee,i.bufferSubData(i.UNIFORM_BUFFER,W+$,G.__data)):ee.isMatrix3?(G.__data[0]=ee.elements[0],G.__data[1]=ee.elements[1],G.__data[2]=ee.elements[2],G.__data[3]=0,G.__data[4]=ee.elements[3],G.__data[5]=ee.elements[4],G.__data[6]=ee.elements[5],G.__data[7]=0,G.__data[8]=ee.elements[6],G.__data[9]=ee.elements[7],G.__data[10]=ee.elements[8],G.__data[11]=0):(ee.toArray(G.__data,$),$+=re.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,W,G.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function _(w,B,D,U){const P=w.value,F=B+"_"+D;if(U[F]===void 0)return typeof P=="number"||typeof P=="boolean"?U[F]=P:U[F]=P.clone(),!0;{const H=U[F];if(typeof P=="number"||typeof P=="boolean"){if(H!==P)return U[F]=P,!0}else if(H.equals(P)===!1)return H.copy(P),!0}return!1}function S(w){const B=w.uniforms;let D=0;const U=16;for(let F=0,H=B.length;F<H;F++){const N=Array.isArray(B[F])?B[F]:[B[F]];for(let L=0,G=N.length;L<G;L++){const W=N[L],K=Array.isArray(W.value)?W.value:[W.value];for(let $=0,ge=K.length;$<ge;$++){const ee=K[$],re=T(ee),se=D%U,Te=se%re.boundary,Y=se+Te;D+=Te,Y!==0&&U-Y<re.storage&&(D+=U-Y),W.__data=new Float32Array(re.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=D,D+=re.storage}}}const P=D%U;return P>0&&(D+=U-P),w.__size=D,w.__cache={},this}function T(w){const B={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(B.boundary=4,B.storage=4):w.isVector2?(B.boundary=8,B.storage=8):w.isVector3||w.isColor?(B.boundary=16,B.storage=12):w.isVector4?(B.boundary=16,B.storage=16):w.isMatrix3?(B.boundary=48,B.storage=48):w.isMatrix4?(B.boundary=64,B.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),B}function E(w){const B=w.target;B.removeEventListener("dispose",E);const D=o.indexOf(B.__bindingPointIndex);o.splice(D,1),i.deleteBuffer(s[B.id]),delete s[B.id],delete a[B.id]}function b(){for(const w in s)i.deleteBuffer(s[w]);o=[],s={},a={}}return{bind:h,update:p,dispose:b}}class zL{constructor(e={}){const{canvas:t=NO(),context:n=null,depth:s=!0,stencil:a=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:y=!1,reverseDepthBuffer:A=!1}=e;this.isWebGLRenderer=!0;let _;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=n.getContextAttributes().alpha}else _=o;const S=new Uint32Array(4),T=new Int32Array(4);let E=null,b=null;const w=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=vl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let U=!1;this._outputColorSpace=Ys;let P=0,F=0,H=null,N=-1,L=null;const G=new Rn,W=new Rn;let K=null;const $=new ut(0);let ge=0,ee=t.width,re=t.height,se=1,Te=null,Y=null;const oe=new Rn(0,0,ee,re),Oe=new Rn(0,0,ee,re);let je=!1;const ie=new gy;let Re=!1,Ge=!1;const Ye=new Nt,ke=new Nt,vt=new q,it=new Rn,Ct={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Xt=!1;function Bt(){return H===null?se:1}let Z=n;function Mn(V,ae){return t.getContext(V,ae)}try{const V={alpha:!0,depth:s,stencil:a,antialias:c,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:y};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${cy}`),t.addEventListener("webglcontextlost",Ie,!1),t.addEventListener("webglcontextrestored",at,!1),t.addEventListener("webglcontextcreationerror",rt,!1),Z===null){const ae="webgl2";if(Z=Mn(ae,V),Z===null)throw Mn(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Pe,Ve,Le,nt,we,j,z,fe,Se,Ue,De,yt,tt,pt,qt,Je,gt,At,mt,lt,ne,Ce,ot,te;function Qe(){Pe=new XV(Z),Pe.init(),Ce=new FL(Z,Pe),Ve=new IV(Z,Pe,e,Ce),Le=new Mk(Z,Pe),Ve.reverseDepthBuffer&&A&&Le.buffers.depth.setReversed(!0),nt=new qV(Z),we=new fk,j=new Ek(Z,Pe,Le,we,Ve,Ce,nt),z=new zV(D),fe=new kV(D),Se=new $6(Z),ot=new UV(Z,Se),Ue=new jV(Z,Se,nt,ot),De=new KV(Z,Ue,Se,nt),mt=new WV(Z,Ve,j),Je=new FV(we),yt=new uk(D,z,fe,Pe,Ve,ot,Je),tt=new Dk(D,we),pt=new dk,qt=new Ak(Pe),At=new NV(D,z,fe,Le,De,_,h),gt=new Sk(D,De,Ve),te=new Ok(Z,nt,Ve,Le),lt=new PV(Z,Pe,nt),ne=new YV(Z,Pe,nt),nt.programs=yt.programs,D.capabilities=Ve,D.extensions=Pe,D.properties=we,D.renderLists=pt,D.shadowMap=gt,D.state=Le,D.info=nt}Qe();const Ee=new wk(D,Z);this.xr=Ee,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const V=Pe.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=Pe.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return se},this.setPixelRatio=function(V){V!==void 0&&(se=V,this.setSize(ee,re,!1))},this.getSize=function(V){return V.set(ee,re)},this.setSize=function(V,ae,Ae=!0){if(Ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ee=V,re=ae,t.width=Math.floor(V*se),t.height=Math.floor(ae*se),Ae===!0&&(t.style.width=V+"px",t.style.height=ae+"px"),this.setViewport(0,0,V,ae)},this.getDrawingBufferSize=function(V){return V.set(ee*se,re*se).floor()},this.setDrawingBufferSize=function(V,ae,Ae){ee=V,re=ae,se=Ae,t.width=Math.floor(V*Ae),t.height=Math.floor(ae*Ae),this.setViewport(0,0,V,ae)},this.getCurrentViewport=function(V){return V.copy(G)},this.getViewport=function(V){return V.copy(oe)},this.setViewport=function(V,ae,Ae,ye){V.isVector4?oe.set(V.x,V.y,V.z,V.w):oe.set(V,ae,Ae,ye),Le.viewport(G.copy(oe).multiplyScalar(se).round())},this.getScissor=function(V){return V.copy(Oe)},this.setScissor=function(V,ae,Ae,ye){V.isVector4?Oe.set(V.x,V.y,V.z,V.w):Oe.set(V,ae,Ae,ye),Le.scissor(W.copy(Oe).multiplyScalar(se).round())},this.getScissorTest=function(){return je},this.setScissorTest=function(V){Le.setScissorTest(je=V)},this.setOpaqueSort=function(V){Te=V},this.setTransparentSort=function(V){Y=V},this.getClearColor=function(V){return V.copy(At.getClearColor())},this.setClearColor=function(){At.setClearColor(...arguments)},this.getClearAlpha=function(){return At.getClearAlpha()},this.setClearAlpha=function(){At.setClearAlpha(...arguments)},this.clear=function(V=!0,ae=!0,Ae=!0){let ye=0;if(V){let he=!1;if(H!==null){const qe=H.texture.format;he=qe===tx||qe===ex||qe===fy}if(he){const qe=H.texture.type,st=qe===_o||qe===Ac||qe===cp||qe===up||qe===Z_||qe===Q_,ft=At.getClearColor(),ct=At.getClearAlpha(),Pt=ft.r,Ot=ft.g,Et=ft.b;st?(S[0]=Pt,S[1]=Ot,S[2]=Et,S[3]=ct,Z.clearBufferuiv(Z.COLOR,0,S)):(T[0]=Pt,T[1]=Ot,T[2]=Et,T[3]=ct,Z.clearBufferiv(Z.COLOR,0,T))}else ye|=Z.COLOR_BUFFER_BIT}ae&&(ye|=Z.DEPTH_BUFFER_BIT),Ae&&(ye|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ie,!1),t.removeEventListener("webglcontextrestored",at,!1),t.removeEventListener("webglcontextcreationerror",rt,!1),At.dispose(),pt.dispose(),qt.dispose(),we.dispose(),z.dispose(),fe.dispose(),De.dispose(),ot.dispose(),te.dispose(),yt.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",Hu),Ee.removeEventListener("sessionend",El),ma.stop()};function Ie(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function at(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const V=nt.autoReset,ae=gt.enabled,Ae=gt.autoUpdate,ye=gt.needsUpdate,he=gt.type;Qe(),nt.autoReset=V,gt.enabled=ae,gt.autoUpdate=Ae,gt.needsUpdate=ye,gt.type=he}function rt(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function St(V){const ae=V.target;ae.removeEventListener("dispose",St),on(ae)}function on(V){Ln(V),we.remove(V)}function Ln(V){const ae=we.get(V).programs;ae!==void 0&&(ae.forEach(function(Ae){yt.releaseProgram(Ae)}),V.isShaderMaterial&&yt.releaseShaderCache(V))}this.renderBufferDirect=function(V,ae,Ae,ye,he,qe){ae===null&&(ae=Ct);const st=he.isMesh&&he.matrixWorld.determinant()<0,ft=Ch(V,ae,Ae,ye,he);Le.setMaterial(ye,st);let ct=Ae.index,Pt=1;if(ye.wireframe===!0){if(ct=Ue.getWireframeAttribute(Ae),ct===void 0)return;Pt=2}const Ot=Ae.drawRange,Et=Ae.attributes.position;let fn=Ot.start*Pt,hn=(Ot.start+Ot.count)*Pt;qe!==null&&(fn=Math.max(fn,qe.start*Pt),hn=Math.min(hn,(qe.start+qe.count)*Pt)),ct!==null?(fn=Math.max(fn,0),hn=Math.min(hn,ct.count)):Et!=null&&(fn=Math.max(fn,0),hn=Math.min(hn,Et.count));const Xn=hn-fn;if(Xn<0||Xn===1/0)return;ot.setup(he,ye,ft,Ae,ct);let An,Ht=lt;if(ct!==null&&(An=Se.get(ct),Ht=ne,Ht.setIndex(An)),he.isMesh)ye.wireframe===!0?(Le.setLineWidth(ye.wireframeLinewidth*Bt()),Ht.setMode(Z.LINES)):Ht.setMode(Z.TRIANGLES);else if(he.isLine){let Rt=ye.linewidth;Rt===void 0&&(Rt=1),Le.setLineWidth(Rt*Bt()),he.isLineSegments?Ht.setMode(Z.LINES):he.isLineLoop?Ht.setMode(Z.LINE_LOOP):Ht.setMode(Z.LINE_STRIP)}else he.isPoints?Ht.setMode(Z.POINTS):he.isSprite&&Ht.setMode(Z.TRIANGLES);if(he.isBatchedMesh)if(he._multiDrawInstances!==null)bA("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ht.renderMultiDrawInstances(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount,he._multiDrawInstances);else if(Pe.get("WEBGL_multi_draw"))Ht.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else{const Rt=he._multiDrawStarts,bi=he._multiDrawCounts,dn=he._multiDrawCount,As=ct?Se.get(ct).bytesPerElement:1,ea=we.get(ye).currentProgram.getUniforms();for(let is=0;is<dn;is++)ea.setValue(Z,"_gl_DrawID",is),Ht.render(Rt[is]/As,bi[is])}else if(he.isInstancedMesh)Ht.renderInstances(fn,Xn,he.count);else if(Ae.isInstancedBufferGeometry){const Rt=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,bi=Math.min(Ae.instanceCount,Rt);Ht.renderInstances(fn,Xn,bi)}else Ht.render(fn,Xn)};function Wt(V,ae,Ae){V.transparent===!0&&V.side===yo&&V.forceSinglePass===!1?(V.side=pa,V.needsUpdate=!0,$t(V,ae,Ae),V.side=Sl,V.needsUpdate=!0,$t(V,ae,Ae),V.side=yo):$t(V,ae,Ae)}this.compile=function(V,ae,Ae=null){Ae===null&&(Ae=V),b=qt.get(Ae),b.init(ae),B.push(b),Ae.traverseVisible(function(he){he.isLight&&he.layers.test(ae.layers)&&(b.pushLight(he),he.castShadow&&b.pushShadow(he))}),V!==Ae&&V.traverseVisible(function(he){he.isLight&&he.layers.test(ae.layers)&&(b.pushLight(he),he.castShadow&&b.pushShadow(he))}),b.setupLights();const ye=new Set;return V.traverse(function(he){if(!(he.isMesh||he.isPoints||he.isLine||he.isSprite))return;const qe=he.material;if(qe)if(Array.isArray(qe))for(let st=0;st<qe.length;st++){const ft=qe[st];Wt(ft,Ae,he),ye.add(ft)}else Wt(qe,Ae,he),ye.add(qe)}),b=B.pop(),ye},this.compileAsync=function(V,ae,Ae=null){const ye=this.compile(V,ae,Ae);return new Promise(he=>{function qe(){if(ye.forEach(function(st){we.get(st).currentProgram.isReady()&&ye.delete(st)}),ye.size===0){he(V);return}setTimeout(qe,10)}Pe.get("KHR_parallel_shader_compile")!==null?qe():setTimeout(qe,10)})};let ii=null;function fi(V){ii&&ii(V)}function Hu(){ma.stop()}function El(){ma.start()}const ma=new LL;ma.setAnimationLoop(fi),typeof self<"u"&&ma.setContext(self),this.setAnimationLoop=function(V){ii=V,Ee.setAnimationLoop(V),V===null?ma.stop():ma.start()},Ee.addEventListener("sessionstart",Hu),Ee.addEventListener("sessionend",El),this.render=function(V,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ee.enabled===!0&&Ee.isPresenting===!0&&(Ee.cameraAutoUpdate===!0&&Ee.updateCamera(ae),ae=Ee.getCamera()),V.isScene===!0&&V.onBeforeRender(D,V,ae,H),b=qt.get(V,B.length),b.init(ae),B.push(b),ke.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),ie.setFromProjectionMatrix(ke),Ge=this.localClippingEnabled,Re=Je.init(this.clippingPlanes,Ge),E=pt.get(V,w.length),E.init(),w.push(E),Ee.enabled===!0&&Ee.isPresenting===!0){const qe=D.xr.getDepthSensingMesh();qe!==null&&$s(qe,ae,-1/0,D.sortObjects)}$s(V,ae,0,D.sortObjects),E.finish(),D.sortObjects===!0&&E.sort(Te,Y),Xt=Ee.enabled===!1||Ee.isPresenting===!1||Ee.hasDepthSensing()===!1,Xt&&At.addToRenderList(E,V),this.info.render.frame++,Re===!0&&Je.beginShadows();const Ae=b.state.shadowsArray;gt.render(Ae,V,ae),Re===!0&&Je.endShadows(),this.info.autoReset===!0&&this.info.reset();const ye=E.opaque,he=E.transmissive;if(b.setupLights(),ae.isArrayCamera){const qe=ae.cameras;if(he.length>0)for(let st=0,ft=qe.length;st<ft;st++){const ct=qe[st];Pa(ye,he,V,ct)}Xt&&At.render(V);for(let st=0,ft=qe.length;st<ft;st++){const ct=qe[st];Mc(E,V,ct,ct.viewport)}}else he.length>0&&Pa(ye,he,V,ae),Xt&&At.render(V),Mc(E,V,ae);H!==null&&F===0&&(j.updateMultisampleRenderTarget(H),j.updateRenderTargetMipmap(H)),V.isScene===!0&&V.onAfterRender(D,V,ae),ot.resetDefaultState(),N=-1,L=null,B.pop(),B.length>0?(b=B[B.length-1],Re===!0&&Je.setGlobalState(D.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?E=w[w.length-1]:E=null};function $s(V,ae,Ae,ye){if(V.visible===!1)return;if(V.layers.test(ae.layers)){if(V.isGroup)Ae=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(ae);else if(V.isLight)b.pushLight(V),V.castShadow&&b.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||ie.intersectsSprite(V)){ye&&it.setFromMatrixPosition(V.matrixWorld).applyMatrix4(ke);const st=De.update(V),ft=V.material;ft.visible&&E.push(V,st,ft,Ae,it.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||ie.intersectsObject(V))){const st=De.update(V),ft=V.material;if(ye&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),it.copy(V.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),it.copy(st.boundingSphere.center)),it.applyMatrix4(V.matrixWorld).applyMatrix4(ke)),Array.isArray(ft)){const ct=st.groups;for(let Pt=0,Ot=ct.length;Pt<Ot;Pt++){const Et=ct[Pt],fn=ft[Et.materialIndex];fn&&fn.visible&&E.push(V,st,fn,Ae,it.z,Et)}}else ft.visible&&E.push(V,st,ft,Ae,it.z,null)}}const qe=V.children;for(let st=0,ft=qe.length;st<ft;st++)$s(qe[st],ae,Ae,ye)}function Mc(V,ae,Ae,ye){const he=V.opaque,qe=V.transmissive,st=V.transparent;b.setupLightsView(Ae),Re===!0&&Je.setGlobalState(D.clippingPlanes,Ae),ye&&Le.viewport(G.copy(ye)),he.length>0&&hi(he,ae,Ae),qe.length>0&&hi(qe,ae,Ae),st.length>0&&hi(st,ae,Ae),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function Pa(V,ae,Ae,ye){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[ye.id]===void 0&&(b.state.transmissionRenderTarget[ye.id]=new bl(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")||Pe.has("EXT_color_buffer_float")?Ep:_o,minFilter:Tr,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:bn.workingColorSpace}));const qe=b.state.transmissionRenderTarget[ye.id],st=ye.viewport||G;qe.setSize(st.z*D.transmissionResolutionScale,st.w*D.transmissionResolutionScale);const ft=D.getRenderTarget();D.setRenderTarget(qe),D.getClearColor($),ge=D.getClearAlpha(),ge<1&&D.setClearColor(16777215,.5),D.clear(),Xt&&At.render(Ae);const ct=D.toneMapping;D.toneMapping=vl;const Pt=ye.viewport;if(ye.viewport!==void 0&&(ye.viewport=void 0),b.setupLightsView(ye),Re===!0&&Je.setGlobalState(D.clippingPlanes,ye),hi(V,Ae,ye),j.updateMultisampleRenderTarget(qe),j.updateRenderTargetMipmap(qe),Pe.has("WEBGL_multisampled_render_to_texture")===!1){let Ot=!1;for(let Et=0,fn=ae.length;Et<fn;Et++){const hn=ae[Et],Xn=hn.object,An=hn.geometry,Ht=hn.material,Rt=hn.group;if(Ht.side===yo&&Xn.layers.test(ye.layers)){const bi=Ht.side;Ht.side=pa,Ht.needsUpdate=!0,si(Xn,Ae,ye,An,Ht,Rt),Ht.side=bi,Ht.needsUpdate=!0,Ot=!0}}Ot===!0&&(j.updateMultisampleRenderTarget(qe),j.updateRenderTargetMipmap(qe))}D.setRenderTarget(ft),D.setClearColor($,ge),Pt!==void 0&&(ye.viewport=Pt),D.toneMapping=ct}function hi(V,ae,Ae){const ye=ae.isScene===!0?ae.overrideMaterial:null;for(let he=0,qe=V.length;he<qe;he++){const st=V[he],ft=st.object,ct=st.geometry,Pt=st.group;let Ot=st.material;Ot.allowOverride===!0&&ye!==null&&(Ot=ye),ft.layers.test(Ae.layers)&&si(ft,ae,Ae,ct,Ot,Pt)}}function si(V,ae,Ae,ye,he,qe){V.onBeforeRender(D,ae,Ae,ye,he,qe),V.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),he.onBeforeRender(D,ae,Ae,ye,V,qe),he.transparent===!0&&he.side===yo&&he.forceSinglePass===!1?(he.side=pa,he.needsUpdate=!0,D.renderBufferDirect(Ae,ae,ye,he,V,qe),he.side=Sl,he.needsUpdate=!0,D.renderBufferDirect(Ae,ae,ye,he,V,qe),he.side=yo):D.renderBufferDirect(Ae,ae,ye,he,V,qe),V.onAfterRender(D,ae,Ae,ye,he,qe)}function $t(V,ae,Ae){ae.isScene!==!0&&(ae=Ct);const ye=we.get(V),he=b.state.lights,qe=b.state.shadowsArray,st=he.state.version,ft=yt.getParameters(V,he.state,qe,ae,Ae),ct=yt.getProgramCacheKey(ft);let Pt=ye.programs;ye.environment=V.isMeshStandardMaterial?ae.environment:null,ye.fog=ae.fog,ye.envMap=(V.isMeshStandardMaterial?fe:z).get(V.envMap||ye.environment),ye.envMapRotation=ye.environment!==null&&V.envMap===null?ae.environmentRotation:V.envMapRotation,Pt===void 0&&(V.addEventListener("dispose",St),Pt=new Map,ye.programs=Pt);let Ot=Pt.get(ct);if(Ot!==void 0){if(ye.currentProgram===Ot&&ye.lightsStateVersion===st)return Eo(V,ft),Ot}else ft.uniforms=yt.getUniforms(V),V.onBeforeCompile(ft,D),Ot=yt.acquireProgram(ft,ct),Pt.set(ct,Ot),ye.uniforms=ft.uniforms;const Et=ye.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Et.clippingPlanes=Je.uniform),Eo(V,ft),ye.needsLights=wh(V),ye.lightsStateVersion=st,ye.needsLights&&(Et.ambientLightColor.value=he.state.ambient,Et.lightProbe.value=he.state.probe,Et.directionalLights.value=he.state.directional,Et.directionalLightShadows.value=he.state.directionalShadow,Et.spotLights.value=he.state.spot,Et.spotLightShadows.value=he.state.spotShadow,Et.rectAreaLights.value=he.state.rectArea,Et.ltc_1.value=he.state.rectAreaLTC1,Et.ltc_2.value=he.state.rectAreaLTC2,Et.pointLights.value=he.state.point,Et.pointLightShadows.value=he.state.pointShadow,Et.hemisphereLights.value=he.state.hemi,Et.directionalShadowMap.value=he.state.directionalShadowMap,Et.directionalShadowMatrix.value=he.state.directionalShadowMatrix,Et.spotShadowMap.value=he.state.spotShadowMap,Et.spotLightMatrix.value=he.state.spotLightMatrix,Et.spotLightMap.value=he.state.spotLightMap,Et.pointShadowMap.value=he.state.pointShadowMap,Et.pointShadowMatrix.value=he.state.pointShadowMatrix),ye.currentProgram=Ot,ye.uniformsList=null,Ot}function Ia(V){if(V.uniformsList===null){const ae=V.currentProgram.getUniforms();V.uniformsList=EA.seqWithValue(ae.seq,V.uniforms)}return V.uniformsList}function Eo(V,ae){const Ae=we.get(V);Ae.outputColorSpace=ae.outputColorSpace,Ae.batching=ae.batching,Ae.batchingColor=ae.batchingColor,Ae.instancing=ae.instancing,Ae.instancingColor=ae.instancingColor,Ae.instancingMorph=ae.instancingMorph,Ae.skinning=ae.skinning,Ae.morphTargets=ae.morphTargets,Ae.morphNormals=ae.morphNormals,Ae.morphColors=ae.morphColors,Ae.morphTargetsCount=ae.morphTargetsCount,Ae.numClippingPlanes=ae.numClippingPlanes,Ae.numIntersection=ae.numClipIntersection,Ae.vertexAlphas=ae.vertexAlphas,Ae.vertexTangents=ae.vertexTangents,Ae.toneMapping=ae.toneMapping}function Ch(V,ae,Ae,ye,he){ae.isScene!==!0&&(ae=Ct),j.resetTextureUnits();const qe=ae.fog,st=ye.isMeshStandardMaterial?ae.environment:null,ft=H===null?D.outputColorSpace:H.isXRRenderTarget===!0?H.texture.colorSpace:Du,ct=(ye.isMeshStandardMaterial?fe:z).get(ye.envMap||st),Pt=ye.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,Ot=!!Ae.attributes.tangent&&(!!ye.normalMap||ye.anisotropy>0),Et=!!Ae.morphAttributes.position,fn=!!Ae.morphAttributes.normal,hn=!!Ae.morphAttributes.color;let Xn=vl;ye.toneMapped&&(H===null||H.isXRRenderTarget===!0)&&(Xn=D.toneMapping);const An=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Ht=An!==void 0?An.length:0,Rt=we.get(ye),bi=b.state.lights;if(Re===!0&&(Ge===!0||V!==L)){const ai=V===L&&ye.id===N;Je.setState(ye,V,ai)}let dn=!1;ye.version===Rt.__version?(Rt.needsLights&&Rt.lightsStateVersion!==bi.state.version||Rt.outputColorSpace!==ft||he.isBatchedMesh&&Rt.batching===!1||!he.isBatchedMesh&&Rt.batching===!0||he.isBatchedMesh&&Rt.batchingColor===!0&&he.colorTexture===null||he.isBatchedMesh&&Rt.batchingColor===!1&&he.colorTexture!==null||he.isInstancedMesh&&Rt.instancing===!1||!he.isInstancedMesh&&Rt.instancing===!0||he.isSkinnedMesh&&Rt.skinning===!1||!he.isSkinnedMesh&&Rt.skinning===!0||he.isInstancedMesh&&Rt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&Rt.instancingColor===!1&&he.instanceColor!==null||he.isInstancedMesh&&Rt.instancingMorph===!0&&he.morphTexture===null||he.isInstancedMesh&&Rt.instancingMorph===!1&&he.morphTexture!==null||Rt.envMap!==ct||ye.fog===!0&&Rt.fog!==qe||Rt.numClippingPlanes!==void 0&&(Rt.numClippingPlanes!==Je.numPlanes||Rt.numIntersection!==Je.numIntersection)||Rt.vertexAlphas!==Pt||Rt.vertexTangents!==Ot||Rt.morphTargets!==Et||Rt.morphNormals!==fn||Rt.morphColors!==hn||Rt.toneMapping!==Xn||Rt.morphTargetsCount!==Ht)&&(dn=!0):(dn=!0,Rt.__version=ye.version);let As=Rt.currentProgram;dn===!0&&(As=$t(ye,ae,he));let ea=!1,is=!1,Ui=!1;const Nn=As.getUniforms(),ss=Rt.uniforms;if(Le.useProgram(As.program)&&(ea=!0,is=!0,Ui=!0),ye.id!==N&&(N=ye.id,is=!0),ea||L!==V){Le.buffers.depth.getReversed()?(Ye.copy(V.projectionMatrix),MH(Ye),EH(Ye),Nn.setValue(Z,"projectionMatrix",Ye)):Nn.setValue(Z,"projectionMatrix",V.projectionMatrix),Nn.setValue(Z,"viewMatrix",V.matrixWorldInverse);const Xi=Nn.map.cameraPosition;Xi!==void 0&&Xi.setValue(Z,vt.setFromMatrixPosition(V.matrixWorld)),Ve.logarithmicDepthBuffer&&Nn.setValue(Z,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial)&&Nn.setValue(Z,"isOrthographic",V.isOrthographicCamera===!0),L!==V&&(L=V,is=!0,Ui=!0)}if(he.isSkinnedMesh){Nn.setOptional(Z,he,"bindMatrix"),Nn.setOptional(Z,he,"bindMatrixInverse");const ai=he.skeleton;ai&&(ai.boneTexture===null&&ai.computeBoneTexture(),Nn.setValue(Z,"boneTexture",ai.boneTexture,j))}he.isBatchedMesh&&(Nn.setOptional(Z,he,"batchingTexture"),Nn.setValue(Z,"batchingTexture",he._matricesTexture,j),Nn.setOptional(Z,he,"batchingIdTexture"),Nn.setValue(Z,"batchingIdTexture",he._indirectTexture,j),Nn.setOptional(Z,he,"batchingColorTexture"),he._colorsTexture!==null&&Nn.setValue(Z,"batchingColorTexture",he._colorsTexture,j));const Ki=Ae.morphAttributes;if((Ki.position!==void 0||Ki.normal!==void 0||Ki.color!==void 0)&&mt.update(he,Ae,As),(is||Rt.receiveShadow!==he.receiveShadow)&&(Rt.receiveShadow=he.receiveShadow,Nn.setValue(Z,"receiveShadow",he.receiveShadow)),ye.isMeshGouraudMaterial&&ye.envMap!==null&&(ss.envMap.value=ct,ss.flipEnvMap.value=ct.isCubeTexture&&ct.isRenderTargetTexture===!1?-1:1),ye.isMeshStandardMaterial&&ye.envMap===null&&ae.environment!==null&&(ss.envMapIntensity.value=ae.environmentIntensity),is&&(Nn.setValue(Z,"toneMappingExposure",D.toneMappingExposure),Rt.needsLights&&Rh(ss,Ui),qe&&ye.fog===!0&&tt.refreshFogUniforms(ss,qe),tt.refreshMaterialUniforms(ss,ye,se,re,b.state.transmissionRenderTarget[V.id]),EA.upload(Z,Ia(Rt),ss,j)),ye.isShaderMaterial&&ye.uniformsNeedUpdate===!0&&(EA.upload(Z,Ia(Rt),ss,j),ye.uniformsNeedUpdate=!1),ye.isSpriteMaterial&&Nn.setValue(Z,"center",he.center),Nn.setValue(Z,"modelViewMatrix",he.modelViewMatrix),Nn.setValue(Z,"normalMatrix",he.normalMatrix),Nn.setValue(Z,"modelMatrix",he.matrixWorld),ye.isShaderMaterial||ye.isRawShaderMaterial){const ai=ye.uniformsGroups;for(let Xi=0,za=ai.length;Xi<za;Xi++){const _s=ai[Xi];te.update(_s,As),te.bind(_s,As)}}return As}function Rh(V,ae){V.ambientLightColor.needsUpdate=ae,V.lightProbe.needsUpdate=ae,V.directionalLights.needsUpdate=ae,V.directionalLightShadows.needsUpdate=ae,V.pointLights.needsUpdate=ae,V.pointLightShadows.needsUpdate=ae,V.spotLights.needsUpdate=ae,V.spotLightShadows.needsUpdate=ae,V.rectAreaLights.needsUpdate=ae,V.hemisphereLights.needsUpdate=ae}function wh(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return H},this.setRenderTargetTextures=function(V,ae,Ae){const ye=we.get(V);ye.__autoAllocateDepthBuffer=V.resolveDepthBuffer===!1,ye.__autoAllocateDepthBuffer===!1&&(ye.__useRenderToTexture=!1),we.get(V.texture).__webglTexture=ae,we.get(V.depthTexture).__webglTexture=ye.__autoAllocateDepthBuffer?void 0:Ae,ye.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(V,ae){const Ae=we.get(V);Ae.__webglFramebuffer=ae,Ae.__useDefaultFramebuffer=ae===void 0};const Dr=Z.createFramebuffer();this.setRenderTarget=function(V,ae=0,Ae=0){H=V,P=ae,F=Ae;let ye=!0,he=null,qe=!1,st=!1;if(V){const ct=we.get(V);if(ct.__useDefaultFramebuffer!==void 0)Le.bindFramebuffer(Z.FRAMEBUFFER,null),ye=!1;else if(ct.__webglFramebuffer===void 0)j.setupRenderTarget(V);else if(ct.__hasExternalTextures)j.rebindTextures(V,we.get(V.texture).__webglTexture,we.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const Et=V.depthTexture;if(ct.__boundDepthTexture!==Et){if(Et!==null&&we.has(Et)&&(V.width!==Et.image.width||V.height!==Et.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");j.setupDepthRenderbuffer(V)}}const Pt=V.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(st=!0);const Ot=we.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(Ot[ae])?he=Ot[ae][Ae]:he=Ot[ae],qe=!0):V.samples>0&&j.useMultisampledRTT(V)===!1?he=we.get(V).__webglMultisampledFramebuffer:Array.isArray(Ot)?he=Ot[Ae]:he=Ot,G.copy(V.viewport),W.copy(V.scissor),K=V.scissorTest}else G.copy(oe).multiplyScalar(se).floor(),W.copy(Oe).multiplyScalar(se).floor(),K=je;if(Ae!==0&&(he=Dr),Le.bindFramebuffer(Z.FRAMEBUFFER,he)&&ye&&Le.drawBuffers(V,he),Le.viewport(G),Le.scissor(W),Le.setScissorTest(K),qe){const ct=we.get(V.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+ae,ct.__webglTexture,Ae)}else if(st){const ct=we.get(V.texture),Pt=ae;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,ct.__webglTexture,Ae,Pt)}else if(V!==null&&Ae!==0){const ct=we.get(V.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,ct.__webglTexture,Ae)}N=-1},this.readRenderTargetPixels=function(V,ae,Ae,ye,he,qe,st){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=we.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&st!==void 0&&(ft=ft[st]),ft){Le.bindFramebuffer(Z.FRAMEBUFFER,ft);try{const ct=V.texture,Pt=ct.format,Ot=ct.type;if(!Ve.textureFormatReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ve.textureTypeReadable(Ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=V.width-ye&&Ae>=0&&Ae<=V.height-he&&Z.readPixels(ae,Ae,ye,he,Ce.convert(Pt),Ce.convert(Ot),qe)}finally{const ct=H!==null?we.get(H).__webglFramebuffer:null;Le.bindFramebuffer(Z.FRAMEBUFFER,ct)}}},this.readRenderTargetPixelsAsync=async function(V,ae,Ae,ye,he,qe,st){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ft=we.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&st!==void 0&&(ft=ft[st]),ft)if(ae>=0&&ae<=V.width-ye&&Ae>=0&&Ae<=V.height-he){Le.bindFramebuffer(Z.FRAMEBUFFER,ft);const ct=V.texture,Pt=ct.format,Ot=ct.type;if(!Ve.textureFormatReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ve.textureTypeReadable(Ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Et=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Et),Z.bufferData(Z.PIXEL_PACK_BUFFER,qe.byteLength,Z.STREAM_READ),Z.readPixels(ae,Ae,ye,he,Ce.convert(Pt),Ce.convert(Ot),0);const fn=H!==null?we.get(H).__webglFramebuffer:null;Le.bindFramebuffer(Z.FRAMEBUFFER,fn);const hn=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await bH(Z,hn,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Et),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,qe),Z.deleteBuffer(Et),Z.deleteSync(hn),qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(V,ae=null,Ae=0){const ye=Math.pow(2,-Ae),he=Math.floor(V.image.width*ye),qe=Math.floor(V.image.height*ye),st=ae!==null?ae.x:0,ft=ae!==null?ae.y:0;j.setTexture2D(V,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Ae,0,0,st,ft,he,qe),Le.unbindTexture()};const Tl=Z.createFramebuffer(),Fa=Z.createFramebuffer();this.copyTextureToTexture=function(V,ae,Ae=null,ye=null,he=0,qe=null){qe===null&&(he!==0?(bA("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),qe=he,he=0):qe=0);let st,ft,ct,Pt,Ot,Et,fn,hn,Xn;const An=V.isCompressedTexture?V.mipmaps[qe]:V.image;if(Ae!==null)st=Ae.max.x-Ae.min.x,ft=Ae.max.y-Ae.min.y,ct=Ae.isBox3?Ae.max.z-Ae.min.z:1,Pt=Ae.min.x,Ot=Ae.min.y,Et=Ae.isBox3?Ae.min.z:0;else{const Ki=Math.pow(2,-he);st=Math.floor(An.width*Ki),ft=Math.floor(An.height*Ki),V.isDataArrayTexture?ct=An.depth:V.isData3DTexture?ct=Math.floor(An.depth*Ki):ct=1,Pt=0,Ot=0,Et=0}ye!==null?(fn=ye.x,hn=ye.y,Xn=ye.z):(fn=0,hn=0,Xn=0);const Ht=Ce.convert(ae.format),Rt=Ce.convert(ae.type);let bi;ae.isData3DTexture?(j.setTexture3D(ae,0),bi=Z.TEXTURE_3D):ae.isDataArrayTexture||ae.isCompressedArrayTexture?(j.setTexture2DArray(ae,0),bi=Z.TEXTURE_2D_ARRAY):(j.setTexture2D(ae,0),bi=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,ae.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,ae.unpackAlignment);const dn=Z.getParameter(Z.UNPACK_ROW_LENGTH),As=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),ea=Z.getParameter(Z.UNPACK_SKIP_PIXELS),is=Z.getParameter(Z.UNPACK_SKIP_ROWS),Ui=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,An.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,An.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Pt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Ot),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Et);const Nn=V.isDataArrayTexture||V.isData3DTexture,ss=ae.isDataArrayTexture||ae.isData3DTexture;if(V.isDepthTexture){const Ki=we.get(V),ai=we.get(ae),Xi=we.get(Ki.__renderTarget),za=we.get(ai.__renderTarget);Le.bindFramebuffer(Z.READ_FRAMEBUFFER,Xi.__webglFramebuffer),Le.bindFramebuffer(Z.DRAW_FRAMEBUFFER,za.__webglFramebuffer);for(let _s=0;_s<ct;_s++)Nn&&(Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,we.get(V).__webglTexture,he,Et+_s),Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,we.get(ae).__webglTexture,qe,Xn+_s)),Z.blitFramebuffer(Pt,Ot,st,ft,fn,hn,st,ft,Z.DEPTH_BUFFER_BIT,Z.NEAREST);Le.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Le.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else if(he!==0||V.isRenderTargetTexture||we.has(V)){const Ki=we.get(V),ai=we.get(ae);Le.bindFramebuffer(Z.READ_FRAMEBUFFER,Tl),Le.bindFramebuffer(Z.DRAW_FRAMEBUFFER,Fa);for(let Xi=0;Xi<ct;Xi++)Nn?Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Ki.__webglTexture,he,Et+Xi):Z.framebufferTexture2D(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Ki.__webglTexture,he),ss?Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,ai.__webglTexture,qe,Xn+Xi):Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,ai.__webglTexture,qe),he!==0?Z.blitFramebuffer(Pt,Ot,st,ft,fn,hn,st,ft,Z.COLOR_BUFFER_BIT,Z.NEAREST):ss?Z.copyTexSubImage3D(bi,qe,fn,hn,Xn+Xi,Pt,Ot,st,ft):Z.copyTexSubImage2D(bi,qe,fn,hn,Pt,Ot,st,ft);Le.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Le.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else ss?V.isDataTexture||V.isData3DTexture?Z.texSubImage3D(bi,qe,fn,hn,Xn,st,ft,ct,Ht,Rt,An.data):ae.isCompressedArrayTexture?Z.compressedTexSubImage3D(bi,qe,fn,hn,Xn,st,ft,ct,Ht,An.data):Z.texSubImage3D(bi,qe,fn,hn,Xn,st,ft,ct,Ht,Rt,An):V.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,qe,fn,hn,st,ft,Ht,Rt,An.data):V.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,qe,fn,hn,An.width,An.height,Ht,An.data):Z.texSubImage2D(Z.TEXTURE_2D,qe,fn,hn,st,ft,Ht,Rt,An);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,dn),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,As),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,ea),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,is),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Ui),qe===0&&ae.generateMipmaps&&Z.generateMipmap(bi),Le.unbindTexture()},this.copyTextureToTexture3D=function(V,ae,Ae=null,ye=null,he=0){return bA('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(V,ae,Ae,ye,he)},this.initRenderTarget=function(V){we.get(V).__webglFramebuffer===void 0&&j.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?j.setTextureCube(V,0):V.isData3DTexture?j.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?j.setTexture2DArray(V,0):j.setTexture2D(V,0),Le.unbindTexture()},this.resetState=function(){P=0,F=0,H=null,Le.reset(),ot.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return vo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=bn._getDrawingBufferColorSpace(e),t.unpackColorSpace=bn._getUnpackColorSpace()}}const Lk=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:cE,AddEquation:Mu,AddOperation:uO,AdditiveAnimationBlendMode:AE,AdditiveBlending:Cb,AgXToneMapping:mO,AlphaFormat:dE,AlwaysCompare:DO,AlwaysDepth:kA,AlwaysStencilFunc:Db,AmbientLight:AL,AnimationAction:wL,AnimationClip:Ap,AnimationLoader:JG,AnimationMixer:BL,AnimationObjectGroup:x6,AnimationUtils:YG,ArcCurve:YO,ArrayCamera:TL,ArrowHelper:X6,AttachedBindMode:Bb,Audio:CL,AudioAnalyser:f6,AudioContext:WE,AudioListener:l6,AudioLoader:a6,AxesHelper:j6,BackSide:pa,BasicDepthPacking:SO,BasicShadowMap:X3,BatchedMesh:XO,Bone:lx,BooleanKeyframeTrack:Eh,Box2:B6,Box3:Ks,Box3Helper:V6,BoxGeometry:Mh,BoxHelper:G6,BufferAttribute:Bn,BufferGeometry:Jt,BufferGeometryLoader:ML,ByteType:uE,Cache:dc,Camera:ax,CameraHelper:H6,CanvasTexture:mG,CapsuleGeometry:hx,CatmullRomCurve3:qO,CineonToneMapping:dO,CircleGeometry:dx,ClampToEdgeWrapping:$a,Clock:KE,Color:ut,ColorKeyframeTrack:VE,ColorManagement:bn,CompressedArrayTexture:dG,CompressedCubeTexture:pG,CompressedTexture:ux,CompressedTextureLoader:ZG,ConeGeometry:px,ConstantAlphaFactor:oO,ConstantColorFactor:aO,Controls:q6,CubeCamera:zO,CubeReflectionMapping:vc,CubeRefractionMapping:wu,CubeTexture:dy,CubeTextureLoader:QG,CubeUVReflectionMapping:Mp,CubicBezierCurve:LE,CubicBezierCurve3:WO,CubicInterpolant:dL,CullFaceBack:Tb,CullFaceFront:k3,CullFaceFrontBack:Rz,CullFaceNone:V3,Curve:bo,CurvePath:JO,CustomBlending:j3,CustomToneMapping:pO,CylinderGeometry:Tp,Cylindrical:w6,Data3DTexture:sx,DataArrayTexture:hy,DataTexture:Al,DataTextureLoader:$G,DataUtils:HH,DecrementStencilOp:zz,DecrementWrapStencilOp:Gz,DefaultLoadingManager:gL,DepthFormat:fp,DepthStencilFormat:hp,DepthTexture:DE,DetachedBindMode:yO,DirectionalLight:qE,DirectionalLightHelper:z6,DiscreteInterpolant:pL,DodecahedronGeometry:mx,DoubleSide:yo,DstAlphaFactor:eO,DstColorFactor:nO,DynamicCopyUsage:nH,DynamicDrawUsage:Jz,DynamicReadUsage:$z,EdgesGeometry:ZO,EllipseCurve:fx,EqualCompare:CO,EqualDepth:jA,EqualStencilFunc:jz,EquirectangularReflectionMapping:Vg,EquirectangularRefractionMapping:kg,Euler:ir,EventDispatcher:Ml,ExtrudeGeometry:gx,FileLoader:sr,Float16BufferAttribute:qH,Float32BufferAttribute:xt,FloatType:La,Fog:ox,FogExp2:rx,FramebufferTexture:hG,FrontSide:Sl,Frustum:gy,GLBufferAttribute:R6,GLSL1:sH,GLSL3:Ob,GreaterCompare:RO,GreaterDepth:qA,GreaterEqualCompare:BO,GreaterEqualDepth:YA,GreaterEqualStencilFunc:Kz,GreaterStencilFunc:qz,GridHelper:I6,Group:hc,HalfFloatType:Ep,HemisphereLight:vL,HemisphereLightHelper:P6,IcosahedronGeometry:yx,ImageBitmapLoader:EL,ImageLoader:$g,ImageUtils:UO,IncrementStencilOp:Fz,IncrementWrapStencilOp:Hz,InstancedBufferAttribute:dh,InstancedBufferGeometry:bL,InstancedInterleavedBuffer:C6,InstancedMesh:RE,Int16BufferAttribute:jH,Int32BufferAttribute:YH,Int8BufferAttribute:VH,IntType:J_,InterleavedBuffer:py,InterleavedBufferAttribute:Ou,Interpolant:Rp,InterpolateDiscrete:dp,InterpolateLinear:pp,InterpolateSmooth:SA,InvertStencilOp:Vz,KeepStencilOp:Wf,KeyframeTrack:Br,LOD:kO,LatheGeometry:yy,Layers:gp,LessCompare:TO,LessDepth:XA,LessEqualCompare:xE,LessEqualDepth:hh,LessEqualStencilFunc:Yz,LessStencilFunc:Xz,Light:zu,LightProbe:SL,Line:_c,Line3:D6,LineBasicMaterial:Zs,LineCurve:NE,LineCurve3:KO,LineDashedMaterial:uL,LineLoop:wE,LineSegments:So,LinearFilter:Gi,LinearInterpolant:GE,LinearMipMapLinearFilter:Oz,LinearMipMapNearestFilter:Dz,LinearMipmapLinearFilter:Tr,LinearMipmapNearestFilter:ep,LinearSRGBColorSpace:Du,LinearToneMapping:fO,LinearTransfer:jg,Loader:Qs,LoaderUtils:Cu,LoadingManager:kE,LoopOnce:vO,LoopPingPong:_O,LoopRepeat:AO,LuminanceAlphaFormat:gE,LuminanceFormat:mE,MOUSE:Yf,Material:es,MaterialLoader:Mx,MathUtils:OO,Matrix2:$E,Matrix3:Kt,Matrix4:Nt,MaxEquation:K3,Mesh:Vi,MeshBasicMaterial:er,MeshDepthMaterial:FE,MeshDistanceMaterial:zE,MeshLambertMaterial:lL,MeshMatcapMaterial:cL,MeshNormalMaterial:oL,MeshPhongMaterial:aL,MeshPhysicalMaterial:wr,MeshStandardMaterial:_y,MeshToonMaterial:rL,MinEquation:W3,MirroredRepeatWrapping:lp,MixOperation:cO,MultiplyBlending:wb,MultiplyOperation:uy,NearestFilter:ys,NearestMipMapLinearFilter:Bz,NearestMipMapNearestFilter:wz,NearestMipmapLinearFilter:$f,NearestMipmapNearestFilter:K_,NeutralToneMapping:gO,NeverCompare:EO,NeverDepth:VA,NeverStencilFunc:kz,NoBlending:pc,NoColorSpace:uc,NoToneMapping:vl,NormalAnimationBlendMode:nx,NormalBlending:lh,NotEqualCompare:wO,NotEqualDepth:WA,NotEqualStencilFunc:Wz,NumberKeyframeTrack:mh,Object3D:vn,ObjectLoader:i6,ObjectSpaceNormalMap:MO,OctahedronGeometry:vy,OneFactor:Z3,OneMinusConstantAlphaFactor:lO,OneMinusConstantColorFactor:rO,OneMinusDstAlphaFactor:tO,OneMinusDstColorFactor:iO,OneMinusSrcAlphaFactor:GA,OneMinusSrcColorFactor:$3,OrthographicCamera:gc,PCFShadowMap:q_,PCFSoftShadowMap:bg,PMREMGenerator:Hb,Path:Kg,PerspectiveCamera:Ni,Plane:lc,PlaneGeometry:Cp,PlaneHelper:k6,PointLight:YE,PointLightHelper:N6,Points:BE,PointsMaterial:cx,PolarGridHelper:F6,PolyhedronGeometry:Fu,PositionalAudio:u6,PropertyBinding:Cn,PropertyMixer:RL,QuadraticBezierCurve:UE,QuadraticBezierCurve3:PE,Quaternion:vs,QuaternionKeyframeTrack:gh,QuaternionLinearInterpolant:mL,RED_GREEN_RGTC2_Format:A_,RED_RGTC1_Format:vE,REVISION:cy,RGBADepthPacking:bO,RGBAFormat:Ws,RGBAIntegerFormat:tx,RGBA_ASTC_10x10_Format:d_,RGBA_ASTC_10x5_Format:u_,RGBA_ASTC_10x6_Format:f_,RGBA_ASTC_10x8_Format:h_,RGBA_ASTC_12x10_Format:p_,RGBA_ASTC_12x12_Format:m_,RGBA_ASTC_4x4_Format:n_,RGBA_ASTC_5x4_Format:i_,RGBA_ASTC_5x5_Format:s_,RGBA_ASTC_6x5_Format:a_,RGBA_ASTC_6x6_Format:r_,RGBA_ASTC_8x5_Format:o_,RGBA_ASTC_8x6_Format:l_,RGBA_ASTC_8x8_Format:c_,RGBA_BPTC_Format:Rg,RGBA_ETC2_EAC_Format:t_,RGBA_PVRTC_2BPPV1_Format:QA,RGBA_PVRTC_4BPPV1_Format:ZA,RGBA_S3TC_DXT1_Format:Eg,RGBA_S3TC_DXT3_Format:Tg,RGBA_S3TC_DXT5_Format:Cg,RGBDepthPacking:Nz,RGBFormat:pE,RGBIntegerFormat:Lz,RGB_BPTC_SIGNED_Format:g_,RGB_BPTC_UNSIGNED_Format:y_,RGB_ETC1_Format:$A,RGB_ETC2_Format:e_,RGB_PVRTC_2BPPV1_Format:JA,RGB_PVRTC_4BPPV1_Format:KA,RGB_S3TC_DXT1_Format:Mg,RGDepthPacking:Uz,RGFormat:yE,RGIntegerFormat:ex,RawShaderMaterial:sL,Ray:bh,Raycaster:DL,RectAreaLight:_L,RedFormat:$_,RedIntegerFormat:fy,ReinhardToneMapping:hO,RenderTarget:ix,RenderTarget3D:b6,RenderTargetArray:M6,RepeatWrapping:Bu,ReplaceStencilOp:Iz,ReverseSubtractEquation:q3,RingGeometry:vx,SIGNED_RED_GREEN_RGTC2_Format:__,SIGNED_RED_RGTC1_Format:v_,SRGBColorSpace:Ys,SRGBTransfer:kn,Scene:EE,ShaderChunk:sn,ShaderLib:go,ShaderMaterial:xo,ShadowMaterial:iL,Shape:uh,ShapeGeometry:Ax,ShapePath:Y6,ShapeUtils:_l,ShortType:fE,Skeleton:my,SkeletonHelper:L6,SkinnedMesh:CE,Source:Tu,Sphere:Bs,SphereGeometry:Ay,Spherical:Fb,SphericalHarmonics3:xL,SplineCurve:IE,SpotLight:jE,SpotLightHelper:O6,Sprite:VO,SpriteMaterial:TE,SrcAlphaFactor:HA,SrcAlphaSaturateFactor:sO,SrcColorFactor:Q3,StaticCopyUsage:tH,StaticDrawUsage:Yg,StaticReadUsage:Qz,StereoCamera:r6,StreamCopyUsage:iH,StreamDrawUsage:Zz,StreamReadUsage:eH,StringKeyframeTrack:Th,SubtractEquation:Y3,SubtractiveBlending:Rb,TOUCH:qf,TangentSpaceNormalMap:Iu,TetrahedronGeometry:_x,Texture:ui,TextureLoader:yL,TextureUtils:Q6,TimestampQuery:aH,TorusGeometry:xx,TorusKnotGeometry:Sx,Triangle:Oa,TriangleFanDrawMode:x_,TriangleStripDrawMode:_E,TrianglesDrawMode:xO,TubeGeometry:bx,UVMapping:W_,Uint16BufferAttribute:bE,Uint32BufferAttribute:ME,Uint8BufferAttribute:kH,Uint8ClampedBufferAttribute:XH,Uniform:QE,UniformsGroup:T6,UniformsLib:dt,UniformsUtils:FO,UnsignedByteType:_o,UnsignedInt248Type:up,UnsignedInt5999Type:hE,UnsignedIntType:Ac,UnsignedShort4444Type:Z_,UnsignedShort5551Type:Q_,UnsignedShortType:cp,VSMShadowMap:mo,Vector2:He,Vector3:q,Vector4:Rn,VectorKeyframeTrack:yh,VideoFrameTexture:fG,VideoTexture:jO,WebGL3DRenderTarget:BH,WebGLArrayRenderTarget:wH,WebGLCoordinateSystem:vo,WebGLCubeRenderTarget:HO,WebGLRenderTarget:bl,WebGLRenderer:zL,WebGLUtils:FL,WebGPUCoordinateSystem:qg,WebXRController:MA,WireframeGeometry:nL,WrapAroundEnding:Xg,ZeroCurvatureEnding:eh,ZeroFactor:J3,ZeroSlopeEnding:th,ZeroStencilOp:Pz,createCanvasElement:NO},Symbol.toStringTag,{value:"Module"}));var L1={exports:{}},rc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function Nk(){return Uw||(Uw=1,rc.ConcurrentRoot=1,rc.ContinuousEventPriority=8,rc.DefaultEventPriority=32,rc.DiscreteEventPriority=2,rc.IdleEventPriority=268435456,rc.LegacyRoot=0,rc.NoEventPriority=0),rc}var Pw;function Uk(){return Pw||(Pw=1,L1.exports=Nk()),L1.exports}var TA=Uk(),N1={exports:{}},U1={},P1={exports:{}},I1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function Pk(){if(Iw)return I1;Iw=1;var i=Rr();function e(y,A){return y===A&&(y!==0||1/y===1/A)||y!==y&&A!==A}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,s=i.useEffect,a=i.useLayoutEffect,o=i.useDebugValue;function c(y,A){var _=A(),S=n({inst:{value:_,getSnapshot:A}}),T=S[0].inst,E=S[1];return a(function(){T.value=_,T.getSnapshot=A,h(T)&&E({inst:T})},[y,_,A]),s(function(){return h(T)&&E({inst:T}),y(function(){h(T)&&E({inst:T})})},[y]),o(_),_}function h(y){var A=y.getSnapshot;y=y.value;try{var _=A();return!t(y,_)}catch{return!0}}function p(y,A){return A()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return I1.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:m,I1}var Fw;function Ik(){return Fw||(Fw=1,P1.exports=Pk()),P1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function Fk(){if(zw)return U1;zw=1;var i=Rr(),e=Ik();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=i.useRef,o=i.useEffect,c=i.useMemo,h=i.useDebugValue;return U1.useSyncExternalStoreWithSelector=function(p,m,y,A,_){var S=a(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=c(function(){function b(P){if(!w){if(w=!0,B=P,P=A(P),_!==void 0&&T.hasValue){var F=T.value;if(_(F,P))return D=F}return D=P}if(F=D,n(B,P))return F;var H=A(P);return _!==void 0&&_(F,H)?(B=P,F):(B=P,D=H)}var w=!1,B,D,U=y===void 0?null:y;return[function(){return b(m())},U===null?void 0:function(){return b(U())}]},[m,y,A,_]);var E=s(p,S[0],S[1]);return o(function(){T.hasValue=!0,T.value=E},[E]),h(E),E},U1}var Hw;function zk(){return Hw||(Hw=1,N1.exports=Fk()),N1.exports}var Hk=zk();const Gk=I_(Hk),Gw=i=>{let e;const t=new Set,n=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const A=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(_=>_(e,A))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=i(n,s,c);return c},Vk=i=>i?Gw(i):Gw,{useSyncExternalStoreWithSelector:kk}=Gk,Xk=i=>i;function jk(i,e=Xk,t){const n=kk(i.subscribe,i.getState,i.getInitialState,e,t);return Cr.useDebugValue(n),n}const Vw=(i,e)=>{const t=Vk(i),n=(s,a=e)=>jk(t,s,a);return Object.assign(n,t),n},Yk=(i,e)=>i?Vw(i,e):Vw;var F1={exports:{}},z1={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function qk(){return kw||(kw=1,function(i){i.exports=function(e){function t(u,f,v,M){return new Jy(u,f,v,M)}function n(){}function s(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return u===null||typeof u!="object"?null:(u=Un&&u[Un]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Ti?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case Go:return"Fragment";case fr:return"Portal";case Vo:return"Profiler";case Fl:return"StrictMode";case qr:return"Suspense";case gf:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case ko:return(u.displayName||"Context")+".Provider";case am:return(u._context.displayName||"Context")+".Consumer";case Zh:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Vc:return f=u.displayName||null,f!==null?f:o(u.type)||"Memo";case Wr:f=u._payload,u=u._init;try{return o(u(f))}catch{}}return null}function c(u){if(Xo===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);Xo=f&&f[1]||"",jo=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xo+u+jo}function h(u,f){if(!u||kc)return"";kc=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(f){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(kt){var Ze=kt}Reflect.construct(u,[],ht)}else{try{ht.call()}catch(kt){Ze=kt}u.call(ht.prototype)}}else{try{throw Error()}catch(kt){Ze=kt}(ht=u())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(kt){if(kt&&Ze&&typeof kt.stack=="string")return[kt.stack,Ze.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=M.DetermineComponentFrameRoot(),X=O[0],Q=O[1];if(X&&Q){var me=X.split(`
`),Fe=Q.split(`
`);for(R=M=0;M<me.length&&!me[M].includes("DetermineComponentFrameRoot");)M++;for(;R<Fe.length&&!Fe[R].includes("DetermineComponentFrameRoot");)R++;if(M===me.length||R===Fe.length)for(M=me.length-1,R=Fe.length-1;1<=M&&0<=R&&me[M]!==Fe[R];)R--;for(;1<=M&&0<=R;M--,R--)if(me[M]!==Fe[R]){if(M!==1||R!==1)do if(M--,R--,0>R||me[M]!==Fe[R]){var $e=`
`+me[M].replace(" at new "," at ");return u.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",u.displayName)),$e}while(1<=M&&0<=R);break}}}finally{kc=!1,Error.prepareStackTrace=v}return(v=u?u.displayName||u.name:"")?c(v):""}function p(u){switch(u.tag){case 26:case 27:case 5:return c(u.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return u=h(u.type,!1),u;case 11:return u=h(u.type.render,!1),u;case 1:return u=h(u.type,!0),u;default:return""}}function m(u){try{var f="";do f+=p(u),u=u.return;while(u);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function y(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function A(u){if(y(u)!==u)throw Error(s(188))}function _(u){var f=u.alternate;if(!f){if(f=y(u),f===null)throw Error(s(188));return f!==u?null:u}for(var v=u,M=f;;){var R=v.return;if(R===null)break;var O=R.alternate;if(O===null){if(M=R.return,M!==null){v=M;continue}break}if(R.child===O.child){for(O=R.child;O;){if(O===v)return A(R),u;if(O===M)return A(R),f;O=O.sibling}throw Error(s(188))}if(v.return!==M.return)v=R,M=O;else{for(var X=!1,Q=R.child;Q;){if(Q===v){X=!0,v=R,M=O;break}if(Q===M){X=!0,M=R,v=O;break}Q=Q.sibling}if(!X){for(Q=O.child;Q;){if(Q===v){X=!0,v=O,M=R;break}if(Q===M){X=!0,M=O,v=R;break}Q=Q.sibling}if(!X)throw Error(s(189))}}if(v.alternate!==M)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?u:f}function S(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=S(u),f!==null)return f;u=u.sibling}return null}function T(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(f=T(u),f!==null))return f;u=u.sibling}return null}function E(u){return{current:u}}function b(u){0>Ko||(u.current=ud[Ko],ud[Ko]=null,Ko--)}function w(u,f){Ko++,ud[Ko]=u.current,u.current=f}function B(u){return u>>>=0,u===0?32:31-(wm(u)/Zx|0)|0}function D(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function U(u,f){var v=u.pendingLanes;if(v===0)return 0;var M=0,R=u.suspendedLanes,O=u.pingedLanes,X=u.warmLanes;u=u.finishedLanes!==0;var Q=v&134217727;return Q!==0?(v=Q&~R,v!==0?M=D(v):(O&=Q,O!==0?M=D(O):u||(X=Q&~X,X!==0&&(M=D(X))))):(Q=v&~R,Q!==0?M=D(Q):O!==0?M=D(O):u||(X=v&~X,X!==0&&(M=D(X)))),M===0?0:f!==0&&f!==M&&(f&R)===0&&(R=M&-M,X=f&-f,R>=X||R===32&&(X&4194176)!==0)?f:M}function P(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function F(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var u=_f;return _f<<=1,(_f&4194176)===0&&(_f=128),u}function N(){var u=Wc;return Wc<<=1,(Wc&62914560)===0&&(Wc=4194304),u}function L(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function G(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function W(u,f,v,M,R,O){var X=u.pendingLanes;u.pendingLanes=v,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=v,u.entangledLanes&=v,u.errorRecoveryDisabledLanes&=v,u.shellSuspendCounter=0;var Q=u.entanglements,me=u.expirationTimes,Fe=u.hiddenUpdates;for(v=X&~v;0<v;){var $e=31-mi(v),ht=1<<$e;Q[$e]=0,me[$e]=-1;var Ze=Fe[$e];if(Ze!==null)for(Fe[$e]=null,$e=0;$e<Ze.length;$e++){var kt=Ze[$e];kt!==null&&(kt.lane&=-536870913)}v&=~ht}M!==0&&K(u,M,0),O!==0&&R===0&&u.tag!==0&&(u.suspendedLanes|=O&~(X&~f))}function K(u,f,v){u.pendingLanes|=f,u.suspendedLanes&=~f;var M=31-mi(f);u.entangledLanes|=f,u.entanglements[M]=u.entanglements[M]|1073741824|v&4194218}function $(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var M=31-mi(v),R=1<<M;R&f|u[M]&f&&(u[M]|=f),v&=~R}}function ge(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function ee(u){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(Jc,u,void 0,(u.current.flags&128)===128)}catch{}}function re(u){if(typeof os=="function"&&hd(u),Ci&&typeof Ci.setStrictMode=="function")try{Ci.setStrictMode(Jc,u)}catch{}}function se(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}function Te(u,f){if(typeof u=="object"&&u!==null){var v=dd.get(u);return v!==void 0?v:(f={value:u,source:f,stack:m(f)},dd.set(u,f),f)}return{value:u,source:f,stack:m(f)}}function Y(u,f){aa[ra++]=Zc,aa[ra++]=Zo,Zo=u,Zc=f}function oe(u,f,v){Fs[ls++]=mr,Fs[ls++]=gr,Fs[ls++]=Xa,Xa=u;var M=mr;u=gr;var R=32-mi(M)-1;M&=~(1<<R),v+=1;var O=32-mi(f)+R;if(30<O){var X=R-R%5;O=(M&(1<<X)-1).toString(32),M>>=X,R-=X,mr=1<<32-mi(f)+R|v<<R|M,gr=O+u}else mr=1<<O|v<<R|M,gr=u}function Oe(u){u.return!==null&&(Y(u,1),oe(u,1,0))}function je(u){for(;u===Zo;)Zo=aa[--ra],aa[ra]=null,Zc=aa[--ra],aa[ra]=null;for(;u===Xa;)Xa=Fs[--ls],Fs[ls]=null,gr=Fs[--ls],Fs[ls]=null,mr=Fs[--ls],Fs[ls]=null}function ie(u,f){w($r,f),w(_a,u),w(gi,null),u=rm(f),b(gi),w(gi,u)}function Re(){b(gi),b(_a),b($r)}function Ge(u){u.memoizedState!==null&&w(Sf,u);var f=gi.current,v=Zy(f,u.type);f!==v&&(w(_a,u),w(gi,v))}function Ye(u){_a.current===u&&(b(gi),b(_a)),Sf.current===u&&(b(Sf),Ga?Jr._currentValue=Hl:Jr._currentValue2=Hl)}function ke(u){var f=Error(s(418,""));throw Bt(Te(f,u)),bf}function vt(u,f){if(!Is)throw Error(s(175));kl(u.stateNode,u.type,u.memoizedProps,f,u)||ke(u)}function it(u){for(yi=u.return;yi;)switch(yi.tag){case 3:case 27:ja=!0;return;case 5:case 13:ja=!1;return;default:yi=yi.return}}function Ct(u){if(!Is||u!==yi)return!1;if(!xn)return it(u),xn=!0,!1;var f=!1;if(Yi?u.tag!==3&&u.tag!==27&&(u.tag!==5||Am(u.type)&&!$i(u.type,u.memoizedProps))&&(f=!0):u.tag!==3&&(u.tag!==5||Am(u.type)&&!$i(u.type,u.memoizedProps))&&(f=!0),f&&In&&ke(u),it(u),u.tag===13){if(!Is)throw Error(s(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));In=w0(u)}else In=yi?Wo(u.stateNode):null;return!0}function Xt(){Is&&(In=yi=null,xn=!1)}function Bt(u){xa===null?xa=[u]:xa.push(u)}function Z(){for(var u=eo,f=Ya=eo=0;f<u;){var v=zs[f];zs[f++]=null;var M=zs[f];zs[f++]=null;var R=zs[f];zs[f++]=null;var O=zs[f];if(zs[f++]=null,M!==null&&R!==null){var X=M.pending;X===null?R.next=R:(R.next=X.next,X.next=R),M.pending=R}O!==0&&Le(v,R,O)}}function Mn(u,f,v,M){zs[eo++]=u,zs[eo++]=f,zs[eo++]=v,zs[eo++]=M,Ya|=M,u.lanes|=M,u=u.alternate,u!==null&&(u.lanes|=M)}function Pe(u,f,v,M){return Mn(u,f,v,M),nt(u)}function Ve(u,f){return Mn(u,null,null,f),nt(u)}function Le(u,f,v){u.lanes|=v;var M=u.alternate;M!==null&&(M.lanes|=v);for(var R=!1,O=u.return;O!==null;)O.childLanes|=v,M=O.alternate,M!==null&&(M.childLanes|=v),O.tag===22&&(u=O.stateNode,u===null||u._visibility&1||(R=!0)),u=O,O=O.return;R&&f!==null&&u.tag===3&&(O=u.stateNode,R=31-mi(v),O=O.hiddenUpdates,u=O[R],u===null?O[R]=[f]:u.push(f),f.lane=v|536870912)}function nt(u){if(50<Zl)throw Zl=0,Nm=null,Error(s(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}function we(u){u!==Qo&&u.next===null&&(Qo===null?Wn=Qo=u:Qo=Qo.next=u),vi=!0,pd||(pd=!0,De(z))}function j(u,f){if(!md&&vi){md=!0;do for(var v=!1,M=Wn;M!==null;){if(u!==0){var R=M.pendingLanes;if(R===0)var O=0;else{var X=M.suspendedLanes,Q=M.pingedLanes;O=(1<<31-mi(42|u)+1)-1,O&=R&~(X&~Q),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(v=!0,Ue(M,O))}else O=un,O=U(M,M===zn?O:0),(O&3)===0||P(M,O)||(v=!0,Ue(M,O));M=M.next}while(v);md=!1}}function z(){vi=pd=!1;var u=0;Qc!==0&&(t0()&&(u=Qc),Qc=0);for(var f=sa(),v=null,M=Wn;M!==null;){var R=M.next,O=fe(M,f);O===0?(M.next=null,v===null?Wn=R:v.next=R,R===null&&(Qo=v)):(v=M,(u!==0||(O&3)!==0)&&(vi=!0)),M=R}j(u)}function fe(u,f){for(var v=u.suspendedLanes,M=u.pingedLanes,R=u.expirationTimes,O=u.pendingLanes&-62914561;0<O;){var X=31-mi(O),Q=1<<X,me=R[X];me===-1?((Q&v)===0||(Q&M)!==0)&&(R[X]=F(Q,f)):me<=f&&(u.expiredLanes|=Q),O&=~Q}if(f=zn,v=un,v=U(u,u===f?v:0),M=u.callbackNode,v===0||u===f&&Pn===2||u.cancelPendingCommit!==null)return M!==null&&M!==null&&ka(M),u.callbackNode=null,u.callbackPriority=0;if((v&3)===0||P(u,v)){if(f=v&-v,f===u.callbackPriority)return f;switch(M!==null&&ka(M),ge(v)){case 2:case 8:v=xf;break;case 32:v=Kc;break;case 268435456:v=jl;break;default:v=Kc}return M=Se.bind(null,u),v=pr(v,M),u.callbackPriority=f,u.callbackNode=v,f}return M!==null&&M!==null&&ka(M),u.callbackPriority=2,u.callbackNode=null,2}function Se(u,f){var v=u.callbackNode;if(Io()&&u.callbackNode!==v)return null;var M=un;return M=U(u,u===zn?M:0),M===0?null:(ta(u,M,f),fe(u,sa()),u.callbackNode!=null&&u.callbackNode===v?Se.bind(null,u):null)}function Ue(u,f){if(Io())return null;ta(u,f,!0)}function De(u){a0?r0(function(){(cn&6)!==0?pr(fd,u):u()}):pr(fd,u)}function yt(){return Qc===0&&(Qc=H()),Qc}function tt(u,f){if($c===null){var v=$c=[];gd=0,Kn=yt(),qi={status:"pending",value:void 0,then:function(M){v.push(M)}}}return gd++,f.then(pt,pt),f}function pt(){if(--gd===0&&$c!==null){qi!==null&&(qi.status="fulfilled");var u=$c;$c=null,Kn=0,qi=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function qt(u,f){var v=[],M={status:"pending",value:null,reason:null,then:function(R){v.push(R)}};return u.then(function(){M.status="fulfilled",M.value=f;for(var R=0;R<v.length;R++)(0,v[R])(f)},function(R){for(M.status="rejected",M.reason=R,R=0;R<v.length;R++)(0,v[R])(void 0)}),M}function Je(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gt(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function At(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function mt(u,f,v){var M=u.updateQueue;if(M===null)return null;if(M=M.shared,(cn&2)!==0){var R=M.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),M.pending=f,f=nt(u),Le(u,null,v),f}return Mn(u,M,f,v),nt(u)}function lt(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194176)!==0)){var M=f.lanes;M&=u.pendingLanes,v|=M,f.lanes=v,$(u,v)}}function ne(u,f){var v=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,v===M)){var R=null,O=null;if(v=v.firstBaseUpdate,v!==null){do{var X={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};O===null?R=O=X:O=O.next=X,v=v.next}while(v!==null);O===null?R=O=f:O=O.next=f}else R=O=f;v={baseState:M.baseState,firstBaseUpdate:R,lastBaseUpdate:O,shared:M.shared,callbacks:M.callbacks},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function Ce(){if(yd){var u=qi;if(u!==null)throw u}}function ot(u,f,v,M){yd=!1;var R=u.updateQueue;cs=!1;var O=R.firstBaseUpdate,X=R.lastBaseUpdate,Q=R.shared.pending;if(Q!==null){R.shared.pending=null;var me=Q,Fe=me.next;me.next=null,X===null?O=Fe:X.next=Fe,X=me;var $e=u.alternate;$e!==null&&($e=$e.updateQueue,Q=$e.lastBaseUpdate,Q!==X&&(Q===null?$e.firstBaseUpdate=Fe:Q.next=Fe,$e.lastBaseUpdate=me))}if(O!==null){var ht=R.baseState;X=0,$e=Fe=me=null,Q=O;do{var Ze=Q.lane&-536870913,kt=Ze!==Q.lane;if(kt?(un&Ze)===Ze:(M&Ze)===Ze){Ze!==0&&Ze===Kn&&(yd=!0),$e!==null&&($e=$e.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var wa=u,au=Q;Ze=f;var Ql=v;switch(au.tag){case 1:if(wa=au.payload,typeof wa=="function"){ht=wa.call(Ql,ht,Ze);break e}ht=wa;break e;case 3:wa.flags=wa.flags&-65537|128;case 0:if(wa=au.payload,Ze=typeof wa=="function"?wa.call(Ql,ht,Ze):wa,Ze==null)break e;ht=di({},ht,Ze);break e;case 2:cs=!0}}Ze=Q.callback,Ze!==null&&(u.flags|=64,kt&&(u.flags|=8192),kt=R.callbacks,kt===null?R.callbacks=[Ze]:kt.push(Ze))}else kt={lane:Ze,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},$e===null?(Fe=$e=kt,me=ht):$e=$e.next=kt,X|=Ze;if(Q=Q.next,Q===null){if(Q=R.shared.pending,Q===null)break;kt=Q,Q=kt.next,kt.next=null,R.lastBaseUpdate=kt,R.shared.pending=null}}while(!0);$e===null&&(me=ht),R.baseState=me,R.firstBaseUpdate=Fe,R.lastBaseUpdate=$e,O===null&&(R.shared.lanes=0),Ca|=X,u.lanes=X,u.memoizedState=ht}}function te(u,f){if(typeof u!="function")throw Error(s(191,u));u.call(f)}function Qe(u,f){var v=u.callbacks;if(v!==null)for(u.callbacks=null,u=0;u<v.length;u++)te(v[u],f)}function Ee(u,f){if(Ms(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),M=Object.keys(f);if(v.length!==M.length)return!1;for(M=0;M<v.length;M++){var R=v[M];if(!I0.call(f,R)||!Ms(u[R],f[R]))return!1}return!0}function Ie(u){return u=u.status,u==="fulfilled"||u==="rejected"}function at(){}function rt(u,f,v){switch(v=u[v],v===void 0?u.push(f):v!==f&&(f.then(at,at),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===Mf?Error(s(483)):u;default:if(typeof f.status=="string")f.then(at,at);else{if(u=zn,u!==null&&100<u.shellSuspendCounter)throw Error(s(482));u=f,u.status="pending",u.then(function(M){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=M}},function(M){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=M}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===Mf?Error(s(483)):u}throw us=f,Mf}}function St(){if(us===null)throw Error(s(459));var u=us;return us=null,u}function on(u){var f=fs;return fs+=1,Yl===null&&(Yl=[]),rt(Yl,u,f)}function Ln(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Wt(u,f){throw f.$$typeof===sm?Error(s(525)):(u=Object.prototype.toString.call(f),Error(s(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function ii(u){var f=u._init;return f(u._payload)}function fi(u){function f(_e,de){if(u){var be=_e.deletions;be===null?(_e.deletions=[de],_e.flags|=16):be.push(de)}}function v(_e,de){if(!u)return null;for(;de!==null;)f(_e,de),de=de.sibling;return null}function M(_e){for(var de=new Map;_e!==null;)_e.key!==null?de.set(_e.key,_e):de.set(_e.index,_e),_e=_e.sibling;return de}function R(_e,de){return _e=Xr(_e,de),_e.index=0,_e.sibling=null,_e}function O(_e,de,be){return _e.index=be,u?(be=_e.alternate,be!==null?(be=be.index,be<de?(_e.flags|=33554434,de):be):(_e.flags|=33554434,de)):(_e.flags|=1048576,de)}function X(_e){return u&&_e.alternate===null&&(_e.flags|=33554434),_e}function Q(_e,de,be,Ke){return de===null||de.tag!==6?(de=mf(be,_e.mode,Ke),de.return=_e,de):(de=R(de,be),de.return=_e,de)}function me(_e,de,be,Ke){var bt=be.type;return bt===Go?$e(_e,de,be.props.children,Ke,be.key):de!==null&&(de.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Wr&&ii(bt)===de.type)?(de=R(de,be.props),Ln(de,be),de.return=_e,de):(de=Il(be.type,be.key,be.props,null,_e.mode,Ke),Ln(de,be),de.return=_e,de)}function Fe(_e,de,be,Ke){return de===null||de.tag!==4||de.stateNode.containerInfo!==be.containerInfo||de.stateNode.implementation!==be.implementation?(de=Ps(be,_e.mode,Ke),de.return=_e,de):(de=R(de,be.children||[]),de.return=_e,de)}function $e(_e,de,be,Ke,bt){return de===null||de.tag!==7?(de=zo(be,_e.mode,Ke,bt),de.return=_e,de):(de=R(de,be),de.return=_e,de)}function ht(_e,de,be){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=mf(""+de,_e.mode,be),de.return=_e,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case Ho:return be=Il(de.type,de.key,de.props,null,_e.mode,be),Ln(be,de),be.return=_e,be;case fr:return de=Ps(de,_e.mode,be),de.return=_e,de;case Wr:var Ke=de._init;return de=Ke(de._payload),ht(_e,de,be)}if(Yo(de)||a(de))return de=zo(de,_e.mode,be,null),de.return=_e,de;if(typeof de.then=="function")return ht(_e,on(de),be);if(de.$$typeof===ko)return ht(_e,Qu(_e,de),be);Wt(_e,de)}return null}function Ze(_e,de,be,Ke){var bt=de!==null?de.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return bt!==null?null:Q(_e,de,""+be,Ke);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case Ho:return be.key===bt?me(_e,de,be,Ke):null;case fr:return be.key===bt?Fe(_e,de,be,Ke):null;case Wr:return bt=be._init,be=bt(be._payload),Ze(_e,de,be,Ke)}if(Yo(be)||a(be))return bt!==null?null:$e(_e,de,be,Ke,null);if(typeof be.then=="function")return Ze(_e,de,on(be),Ke);if(be.$$typeof===ko)return Ze(_e,de,Qu(_e,be),Ke);Wt(_e,be)}return null}function kt(_e,de,be,Ke,bt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return _e=_e.get(be)||null,Q(de,_e,""+Ke,bt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Ho:return _e=_e.get(Ke.key===null?be:Ke.key)||null,me(de,_e,Ke,bt);case fr:return _e=_e.get(Ke.key===null?be:Ke.key)||null,Fe(de,_e,Ke,bt);case Wr:var Hn=Ke._init;return Ke=Hn(Ke._payload),kt(_e,de,be,Ke,bt)}if(Yo(Ke)||a(Ke))return _e=_e.get(be)||null,$e(de,_e,Ke,bt,null);if(typeof Ke.then=="function")return kt(_e,de,be,on(Ke),bt);if(Ke.$$typeof===ko)return kt(_e,de,be,Qu(de,Ke),bt);Wt(de,Ke)}return null}function wa(_e,de,be,Ke){for(var bt=null,Hn=null,Ut=de,rn=de=0,Vn=null;Ut!==null&&rn<be.length;rn++){Ut.index>rn?(Vn=Ut,Ut=null):Vn=Ut.sibling;var pn=Ze(_e,Ut,be[rn],Ke);if(pn===null){Ut===null&&(Ut=Vn);break}u&&Ut&&pn.alternate===null&&f(_e,Ut),de=O(pn,de,rn),Hn===null?bt=pn:Hn.sibling=pn,Hn=pn,Ut=Vn}if(rn===be.length)return v(_e,Ut),xn&&Y(_e,rn),bt;if(Ut===null){for(;rn<be.length;rn++)Ut=ht(_e,be[rn],Ke),Ut!==null&&(de=O(Ut,de,rn),Hn===null?bt=Ut:Hn.sibling=Ut,Hn=Ut);return xn&&Y(_e,rn),bt}for(Ut=M(Ut);rn<be.length;rn++)Vn=kt(Ut,_e,rn,be[rn],Ke),Vn!==null&&(u&&Vn.alternate!==null&&Ut.delete(Vn.key===null?rn:Vn.key),de=O(Vn,de,rn),Hn===null?bt=Vn:Hn.sibling=Vn,Hn=Vn);return u&&Ut.forEach(function(ol){return f(_e,ol)}),xn&&Y(_e,rn),bt}function au(_e,de,be,Ke){if(be==null)throw Error(s(151));for(var bt=null,Hn=null,Ut=de,rn=de=0,Vn=null,pn=be.next();Ut!==null&&!pn.done;rn++,pn=be.next()){Ut.index>rn?(Vn=Ut,Ut=null):Vn=Ut.sibling;var ol=Ze(_e,Ut,pn.value,Ke);if(ol===null){Ut===null&&(Ut=Vn);break}u&&Ut&&ol.alternate===null&&f(_e,Ut),de=O(ol,de,rn),Hn===null?bt=ol:Hn.sibling=ol,Hn=ol,Ut=Vn}if(pn.done)return v(_e,Ut),xn&&Y(_e,rn),bt;if(Ut===null){for(;!pn.done;rn++,pn=be.next())pn=ht(_e,pn.value,Ke),pn!==null&&(de=O(pn,de,rn),Hn===null?bt=pn:Hn.sibling=pn,Hn=pn);return xn&&Y(_e,rn),bt}for(Ut=M(Ut);!pn.done;rn++,pn=be.next())pn=kt(Ut,_e,rn,pn.value,Ke),pn!==null&&(u&&pn.alternate!==null&&Ut.delete(pn.key===null?rn:pn.key),de=O(pn,de,rn),Hn===null?bt=pn:Hn.sibling=pn,Hn=pn);return u&&Ut.forEach(function(z0){return f(_e,z0)}),xn&&Y(_e,rn),bt}function Ql(_e,de,be,Ke){if(typeof be=="object"&&be!==null&&be.type===Go&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case Ho:e:{for(var bt=be.key;de!==null;){if(de.key===bt){if(bt=be.type,bt===Go){if(de.tag===7){v(_e,de.sibling),Ke=R(de,be.props.children),Ke.return=_e,_e=Ke;break e}}else if(de.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Wr&&ii(bt)===de.type){v(_e,de.sibling),Ke=R(de,be.props),Ln(Ke,be),Ke.return=_e,_e=Ke;break e}v(_e,de);break}else f(_e,de);de=de.sibling}be.type===Go?(Ke=zo(be.props.children,_e.mode,Ke,be.key),Ke.return=_e,_e=Ke):(Ke=Il(be.type,be.key,be.props,null,_e.mode,Ke),Ln(Ke,be),Ke.return=_e,_e=Ke)}return X(_e);case fr:e:{for(bt=be.key;de!==null;){if(de.key===bt)if(de.tag===4&&de.stateNode.containerInfo===be.containerInfo&&de.stateNode.implementation===be.implementation){v(_e,de.sibling),Ke=R(de,be.children||[]),Ke.return=_e,_e=Ke;break e}else{v(_e,de);break}else f(_e,de);de=de.sibling}Ke=Ps(be,_e.mode,Ke),Ke.return=_e,_e=Ke}return X(_e);case Wr:return bt=be._init,be=bt(be._payload),Ql(_e,de,be,Ke)}if(Yo(be))return wa(_e,de,be,Ke);if(a(be)){if(bt=a(be),typeof bt!="function")throw Error(s(150));return be=bt.call(be),au(_e,de,be,Ke)}if(typeof be.then=="function")return Ql(_e,de,on(be),Ke);if(be.$$typeof===ko)return Ql(_e,de,Qu(_e,be),Ke);Wt(_e,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,de!==null&&de.tag===6?(v(_e,de.sibling),Ke=R(de,be),Ke.return=_e,_e=Ke):(v(_e,de),Ke=mf(be,_e.mode,Ke),Ke.return=_e,_e=Ke),X(_e)):v(_e,de)}return function(_e,de,be,Ke){try{fs=0;var bt=Ql(_e,de,be,Ke);return Yl=null,bt}catch(Ut){if(Ut===Mf)throw Ut;var Hn=t(29,Ut,null,_e.mode);return Hn.lanes=Ke,Hn.return=_e,Hn}finally{}}}function Hu(u,f){u=Ja,w(Wa,u),w(qa,f),Ja=u|f.baseLanes}function El(){w(Wa,Ja),w(qa,qa.current)}function ma(){Ja=Wa.current,b(qa),b(Wa)}function $s(u){var f=u.alternate;w(Yn,Yn.current&1),w(Hs,u),Sa===null&&(f===null||qa.current!==null||f.memoizedState!==null)&&(Sa=u)}function Mc(u){if(u.tag===22){if(w(Yn,Yn.current),w(Hs,u),Sa===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Sa=u)}}else Pa()}function Pa(){w(Yn,Yn.current),w(Hs,Hs.current)}function hi(u){b(Hs),Sa===u&&(Sa=null),b(Yn)}function si(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Gl(v)||Af(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function $t(){throw Error(s(321))}function Ia(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!Ms(u[v],f[v]))return!1;return!0}function Eo(u,f,v,M,R,O){return to=O,Gt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,It.H=u===null||u.memoizedState===null?so:Ts,el=!1,O=v(M,R),el=!1,ql&&(O=Rh(f,v,M,R)),Ch(u),O}function Ch(u){It.H=Ai;var f=En!==null&&En.next!==null;if(to=0,$n=En=Gt=null,no=!1,eu=0,io=null,f)throw Error(s(300));u===null||Ri||(u=u.dependencies,u!==null&&Zu(u)&&(Ri=!0))}function Rh(u,f,v,M){Gt=u;var R=0;do{if(ql&&(io=null),eu=0,ql=!1,25<=R)throw Error(s(301));if(R+=1,$n=En=null,u.updateQueue!=null){var O=u.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}It.H=nl,O=f(v,M)}while(ql);return O}function wh(){var u=It.H,f=u.useState()[0];return f=typeof f.then=="function"?Ae(f):f,u=u.useState()[0],(En!==null?En.memoizedState:null)!==u&&(Gt.flags|=1024),f}function Dr(){var u=tl!==0;return tl=0,u}function Tl(u,f,v){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~v}function Fa(u){if(no){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}no=!1}to=0,$n=En=Gt=null,ql=!1,eu=tl=0,io=null}function V(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Gt.memoizedState=$n=u:$n=$n.next=u,$n}function ae(){if(En===null){var u=Gt.alternate;u=u!==null?u.memoizedState:null}else u=En.next;var f=$n===null?Gt.memoizedState:$n.next;if(f!==null)$n=f,En=u;else{if(u===null)throw Gt.alternate===null?Error(s(467)):Error(s(310));En=u,u={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},$n===null?Gt.memoizedState=$n=u:$n=$n.next=u}return $n}function Ae(u){var f=eu;return eu+=1,io===null&&(io=[]),u=rt(io,u,f),f=Gt,($n===null?f.memoizedState:$n.next)===null&&(f=f.alternate,It.H=f===null||f.memoizedState===null?so:Ts),u}function ye(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Ae(u);if(u.$$typeof===ko)return Zi(u)}throw Error(s(438,String(u)))}function he(u){var f=null,v=Gt.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var M=Gt.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(f={data:M.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=Bm(),Gt.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(u),M=0;M<u;M++)v[M]=en;return f.index++,v}function qe(u,f){return typeof f=="function"?f(u):f}function st(u){var f=ae();return ft(f,En,u)}function ft(u,f,v){var M=u.queue;if(M===null)throw Error(s(311));M.lastRenderedReducer=v;var R=u.baseQueue,O=M.pending;if(O!==null){if(R!==null){var X=R.next;R.next=O.next,O.next=X}f.baseQueue=R=O,M.pending=null}if(O=u.baseState,R===null)u.memoizedState=O;else{f=R.next;var Q=X=null,me=null,Fe=f,$e=!1;do{var ht=Fe.lane&-536870913;if(ht!==Fe.lane?(un&ht)===ht:(to&ht)===ht){var Ze=Fe.revertLane;if(Ze===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),ht===Kn&&($e=!0);else if((to&Ze)===Ze){Fe=Fe.next,Ze===Kn&&($e=!0);continue}else ht={lane:0,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},me===null?(Q=me=ht,X=O):me=me.next=ht,Gt.lanes|=Ze,Ca|=Ze;ht=Fe.action,el&&v(O,ht),O=Fe.hasEagerState?Fe.eagerState:v(O,ht)}else Ze={lane:ht,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},me===null?(Q=me=Ze,X=O):me=me.next=Ze,Gt.lanes|=ht,Ca|=ht;Fe=Fe.next}while(Fe!==null&&Fe!==f);if(me===null?X=O:me.next=Q,!Ms(O,u.memoizedState)&&(Ri=!0,$e&&(v=qi,v!==null)))throw v;u.memoizedState=O,u.baseState=X,u.baseQueue=me,M.lastRenderedState=O}return R===null&&(M.lanes=0),[u.memoizedState,M.dispatch]}function ct(u){var f=ae(),v=f.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=u;var M=v.dispatch,R=v.pending,O=f.memoizedState;if(R!==null){v.pending=null;var X=R=R.next;do O=u(O,X.action),X=X.next;while(X!==R);Ms(O,f.memoizedState)||(Ri=!0),f.memoizedState=O,f.baseQueue===null&&(f.baseState=O),v.lastRenderedState=O}return[O,M]}function Pt(u,f,v){var M=Gt,R=ae(),O=xn;if(O){if(v===void 0)throw Error(s(407));v=v()}else v=f();var X=!Ms((En||R).memoizedState,v);if(X&&(R.memoizedState=v,Ri=!0),R=R.queue,Vu(fn.bind(null,M,R,u),[u]),R.getSnapshot!==f||X||$n!==null&&$n.memoizedState.tag&1){if(M.flags|=2048,za(9,Et.bind(null,M,R,v,f),{destroy:void 0},null),zn===null)throw Error(s(349));O||(to&60)!==0||Ot(M,f,v)}return v}function Ot(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=Gt.updateQueue,f===null?(f=Bm(),Gt.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function Et(u,f,v,M){f.value=v,f.getSnapshot=M,hn(f)&&Xn(u)}function fn(u,f,v){return v(function(){hn(f)&&Xn(u)})}function hn(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!Ms(u,v)}catch{return!0}}function Xn(u){var f=Ve(u,2);f!==null&&jn(f,u,2)}function An(u){var f=V();if(typeof u=="function"){var v=u;if(u=v(),el){re(!0);try{v()}finally{re(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qe,lastRenderedState:u},f}function Ht(u,f,v,M){return u.baseState=v,ft(u,En,typeof M=="function"?M:qe)}function Rt(u,f,v,M,R){if(Yu(u))throw Error(s(485));if(u=f.action,u!==null){var O={payload:R,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){O.listeners.push(X)}};It.T!==null?v(!0):O.isTransition=!1,M(O),v=f.pending,v===null?(O.next=f.pending=O,bi(f,O)):(O.next=v.next,f.pending=v.next=O)}}function bi(u,f){var v=f.action,M=f.payload,R=u.state;if(f.isTransition){var O=It.T,X={};It.T=X;try{var Q=v(R,M),me=It.S;me!==null&&me(X,Q),dn(u,f,Q)}catch(Fe){ea(u,f,Fe)}finally{It.T=O}}else try{O=v(R,M),dn(u,f,O)}catch(Fe){ea(u,f,Fe)}}function dn(u,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(M){As(u,f,M)},function(M){return ea(u,f,M)}):As(u,f,v)}function As(u,f,v){f.status="fulfilled",f.value=v,is(f),u.state=v,f=u.pending,f!==null&&(v=f.next,v===f?u.pending=null:(v=v.next,f.next=v,bi(u,v)))}function ea(u,f,v){var M=u.pending;if(u.pending=null,M!==null){M=M.next;do f.status="rejected",f.reason=v,is(f),f=f.next;while(f!==M)}u.action=null}function is(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function Ui(u,f){return f}function Nn(u,f){if(xn){var v=zn.formState;if(v!==null){e:{var M=Gt;if(xn){if(In){var R=E0(In,ja);if(R){In=Wo(R),M=dr(R);break e}}ke(M)}M=!1}M&&(f=v[0])}}v=V(),v.memoizedState=v.baseState=f,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:f},v.queue=M,v=Ip.bind(null,Gt,M),M.dispatch=v,M=An(!1);var O=Cc.bind(null,Gt,!1,M.queue);return M=V(),R={state:f,dispatch:null,action:u,pending:null},M.queue=R,v=Rt.bind(null,Gt,R,O,v),R.dispatch=v,M.memoizedState=u,[f,v,!1]}function ss(u){var f=ae();return Ki(f,En,u)}function Ki(u,f,v){f=ft(u,f,Ui)[0],u=st(qe)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Ae(f):f;var M=ae(),R=M.queue,O=R.dispatch;return v!==M.memoizedState&&(Gt.flags|=2048,za(9,ai.bind(null,R,v),{destroy:void 0},null)),[f,O,u]}function ai(u,f){u.action=f}function Xi(u){var f=ae(),v=En;if(v!==null)return Ki(f,v,u);ae(),f=f.memoizedState,v=ae();var M=v.queue.dispatch;return v.memoizedState=u,[f,M,!1]}function za(u,f,v,M){return u={tag:u,create:f,inst:v,deps:M,next:null},f=Gt.updateQueue,f===null&&(f=Bm(),Gt.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=u.next=u:(M=v.next,v.next=u,u.next=M,f.lastEffect=u),u}function _s(){return ae().memoizedState}function Bh(u,f,v,M){var R=V();Gt.flags|=u,R.memoizedState=za(1|f,v,{destroy:void 0},M===void 0?null:M)}function Gu(u,f,v,M){var R=ae();M=M===void 0?null:M;var O=R.memoizedState.inst;En!==null&&M!==null&&Ia(M,En.memoizedState.deps)?R.memoizedState=za(f,v,O,M):(Gt.flags|=u,R.memoizedState=za(1|f,v,O,M))}function Np(u,f){Bh(8390656,8,u,f)}function Vu(u,f){Gu(2048,8,u,f)}function Cy(u,f){return Gu(4,2,u,f)}function Ry(u,f){return Gu(4,4,u,f)}function ku(u,f){if(typeof f=="function"){u=u();var v=f(u);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Dh(u,f,v){v=v!=null?v.concat([u]):null,Gu(4,4,ku.bind(null,f,u),v)}function Xu(){}function Cl(u,f){var v=ae();f=f===void 0?null:f;var M=v.memoizedState;return f!==null&&Ia(f,M[1])?M[0]:(v.memoizedState=[u,f],u)}function Rl(u,f){var v=ae();f=f===void 0?null:f;var M=v.memoizedState;if(f!==null&&Ia(f,M[1]))return M[0];if(M=u(),el){re(!0);try{u()}finally{re(!1)}}return v.memoizedState=[M,f],M}function Oh(u,f,v){return v===void 0||(to&1073741824)!==0?u.memoizedState=f:(u.memoizedState=v,u=lf(),Gt.lanes|=u,Ca|=u,v)}function Lh(u,f,v,M){return Ms(v,f)?v:qa.current!==null?(u=Oh(u,v,M),Ms(u,f)||(Ri=!0),u):(to&42)===0?(Ri=!0,u.memoizedState=v):(u=lf(),Gt.lanes|=u,Ca|=u,f)}function Up(u,f,v,M,R){var O=qo();bs(O!==0&&8>O?O:8);var X=It.T,Q={};It.T=Q,Cc(u,!1,f,v);try{var me=R(),Fe=It.S;if(Fe!==null&&Fe(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var $e=qt(me,M);To(u,f,$e,as(u))}else To(u,f,M,as(u))}catch(ht){To(u,f,{then:function(){},status:"rejected",reason:ht},as())}finally{bs(O),It.T=X}}function Ec(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:Hl,baseState:Hl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qe,lastRenderedState:Hl},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qe,lastRenderedState:v},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function ju(){return Zi(Jr)}function Tc(){return ae().memoizedState}function Or(){return ae().memoizedState}function Pp(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var v=as();u=At(v);var M=mt(f,u,v);M!==null&&(jn(M,f,v),lt(M,f,v)),f={cache:Bo()},u.payload=f;return}f=f.return}}function Nh(u,f,v){var M=as();v={lane:M,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Yu(u)?xs(f,v):(v=Pe(u,f,v,M),v!==null&&(jn(v,u,M),Co(v,f,M)))}function Ip(u,f,v){var M=as();To(u,f,v,M)}function To(u,f,v,M){var R={lane:M,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Yu(u))xs(f,R);else{var O=u.alternate;if(u.lanes===0&&(O===null||O.lanes===0)&&(O=f.lastRenderedReducer,O!==null))try{var X=f.lastRenderedState,Q=O(X,v);if(R.hasEagerState=!0,R.eagerState=Q,Ms(Q,X))return Mn(u,f,R,0),zn===null&&Z(),!1}catch{}finally{}if(v=Pe(u,f,R,M),v!==null)return jn(v,u,M),Co(v,f,M),!0}return!1}function Cc(u,f,v,M){if(M={lane:2,revertLane:yt(),action:M,hasEagerState:!1,eagerState:null,next:null},Yu(u)){if(f)throw Error(s(479))}else f=Pe(u,v,M,2),f!==null&&jn(f,u,2)}function Yu(u){var f=u.alternate;return u===Gt||f!==null&&f===Gt}function xs(u,f){ql=no=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function Co(u,f,v){if((v&4194176)!==0){var M=f.lanes;M&=u.pendingLanes,v|=M,f.lanes=v,$(u,v)}}function Rc(u,f,v,M){f=u.memoizedState,v=v(M,f),v=v==null?f:di({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}function wc(u,f,v,M,R,O,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,O,X):f.prototype&&f.prototype.isPureReactComponent?!Ee(v,M)||!Ee(R,O):!0}function wy(u,f,v,M){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,M),f.state!==u&&tu.enqueueReplaceState(f,f.state,null)}function Lr(u,f){var v=f;if("ref"in f){v={};for(var M in f)M!=="ref"&&(v[M]=f[M])}if(u=u.defaultProps){v===f&&(v=di({},v));for(var R in u)v[R]===void 0&&(v[R]=u[R])}return v}function Bc(u,f){try{var v=u.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(M){setTimeout(function(){throw M})}}function Dc(u,f,v){try{var M=u.onCaughtError;M(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Oc(u,f,v){return v=At(v),v.tag=3,v.payload={element:null},v.callback=function(){Bc(u,f)},v}function Fp(u){return u=At(u),u.tag=3,u}function By(u,f,v,M){var R=v.type.getDerivedStateFromError;if(typeof R=="function"){var O=M.value;u.payload=function(){return R(O)},u.callback=function(){Dc(f,v,M)}}var X=v.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(u.callback=function(){Dc(f,v,M),typeof R!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var Q=M.stack;this.componentDidCatch(M.value,{componentStack:Q!==null?Q:""})})}function Hx(u,f,v,M,R){if(v.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(f=v.alternate,f!==null&&Ju(f,v,R,!0),v=Hs.current,v!==null){switch(v.tag){case 13:return Sa===null?Aa():v.alternate===null&&ei===0&&(ei=3),v.flags&=-257,v.flags|=65536,v.lanes=R,M===Es?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([M]):f.add(M),Fo(u,M,R)),!1;case 22:return v.flags|=65536,M===Es?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([M])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([M]):v.add(M)),Fo(u,M,R)),!1}throw Error(s(435,v.tag))}return Fo(u,M,R),Aa(),!1}if(xn)return f=Hs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,M!==bf&&(u=Error(s(422),{cause:M}),Bt(Te(u,v)))):(M!==bf&&(f=Error(s(423),{cause:M}),Bt(Te(f,v))),u=u.current.alternate,u.flags|=65536,R&=-R,u.lanes|=R,M=Te(M,v),R=Oc(u.stateNode,M,R),ne(u,R),ei!==4&&(ei=2)),!1;var O=Error(s(520),{cause:M});if(O=Te(O,v),iu===null?iu=[O]:iu.push(O),ei!==4&&(ei=2),f===null)return!0;M=Te(M,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,u=R&-R,v.lanes|=u,u=Oc(v.stateNode,M,u),ne(v,u),!1;case 1:if(f=v.type,O=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(_r===null||!_r.has(O))))return v.flags|=65536,R&=-R,v.lanes|=R,R=Fp(R),By(R,u,v,M),ne(v,R),!1}v=v.return}while(v!==null);return!1}function Ji(u,f,v,M){f.child=u===null?yr(f,null,v,M):$o(f,u.child,v,M)}function Uh(u,f,v,M,R){v=v.render;var O=f.ref;if("ref"in M){var X={};for(var Q in M)Q!=="ref"&&(X[Q]=M[Q])}else X=M;return wo(f),M=Eo(u,f,v,X,O,R),Q=Dr(),u!==null&&!Ri?(Tl(u,f,R),Nr(u,f,R)):(xn&&Q&&Oe(f),f.flags|=1,Ji(u,f,M,R),f.child)}function Dy(u,f,v,M,R){if(u===null){var O=v.type;return typeof O=="function"&&!kr(O)&&O.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=O,Oy(u,f,O,M,R)):(u=Il(v.type,null,M,f,f.mode,R),u.ref=f.ref,u.return=f,f.child=u)}if(O=u.child,!kp(u,R)){var X=O.memoizedProps;if(v=v.compare,v=v!==null?v:Ee,v(X,M)&&u.ref===f.ref)return Nr(u,f,R)}return f.flags|=1,u=Xr(O,M),u.ref=f.ref,u.return=f,f.child=u}function Oy(u,f,v,M,R){if(u!==null){var O=u.memoizedProps;if(Ee(O,M)&&u.ref===f.ref)if(Ri=!1,f.pendingProps=M=O,kp(u,R))(u.flags&131072)!==0&&(Ri=!0);else return f.lanes=u.lanes,Nr(u,f,R)}return Ph(u,f,v,M,R)}function Ly(u,f,v){var M=f.pendingProps,R=M.children,O=(f.stateNode._pendingVisibility&2)!==0,X=u!==null?u.memoizedState:null;if(qu(u,f),M.mode==="hidden"||O){if((f.flags&128)!==0){if(M=X!==null?X.baseLanes|v:v,u!==null){for(R=f.child=u.child,O=0;R!==null;)O=O|R.lanes|R.childLanes,R=R.sibling;f.childLanes=O&~M}else f.childLanes=0,f.child=null;return Ny(u,f,M,v)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Fh(f,X!==null?X.cachePool:null),X!==null?Hu(f,X):El(),Mc(f);else return f.lanes=f.childLanes=536870912,Ny(u,f,X!==null?X.baseLanes|v:v,v)}else X!==null?(Fh(f,X.cachePool),Hu(f,X),Pa(),f.memoizedState=null):(u!==null&&Fh(f,null),El(),Pa());return Ji(u,f,R,v),f.child}function Ny(u,f,v,M){var R=jp();return R=R===null?null:{parent:Ga?oi._currentValue:oi._currentValue2,pool:R},f.memoizedState={baseLanes:v,cachePool:R},u!==null&&Fh(f,null),El(),Mc(f),u!==null&&Ju(u,f,M,!0),null}function qu(u,f){var v=f.ref;if(v===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof v!="function"&&typeof v!="object")throw Error(s(284));(u===null||u.ref!==v)&&(f.flags|=2097664)}}function Ph(u,f,v,M,R){return wo(f),v=Eo(u,f,v,M,void 0,R),M=Dr(),u!==null&&!Ri?(Tl(u,f,R),Nr(u,f,R)):(xn&&M&&Oe(f),f.flags|=1,Ji(u,f,v,R),f.child)}function Uy(u,f,v,M,R,O){return wo(f),f.updateQueue=null,v=Rh(f,M,v,R),Ch(u),M=Dr(),u!==null&&!Ri?(Tl(u,f,O),Nr(u,f,O)):(xn&&M&&Oe(f),f.flags|=1,Ji(u,f,v,O),f.child)}function Py(u,f,v,M,R){if(wo(f),f.stateNode===null){var O=Xl,X=v.contextType;typeof X=="object"&&X!==null&&(O=Zi(X)),O=new v(M,O),f.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=tu,f.stateNode=O,O._reactInternals=f,O=f.stateNode,O.props=M,O.state=f.memoizedState,O.refs={},Je(f),X=v.contextType,O.context=typeof X=="object"&&X!==null?Zi(X):Xl,O.state=f.memoizedState,X=v.getDerivedStateFromProps,typeof X=="function"&&(Rc(f,v,X,M),O.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(X=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),X!==O.state&&tu.enqueueReplaceState(O,O.state,null),ot(f,M,O,R),Ce(),O.state=f.memoizedState),typeof O.componentDidMount=="function"&&(f.flags|=4194308),M=!0}else if(u===null){O=f.stateNode;var Q=f.memoizedProps,me=Lr(v,Q);O.props=me;var Fe=O.context,$e=v.contextType;X=Xl,typeof $e=="object"&&$e!==null&&(X=Zi($e));var ht=v.getDerivedStateFromProps;$e=typeof ht=="function"||typeof O.getSnapshotBeforeUpdate=="function",Q=f.pendingProps!==Q,$e||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Q||Fe!==X)&&wy(f,O,M,X),cs=!1;var Ze=f.memoizedState;O.state=Ze,ot(f,M,O,R),Ce(),Fe=f.memoizedState,Q||Ze!==Fe||cs?(typeof ht=="function"&&(Rc(f,v,ht,M),Fe=f.memoizedState),(me=cs||wc(f,v,me,M,Ze,Fe,X))?($e||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(f.flags|=4194308)):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=Fe),O.props=M,O.state=Fe,O.context=X,M=me):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{O=f.stateNode,gt(u,f),X=f.memoizedProps,$e=Lr(v,X),O.props=$e,ht=f.pendingProps,Ze=O.context,Fe=v.contextType,me=Xl,typeof Fe=="object"&&Fe!==null&&(me=Zi(Fe)),Q=v.getDerivedStateFromProps,(Fe=typeof Q=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X!==ht||Ze!==me)&&wy(f,O,M,me),cs=!1,Ze=f.memoizedState,O.state=Ze,ot(f,M,O,R),Ce();var kt=f.memoizedState;X!==ht||Ze!==kt||cs||u!==null&&u.dependencies!==null&&Zu(u.dependencies)?(typeof Q=="function"&&(Rc(f,v,Q,M),kt=f.memoizedState),($e=cs||wc(f,v,$e,M,Ze,kt,me)||u!==null&&u.dependencies!==null&&Zu(u.dependencies))?(Fe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(M,kt,me),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(M,kt,me)),typeof O.componentDidUpdate=="function"&&(f.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof O.componentDidUpdate!="function"||X===u.memoizedProps&&Ze===u.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Ze===u.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=kt),O.props=M,O.state=kt,O.context=me,M=$e):(typeof O.componentDidUpdate!="function"||X===u.memoizedProps&&Ze===u.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Ze===u.memoizedState||(f.flags|=1024),M=!1)}return O=M,qu(u,f),M=(f.flags&128)!==0,O||M?(O=f.stateNode,v=M&&typeof v.getDerivedStateFromError!="function"?null:O.render(),f.flags|=1,u!==null&&M?(f.child=$o(f,u.child,null,R),f.child=$o(f,null,v,R)):Ji(u,f,v,R),f.memoizedState=O.state,u=f.child):u=Nr(u,f,R),u}function Iy(u,f,v,M){return Xt(),f.flags|=256,Ji(u,f,v,M),f.child}function zp(u){return{baseLanes:u,cachePool:Yp()}}function Wu(u,f,v){return u=u!==null?u.childLanes&~v:0,f&&(u|=oa),u}function Fy(u,f,v){var M=f.pendingProps,R=!1,O=(f.flags&128)!==0,X;if((X=O)||(X=u!==null&&u.memoizedState===null?!1:(Yn.current&2)!==0),X&&(R=!0,f.flags&=-129),X=(f.flags&32)!==0,f.flags&=-33,u===null){if(xn){if(R?$s(f):Pa(),xn){var Q=In,me;(me=Q)&&(Q=C0(Q,ja),Q!==null?(f.memoizedState={dehydrated:Q,treeContext:Xa!==null?{id:mr,overflow:gr}:null,retryLane:536870912},me=t(18,null,null,0),me.stateNode=Q,me.return=f,f.child=me,yi=f,In=null,me=!0):me=!1),me||ke(f)}if(Q=f.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Af(Q)?f.lanes=16:f.lanes=536870912,null;hi(f)}return Q=M.children,M=M.fallback,R?(Pa(),R=f.mode,Q=Gp({mode:"hidden",children:Q},R),M=zo(M,R,v,null),Q.return=f,M.return=f,Q.sibling=M,f.child=Q,R=f.child,R.memoizedState=zp(v),R.childLanes=Wu(u,X,v),f.memoizedState=Tf,M):($s(f),Hp(f,Q))}if(me=u.memoizedState,me!==null&&(Q=me.dehydrated,Q!==null)){if(O)f.flags&256?($s(f),f.flags&=-257,f=Ih(u,f,v)):f.memoizedState!==null?(Pa(),f.child=u.child,f.flags|=128,f=null):(Pa(),R=M.fallback,Q=f.mode,M=Gp({mode:"visible",children:M.children},Q),R=zo(R,Q,v,null),R.flags|=2,M.return=f,R.return=f,M.sibling=R,f.child=M,$o(f,u.child,null,v),M=f.child,M.memoizedState=zp(v),M.childLanes=Wu(u,X,v),f.memoizedState=Tf,f=R);else if($s(f),Af(Q))X=ad(Q).digest,M=Error(s(419)),M.stack="",M.digest=X,Bt({value:M,source:null,stack:null}),f=Ih(u,f,v);else if(Ri||Ju(u,f,v,!1),X=(v&u.childLanes)!==0,Ri||X){if(X=zn,X!==null){if(M=v&-v,(M&42)!==0)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=(M&(X.suspendedLanes|v))!==0?0:M,M!==0&&M!==me.retryLane)throw me.retryLane=M,Ve(u,M),jn(X,u,M),Dm}Gl(Q)||Aa(),f=Ih(u,f,v)}else Gl(Q)?(f.flags|=128,f.child=u.child,f=pf.bind(null,u),M0(Q,f),f=null):(u=me.treeContext,Is&&(In=gm(Q),yi=f,xn=!0,xa=null,ja=!1,u!==null&&(Fs[ls++]=mr,Fs[ls++]=gr,Fs[ls++]=Xa,mr=u.id,gr=u.overflow,Xa=f)),f=Hp(f,M.children),f.flags|=4096);return f}return R?(Pa(),R=M.fallback,Q=f.mode,me=u.child,O=me.sibling,M=Xr(me,{mode:"hidden",children:M.children}),M.subtreeFlags=me.subtreeFlags&31457280,O!==null?R=Xr(O,R):(R=zo(R,Q,v,null),R.flags|=2),R.return=f,M.return=f,M.sibling=R,f.child=M,M=R,R=f.child,Q=u.child.memoizedState,Q===null?Q=zp(v):(me=Q.cachePool,me!==null?(O=Ga?oi._currentValue:oi._currentValue2,me=me.parent!==O?{parent:O,pool:O}:me):me=Yp(),Q={baseLanes:Q.baseLanes|v,cachePool:me}),R.memoizedState=Q,R.childLanes=Wu(u,X,v),f.memoizedState=Tf,M):($s(f),v=u.child,u=v.sibling,v=Xr(v,{mode:"visible",children:M.children}),v.return=f,v.sibling=null,u!==null&&(X=f.deletions,X===null?(f.deletions=[u],f.flags|=16):X.push(u)),f.child=v,f.memoizedState=null,v)}function Hp(u,f){return f=Gp({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function Gp(u,f){return Jh(u,f,0,null)}function Ih(u,f,v){return $o(f,u.child,null,v),u=Hp(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function zy(u,f,v){u.lanes|=f;var M=u.alternate;M!==null&&(M.lanes|=f),Ku(u.return,f,v)}function Vp(u,f,v,M,R){var O=u.memoizedState;O===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:v,tailMode:R}:(O.isBackwards=f,O.rendering=null,O.renderingStartTime=0,O.last=M,O.tail=v,O.tailMode=R)}function Hy(u,f,v){var M=f.pendingProps,R=M.revealOrder,O=M.tail;if(Ji(u,f,M.children,v),M=Yn.current,(M&2)!==0)M=M&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&zy(u,v,f);else if(u.tag===19)zy(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}switch(w(Yn,M),R){case"forwards":for(v=f.child,R=null;v!==null;)u=v.alternate,u!==null&&si(u)===null&&(R=v),v=v.sibling;v=R,v===null?(R=f.child,f.child=null):(R=v.sibling,v.sibling=null),Vp(f,!1,R,v,O);break;case"backwards":for(v=null,R=f.child,f.child=null;R!==null;){if(u=R.alternate,u!==null&&si(u)===null){f.child=R;break}u=R.sibling,R.sibling=v,v=R,R=u}Vp(f,!0,v,null,O);break;case"together":Vp(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Nr(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),Ca|=f.lanes,(v&f.childLanes)===0)if(u!==null){if(Ju(u,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(s(153));if(f.child!==null){for(u=f.child,v=Xr(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=Xr(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function kp(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&Zu(u)))}function Gx(u,f,v){switch(f.tag){case 3:ie(f,f.stateNode.containerInfo),Ro(f,oi,u.memoizedState.cache),Xt();break;case 27:case 5:Ge(f);break;case 4:ie(f,f.stateNode.containerInfo);break;case 10:Ro(f,f.type,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?($s(f),f.flags|=128,null):(v&f.child.childLanes)!==0?Fy(u,f,v):($s(f),u=Nr(u,f,v),u!==null?u.sibling:null);$s(f);break;case 19:var R=(u.flags&128)!==0;if(M=(v&f.childLanes)!==0,M||(Ju(u,f,v,!1),M=(v&f.childLanes)!==0),R){if(M)return Hy(u,f,v);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),w(Yn,Yn.current),M)break;return null;case 22:case 23:return f.lanes=0,Ly(u,f,v);case 24:Ro(f,oi,u.memoizedState.cache)}return Nr(u,f,v)}function Gy(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps)Ri=!0;else{if(!kp(u,v)&&(f.flags&128)===0)return Ri=!1,Gx(u,f,v);Ri=(u.flags&131072)!==0}else Ri=!1,xn&&(f.flags&1048576)!==0&&oe(f,Zc,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var M=f.elementType,R=M._init;if(M=R(M._payload),f.type=M,typeof M=="function")kr(M)?(u=Lr(M,u),f.tag=1,f=Py(null,f,M,u,v)):(f.tag=0,f=Ph(null,f,M,u,v));else{if(M!=null){if(R=M.$$typeof,R===Zh){f.tag=11,f=Uh(null,f,M,u,v);break e}else if(R===Vc){f.tag=14,f=Dy(null,f,M,u,v);break e}}throw f=o(M)||M,Error(s(306,f,""))}}return f;case 0:return Ph(u,f,f.type,f.pendingProps,v);case 1:return M=f.type,R=Lr(M,f.pendingProps),Py(u,f,M,R,v);case 3:e:{if(ie(f,f.stateNode.containerInfo),u===null)throw Error(s(387));var O=f.pendingProps;R=f.memoizedState,M=R.element,gt(u,f),ot(f,O,null,v);var X=f.memoizedState;if(O=X.cache,Ro(f,oi,O),O!==R.cache&&wl(f,[oi],v,!0),Ce(),O=X.element,Is&&R.isDehydrated)if(R={element:O,isDehydrated:!1,cache:X.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=Iy(u,f,O,v);break e}else if(O!==M){M=Te(Error(s(424)),f),Bt(M),f=Iy(u,f,O,v);break e}else for(Is&&(In=Vl(f.stateNode.containerInfo),yi=f,xn=!0,xa=null,ja=!0),v=yr(f,null,O,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Xt(),O===M){f=Nr(u,f,v);break e}Ji(u,f,O,v)}f=f.child}return f;case 26:if(ia)return qu(u,f),u===null?(v=_m(f.type,null,f.pendingProps,null))?f.memoizedState=v:xn||(f.stateNode=Mm(f.type,f.pendingProps,$r.current,f)):f.memoizedState=_m(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:if(Yi)return Ge(f),u===null&&Yi&&xn&&(M=f.stateNode=ld(f.type,f.pendingProps,$r.current,gi.current,!1),yi=f,ja=!0,In=Zr(M)),M=f.pendingProps.children,u!==null||xn?Ji(u,f,M,v):f.child=$o(f,null,M,v),qu(u,f),f.child;case 5:return u===null&&xn&&(O0(f.type,f.pendingProps,gi.current),(R=M=In)&&(M=ym(M,f.type,f.pendingProps,ja),M!==null?(f.stateNode=M,yi=f,In=Zr(M),ja=!1,R=!0):R=!1),R||ke(f)),Ge(f),R=f.type,O=f.pendingProps,X=u!==null?u.memoizedProps:null,M=O.children,$i(R,O)?M=null:X!==null&&$i(R,X)&&(f.flags|=32),f.memoizedState!==null&&(R=Eo(u,f,wh,null,null,v),Ga?Jr._currentValue=R:Jr._currentValue2=R),qu(u,f),Ji(u,f,M,v),f.child;case 6:return u===null&&xn&&(Jx(f.pendingProps,gi.current),(u=v=In)&&(v=T0(v,f.pendingProps,ja),v!==null?(f.stateNode=v,yi=f,In=null,u=!0):u=!1),u||ke(f)),null;case 13:return Fy(u,f,v);case 4:return ie(f,f.stateNode.containerInfo),M=f.pendingProps,u===null?f.child=$o(f,null,M,v):Ji(u,f,M,v),f.child;case 11:return Uh(u,f,f.type,f.pendingProps,v);case 7:return Ji(u,f,f.pendingProps,v),f.child;case 8:return Ji(u,f,f.pendingProps.children,v),f.child;case 12:return Ji(u,f,f.pendingProps.children,v),f.child;case 10:return M=f.pendingProps,Ro(f,f.type,M.value),Ji(u,f,M.children,v),f.child;case 9:return R=f.type._context,M=f.pendingProps.children,wo(f),R=Zi(R),M=M(R),f.flags|=1,Ji(u,f,M,v),f.child;case 14:return Dy(u,f,f.type,f.pendingProps,v);case 15:return Oy(u,f,f.type,f.pendingProps,v);case 19:return Hy(u,f,v);case 22:return Ly(u,f,v);case 24:return wo(f),M=Zi(oi),u===null?(R=jp(),R===null&&(R=zn,O=Bo(),R.pooledCache=O,O.refCount++,O!==null&&(R.pooledCacheLanes|=v),R=O),f.memoizedState={parent:M,cache:R},Je(f),Ro(f,oi,R)):((u.lanes&v)!==0&&(gt(u,f),ot(f,null,null,v),Ce()),R=u.memoizedState,O=f.memoizedState,R.parent!==M?(R={parent:M,cache:M},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),Ro(f,oi,M)):(M=O.cache,Ro(f,oi,M),M!==R.cache&&wl(f,[oi],v,!0))),Ji(u,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(s(156,f.tag))}function Ro(u,f,v){Ga?(w(ba,f._currentValue),f._currentValue=v):(w(ba,f._currentValue2),f._currentValue2=v)}function Ur(u){var f=ba.current;Ga?u._currentValue=f:u._currentValue2=f,b(ba)}function Ku(u,f,v){for(;u!==null;){var M=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),u===v)break;u=u.return}}function wl(u,f,v,M){var R=u.child;for(R!==null&&(R.return=u);R!==null;){var O=R.dependencies;if(O!==null){var X=R.child;O=O.firstContext;e:for(;O!==null;){var Q=O;O=R;for(var me=0;me<f.length;me++)if(Q.context===f[me]){O.lanes|=v,Q=O.alternate,Q!==null&&(Q.lanes|=v),Ku(O.return,v,u),M||(X=null);break e}O=Q.next}}else if(R.tag===18){if(X=R.return,X===null)throw Error(s(341));X.lanes|=v,O=X.alternate,O!==null&&(O.lanes|=v),Ku(X,v,u),X=null}else X=R.child;if(X!==null)X.return=R;else for(X=R;X!==null;){if(X===u){X=null;break}if(R=X.sibling,R!==null){R.return=X.return,X=R;break}X=X.return}R=X}}function Ju(u,f,v,M){u=null;for(var R=f,O=!1;R!==null;){if(!O){if((R.flags&524288)!==0)O=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var X=R.alternate;if(X===null)throw Error(s(387));if(X=X.memoizedProps,X!==null){var Q=R.type;Ms(R.pendingProps.value,X.value)||(u!==null?u.push(Q):u=[Q])}}else if(R===Sf.current){if(X=R.alternate,X===null)throw Error(s(387));X.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(u!==null?u.push(Jr):u=[Jr])}R=R.return}u!==null&&wl(f,u,v,M),f.flags|=262144}function Zu(u){for(u=u.firstContext;u!==null;){var f=u.context;if(!Ms(Ga?f._currentValue:f._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function wo(u){sl=u,Ma=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Zi(u){return Xp(sl,u)}function Qu(u,f){return sl===null&&wo(u),Xp(u,f)}function Xp(u,f){var v=Ga?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:v,next:null},Ma===null){if(u===null)throw Error(s(308));Ma=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Ma=Ma.next=f;return v}function Bo(){return{controller:new Cf,data:new Map,refCount:0}}function $u(u){u.refCount--,u.refCount===0&&ti(Qx,function(){u.controller.abort()})}function jp(){var u=Wl.current;return u!==null?u:zn.pooledCache}function Fh(u,f){f===null?w(Wl,Wl.current):w(Wl,f.pool)}function Yp(){var u=jp();return u===null?null:{parent:Ga?oi._currentValue:oi._currentValue2,pool:u}}function Ds(u){u.flags|=4}function Lc(u,f){if(u!==null&&u.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(u=f.child;u!==null;){if((u.flags&13878)!==0||(u.subtreeFlags&13878)!==0)return!0;u=u.sibling}return!1}function Bl(u,f,v,M){if(Qn)for(v=f.child;v!==null;){if(v.tag===5||v.tag===6)yf(u,v.stateNode);else if(!(v.tag===4||Yi&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(Va)for(var R=f.child;R!==null;){if(R.tag===5){var O=R.stateNode;v&&M&&(O=b0(O,R.type,R.memoizedProps)),yf(u,O)}else if(R.tag===6)O=R.stateNode,v&&M&&(O=mm(O,R.memoizedProps)),yf(u,O);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)O=R.child,O!==null&&(O.return=R),Bl(u,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Vy(u,f,v,M){if(Va)for(var R=f.child;R!==null;){if(R.tag===5){var O=R.stateNode;v&&M&&(O=b0(O,R.type,R.memoizedProps)),pm(u,O)}else if(R.tag===6)O=R.stateNode,v&&M&&(O=mm(O,R.memoizedProps)),pm(u,O);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)O=R.child,O!==null&&(O.return=R),Vy(u,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function ef(u,f){if(Va&&Lc(u,f)){u=f.stateNode;var v=u.containerInfo,M=sd();Vy(M,f,!1,!1),u.pendingChildren=M,Ds(f),x0(v,M)}}function zh(u,f,v,M){if(Qn)u.memoizedProps!==M&&Ds(f);else if(Va){var R=u.stateNode,O=u.memoizedProps;if((u=Lc(u,f))||O!==M){var X=gi.current;O=_0(R,v,O,M,!u,null),O===R?f.stateNode=R:(Qh(O,v,M,X)&&Ds(f),f.stateNode=O,u?Bl(O,f,!1,!1):Ds(f))}else f.stateNode=R}}function Hh(u,f,v){if(lm(f,v)){if(u.flags|=16777216,!cm(f,v))if(ji())u.flags|=8192;else throw us=Es,Ef}else u.flags&=-16777217}function Gh(u,f){if(U0(f)){if(u.flags|=16777216,!Em(f))if(ji())u.flags|=8192;else throw us=Es,Ef}else u.flags&=-16777217}function Nc(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?N():536870912,u.lanes|=f,Bi|=f)}function Uc(u,f){if(!xn)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var M=null;v!==null;)v.alternate!==null&&(M=v),v=v.sibling;M===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function Zn(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,M=0;if(f)for(var R=u.child;R!==null;)v|=R.lanes|R.childLanes,M|=R.subtreeFlags&31457280,M|=R.flags&31457280,R.return=u,R=R.sibling;else for(R=u.child;R!==null;)v|=R.lanes|R.childLanes,M|=R.subtreeFlags,M|=R.flags,R.return=u,R=R.sibling;return u.subtreeFlags|=M,u.childLanes=v,f}function ky(u,f,v){var M=f.pendingProps;switch(je(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(f),null;case 1:return Zn(f),null;case 3:return v=f.stateNode,M=null,u!==null&&(M=u.memoizedState.cache),f.memoizedState.cache!==M&&(f.flags|=2048),Ur(oi),Re(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(u===null||u.child===null)&&(Ct(f)?Ds(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,xa!==null&&(Gr(xa),xa=null))),ef(u,f),Zn(f),null;case 26:if(ia){v=f.type;var R=f.memoizedState;return u===null?(Ds(f),R!==null?(Zn(f),Gh(f,R)):(Zn(f),Hh(f,v,M))):R?R!==u.memoizedState?(Ds(f),Zn(f),Gh(f,R)):(Zn(f),f.flags&=-16777217):(Qn?u.memoizedProps!==M&&Ds(f):zh(u,f,v,M),Zn(f),Hh(f,v,M)),null}case 27:if(Yi){if(Ye(f),v=$r.current,R=f.type,u!==null&&f.stateNode!=null)Qn?u.memoizedProps!==M&&Ds(f):zh(u,f,R,M);else{if(!M){if(f.stateNode===null)throw Error(s(166));return Zn(f),null}u=gi.current,Ct(f)?vt(f,u):(u=ld(R,M,v,u,!0),f.stateNode=u,Ds(f))}return Zn(f),null}case 5:if(Ye(f),v=f.type,u!==null&&f.stateNode!=null)zh(u,f,v,M);else{if(!M){if(f.stateNode===null)throw Error(s(166));return Zn(f),null}u=gi.current,Ct(f)?vt(f,u):(R=om(v,M,$r.current,u,f),Bl(R,f,!1,!1),f.stateNode=R,Qh(R,v,M,u)&&Ds(f))}return Zn(f),Hh(f,f.type,f.pendingProps),null;case 6:if(u&&f.stateNode!=null)v=u.memoizedProps,Qn?v!==M&&Ds(f):Va&&(v!==M?(f.stateNode=pi(M,$r.current,gi.current,f),Ds(f)):f.stateNode=u.stateNode);else{if(typeof M!="string"&&f.stateNode===null)throw Error(s(166));if(u=$r.current,v=gi.current,Ct(f)){if(!Is)throw Error(s(176));if(u=f.stateNode,v=f.memoizedProps,M=null,R=yi,R!==null)switch(R.tag){case 27:case 5:M=R.memoizedProps}rd(u,v,f,M)||ke(f)}else f.stateNode=pi(M,u,v,f)}return Zn(f),null;case 13:if(M=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(R=Ct(f),M!==null&&M.dehydrated!==null){if(u===null){if(!R)throw Error(s(318));if(!Is)throw Error(s(344));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(s(317));R0(R,f)}else Xt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Zn(f),R=!1}else xa!==null&&(Gr(xa),xa=null),R=!0;if(!R)return f.flags&256?(hi(f),f):(hi(f),null)}if(hi(f),(f.flags&128)!==0)return f.lanes=v,f;if(v=M!==null,u=u!==null&&u.memoizedState!==null,v){M=f.child,R=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(R=M.alternate.memoizedState.cachePool.pool);var O=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(O=M.memoizedState.cachePool.pool),O!==R&&(M.flags|=2048)}return v!==u&&v&&(f.child.flags|=8192),Nc(f,f.updateQueue),Zn(f),null;case 4:return Re(),ef(u,f),u===null&&$y(f.stateNode.containerInfo),Zn(f),null;case 10:return Ur(f.type),Zn(f),null;case 19:if(b(Yn),R=f.memoizedState,R===null)return Zn(f),null;if(M=(f.flags&128)!==0,O=R.rendering,O===null)if(M)Uc(R,!1);else{if(ei!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(O=si(u),O!==null){for(f.flags|=128,Uc(R,!1),u=O.updateQueue,f.updateQueue=u,Nc(f,u),f.subtreeFlags=0,u=v,v=f.child;v!==null;)Pl(v,u),v=v.sibling;return w(Yn,Yn.current&1|2),f.child}u=u.sibling}R.tail!==null&&sa()>la&&(f.flags|=128,M=!0,Uc(R,!1),f.lanes=4194304)}else{if(!M)if(u=si(O),u!==null){if(f.flags|=128,M=!0,u=u.updateQueue,f.updateQueue=u,Nc(f,u),Uc(R,!0),R.tail===null&&R.tailMode==="hidden"&&!O.alternate&&!xn)return Zn(f),null}else 2*sa()-R.renderingStartTime>la&&v!==536870912&&(f.flags|=128,M=!0,Uc(R,!1),f.lanes=4194304);R.isBackwards?(O.sibling=f.child,f.child=O):(u=R.last,u!==null?u.sibling=O:f.child=O,R.last=O)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=sa(),f.sibling=null,u=Yn.current,w(Yn,M?u&1|2:u&1),f):(Zn(f),null);case 22:case 23:return hi(f),ma(),M=f.memoizedState!==null,u!==null?u.memoizedState!==null!==M&&(f.flags|=8192):M&&(f.flags|=8192),M?(v&536870912)!==0&&(f.flags&128)===0&&(Zn(f),f.subtreeFlags&6&&(f.flags|=8192)):Zn(f),v=f.updateQueue,v!==null&&Nc(f,v.retryQueue),v=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),M=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(M=f.memoizedState.cachePool.pool),M!==v&&(f.flags|=2048),u!==null&&b(Wl),null;case 24:return v=null,u!==null&&(v=u.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),Ur(oi),Zn(f),null;case 25:return null}throw Error(s(156,f.tag))}function Vx(u,f){switch(je(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Ur(oi),Re(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Ye(f),null;case 13:if(hi(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(s(340));Xt()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return b(Yn),null;case 4:return Re(),null;case 10:return Ur(f.type),null;case 22:case 23:return hi(f),ma(),u!==null&&b(Wl),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Ur(oi),null;case 25:return null;default:return null}}function Xy(u,f){switch(je(f),f.tag){case 3:Ur(oi),Re();break;case 26:case 27:case 5:Ye(f);break;case 4:Re();break;case 13:hi(f);break;case 19:b(Yn);break;case 10:Ur(f.type);break;case 22:case 23:hi(f),ma(),u!==null&&b(Wl);break;case 24:Ur(oi)}}function tf(u,f){try{var v=f.updateQueue,M=v!==null?v.lastEffect:null;if(M!==null){var R=M.next;v=R;do{if((v.tag&u)===u){M=void 0;var O=v.create,X=v.inst;M=O(),X.destroy=M}v=v.next}while(v!==R)}}catch(Q){Dn(f,f.return,Q)}}function Do(u,f,v){try{var M=f.updateQueue,R=M!==null?M.lastEffect:null;if(R!==null){var O=R.next;M=O;do{if((M.tag&u)===u){var X=M.inst,Q=X.destroy;if(Q!==void 0){X.destroy=void 0,R=f;var me=v;try{Q()}catch(Fe){Dn(R,me,Fe)}}}M=M.next}while(M!==O)}}catch(Fe){Dn(f,f.return,Fe)}}function jy(u){var f=u.updateQueue;if(f!==null){var v=u.stateNode;try{Qe(f,v)}catch(M){Dn(u,u.return,M)}}}function Os(u,f,v){v.props=Lr(u.type,u.memoizedProps),v.state=u.memoizedState;try{v.componentWillUnmount()}catch(M){Dn(u,f,M)}}function Ha(u,f){try{var v=u.ref;if(v!==null){var M=u.stateNode;switch(u.tag){case 26:case 27:case 5:var R=zl(M);break;default:R=M}typeof v=="function"?u.refCleanup=v(R):v.current=R}}catch(O){Dn(u,f,O)}}function Ls(u,f){var v=u.ref,M=u.refCleanup;if(v!==null)if(typeof M=="function")try{M()}catch(R){Dn(u,f,R)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(R){Dn(u,f,R)}else v.current=null}function qp(u){var f=u.type,v=u.memoizedProps,M=u.stateNode;try{h0(M,f,v,u)}catch(R){Dn(u,u.return,R)}}function Wp(u,f,v){try{d0(u.stateNode,u.type,v,f,u)}catch(M){Dn(u,u.return,M)}}function Kp(u){return u.tag===5||u.tag===3||(ia?u.tag===26:!1)||(Yi?u.tag===27:!1)||u.tag===4}function nf(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Kp(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!Yi||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Jp(u,f,v){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?hm(v,u,f):fm(v,u);else if(!(M===4||Yi&&M===27)&&(u=u.child,u!==null))for(Jp(u,f,v),u=u.sibling;u!==null;)Jp(u,f,v),u=u.sibling}function Vh(u,f,v){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?p0(v,u,f):u0(v,u);else if(!(M===4||Yi&&M===27)&&(u=u.child,u!==null))for(Vh(u,f,v),u=u.sibling;u!==null;)Vh(u,f,v),u=u.sibling}function Dl(u,f,v){u=u.containerInfo;try{S0(u,v)}catch(M){Dn(f,f.return,M)}}function Zp(u,f){for(Qy(u.containerInfo),Dt=f;Dt!==null;)if(u=Dt,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Dt=f;else for(;Dt!==null;){u=Dt;var v=u.alternate;switch(f=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&v!==null){f=void 0;var M=u,R=v.memoizedProps;v=v.memoizedState;var O=M.stateNode;try{var X=Lr(M.type,R,M.elementType===M.type);f=O.getSnapshotBeforeUpdate(X,v),O.__reactInternalSnapshotBeforeUpdate=f}catch(Q){Dn(M,M.return,Q)}}break;case 3:(f&1024)!==0&&Qn&&A0(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(s(163))}if(f=u.sibling,f!==null){f.return=u.return,Dt=f;break}Dt=u.return}return X=Gn,Gn=!1,X}function Pc(u,f,v){var M=v.flags;switch(v.tag){case 0:case 11:case 15:Ir(u,v),M&4&&tf(5,v);break;case 1:if(Ir(u,v),M&4)if(u=v.stateNode,f===null)try{u.componentDidMount()}catch(Q){Dn(v,v.return,Q)}else{var R=Lr(v.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(R,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Q){Dn(v,v.return,Q)}}M&64&&jy(v),M&512&&Ha(v,v.return);break;case 3:if(Ir(u,v),M&64&&(M=v.updateQueue,M!==null)){if(u=null,v.child!==null)switch(v.child.tag){case 27:case 5:u=zl(v.child.stateNode);break;case 1:u=v.child.stateNode}try{Qe(M,u)}catch(Q){Dn(v,v.return,Q)}}break;case 26:if(ia){Ir(u,v),M&512&&Ha(v,v.return);break}case 27:case 5:Ir(u,v),f===null&&M&4&&qp(v),M&512&&Ha(v,v.return);break;case 12:Ir(u,v);break;case 13:Ir(u,v),M&4&&Ol(u,v);break;case 22:if(R=v.memoizedState!==null||ao,!R){f=f!==null&&f.memoizedState!==null||Vt;var O=ao,X=Vt;ao=R,(Vt=f)&&!X?Oo(u,v,(v.subtreeFlags&8772)!==0):Ir(u,v),ao=O,Vt=X}M&512&&(v.memoizedProps.mode==="manual"?Ha(v,v.return):Ls(v,v.return));break;default:Ir(u,v)}}function kh(u){var f=u.alternate;f!==null&&(u.alternate=null,kh(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&n0(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function ga(u,f,v){for(v=v.child;v!==null;)Pr(u,f,v),v=v.sibling}function Pr(u,f,v){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(Jc,v)}catch{}switch(v.tag){case 26:if(ia){Vt||Ls(v,f),ga(u,f,v),v.memoizedState?Sm(v.memoizedState):v.stateNode&&qc(v.stateNode);break}case 27:if(Yi){Vt||Ls(v,f);var M=Tn,R=_i;Tn=v.stateNode,ga(u,f,v),Rm(v.stateNode),Tn=M,_i=R;break}case 5:Vt||Ls(v,f);case 6:if(Qn){if(M=Tn,R=_i,Tn=null,ga(u,f,v),Tn=M,_i=R,Tn!==null)if(_i)try{g0(Tn,v.stateNode)}catch(O){Dn(v,f,O)}else try{m0(Tn,v.stateNode)}catch(O){Dn(v,f,O)}}else ga(u,f,v);break;case 18:Qn&&Tn!==null&&(_i?vm(Tn,v.stateNode):D0(Tn,v.stateNode));break;case 4:Qn?(M=Tn,R=_i,Tn=v.stateNode.containerInfo,_i=!0,ga(u,f,v),Tn=M,_i=R):(Va&&Dl(v.stateNode,v,sd()),ga(u,f,v));break;case 0:case 11:case 14:case 15:Vt||Do(2,v,f),Vt||Do(4,v,f),ga(u,f,v);break;case 1:Vt||(Ls(v,f),M=v.stateNode,typeof M.componentWillUnmount=="function"&&Os(v,f,M)),ga(u,f,v);break;case 21:ga(u,f,v);break;case 22:Vt||Ls(v,f),Vt=(M=Vt)||v.memoizedState!==null,ga(u,f,v),Vt=M;break;default:ga(u,f,v)}}function Ol(u,f){if(Is&&f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{od(u)}catch(v){Dn(f,f.return,v)}}function Qp(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new an),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new an),f;default:throw Error(s(435,u.tag))}}function Xh(u,f){var v=Qp(u);f.forEach(function(M){var R=Kh.bind(null,u,M);v.has(M)||(v.add(M),M.then(R,R))})}function Mi(u,f){var v=f.deletions;if(v!==null)for(var M=0;M<v.length;M++){var R=v[M],O=u,X=f;if(Qn){var Q=X;e:for(;Q!==null;){switch(Q.tag){case 27:case 5:Tn=Q.stateNode,_i=!1;break e;case 3:Tn=Q.stateNode.containerInfo,_i=!0;break e;case 4:Tn=Q.stateNode.containerInfo,_i=!0;break e}Q=Q.return}if(Tn===null)throw Error(s(160));Pr(O,X,R),Tn=null,_i=!1}else Pr(O,X,R);O=R.alternate,O!==null&&(O.return=null),R.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)$p(f,u),f=f.sibling}function $p(u,f){var v=u.alternate,M=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Mi(f,u),Ns(u),M&4&&(Do(3,u,u.return),tf(3,u),Do(5,u,u.return));break;case 1:Mi(f,u),Ns(u),M&512&&(Vt||v===null||Ls(v,v.return)),M&64&&ao&&(u=u.updateQueue,u!==null&&(M=u.callbacks,M!==null&&(v=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=v===null?M:v.concat(M))));break;case 26:if(ia){var R=hs;Mi(f,u),Ns(u),M&512&&(Vt||v===null||Ls(v,v.return)),M&4&&(M=v!==null?v.memoizedState:null,f=u.memoizedState,v===null?f===null?u.stateNode===null?u.stateNode=L0(R,u.type,u.memoizedProps,u):bm(R,u.type,u.stateNode):u.stateNode=xm(R,f,u.memoizedProps):M!==f?(M===null?v.stateNode!==null&&qc(v.stateNode):Sm(M),f===null?bm(R,u.type,u.stateNode):xm(R,f,u.memoizedProps)):f===null&&u.stateNode!==null&&Wp(u,u.memoizedProps,v.memoizedProps));break}case 27:if(Yi&&M&4&&u.alternate===null){R=u.stateNode;var O=u.memoizedProps;try{P0(R),Cm(u.type,O,R,u)}catch($e){Dn(u,u.return,$e)}}case 5:if(Mi(f,u),Ns(u),M&512&&(Vt||v===null||Ls(v,v.return)),Qn){if(u.flags&32){f=u.stateNode;try{id(f)}catch($e){Dn(u,u.return,$e)}}M&4&&u.stateNode!=null&&(f=u.memoizedProps,Wp(u,f,v!==null?v.memoizedProps:f)),M&1024&&(Fn=!0)}break;case 6:if(Mi(f,u),Ns(u),M&4&&Qn){if(u.stateNode===null)throw Error(s(162));M=u.memoizedProps,v=v!==null?v.memoizedProps:M,f=u.stateNode;try{f0(f,v,M)}catch($e){Dn(u,u.return,$e)}}break;case 3:if(ia?(N0(),R=hs,hs=Ii(f.containerInfo),Mi(f,u),hs=R):Mi(f,u),Ns(u),M&4){if(Qn&&Is&&v!==null&&v.memoizedState.isDehydrated)try{B0(f.containerInfo)}catch($e){Dn(u,u.return,$e)}if(Va){M=f.containerInfo,v=f.pendingChildren;try{S0(M,v)}catch($e){Dn(u,u.return,$e)}}}Fn&&(Fn=!1,em(u));break;case 4:ia?(v=hs,hs=Ii(u.stateNode.containerInfo),Mi(f,u),Ns(u),hs=v):(Mi(f,u),Ns(u)),M&4&&Va&&Dl(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:Mi(f,u),Ns(u);break;case 13:Mi(f,u),Ns(u),u.child.flags&8192&&u.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Lm=sa()),M&4&&(M=u.updateQueue,M!==null&&(u.updateQueue=null,Xh(u,M)));break;case 22:M&512&&(Vt||v===null||Ls(v,v.return)),R=u.memoizedState!==null;var X=v!==null&&v.memoizedState!==null,Q=ao,me=Vt;if(ao=Q||R,Vt=me||X,Mi(f,u),Vt=me,ao=Q,Ns(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,M&8192&&(f._visibility=R?f._visibility&-2:f._visibility|1,R&&(f=ao||Vt,v===null||X||f||Ic(u)),Qn&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(v=null,Qn)for(f=u;;){if(f.tag===5||ia&&f.tag===26||Yi&&f.tag===27){if(v===null){X=v=f;try{O=X.stateNode,R?y0(O):Kx(X.stateNode,X.memoizedProps)}catch($e){Dn(X,X.return,$e)}}}else if(f.tag===6){if(v===null){X=f;try{var Fe=X.stateNode;R?v0(Fe):dm(Fe,X.memoizedProps)}catch($e){Dn(X,X.return,$e)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}}M&4&&(M=u.updateQueue,M!==null&&(v=M.retryQueue,v!==null&&(M.retryQueue=null,Xh(u,v))));break;case 19:Mi(f,u),Ns(u),M&4&&(M=u.updateQueue,M!==null&&(u.updateQueue=null,Xh(u,M)));break;case 21:break;default:Mi(f,u),Ns(u)}}function Ns(u){var f=u.flags;if(f&2){try{if(Qn&&(!Yi||u.tag!==27)){e:{for(var v=u.return;v!==null;){if(Kp(v)){var M=v;break e}v=v.return}throw Error(s(160))}switch(M.tag){case 27:if(Yi){var R=M.stateNode,O=nf(u);Vh(u,O,R);break}case 5:var X=M.stateNode;M.flags&32&&(id(X),M.flags&=-33);var Q=nf(u);Vh(u,Q,X);break;case 3:case 4:var me=M.stateNode.containerInfo,Fe=nf(u);Jp(u,Fe,me);break;default:throw Error(s(161))}}}catch($e){Dn(u,u.return,$e)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function em(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;em(f),f.tag===5&&f.flags&1024&&s0(f.stateNode),u=u.sibling}}function Ir(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Pc(u,f.alternate,f),f=f.sibling}function Ic(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Do(4,f,f.return),Ic(f);break;case 1:Ls(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&Os(f,f.return,v),Ic(f);break;case 26:case 27:case 5:Ls(f,f.return),Ic(f);break;case 22:Ls(f,f.return),f.memoizedState===null&&Ic(f);break;default:Ic(f)}u=u.sibling}}function Oo(u,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var M=f.alternate,R=u,O=f,X=O.flags;switch(O.tag){case 0:case 11:case 15:Oo(R,O,v),tf(4,O);break;case 1:if(Oo(R,O,v),M=O,R=M.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Fe){Dn(M,M.return,Fe)}if(M=O,R=M.updateQueue,R!==null){var Q=M.stateNode;try{var me=R.shared.hiddenCallbacks;if(me!==null)for(R.shared.hiddenCallbacks=null,R=0;R<me.length;R++)te(me[R],Q)}catch(Fe){Dn(M,M.return,Fe)}}v&&X&64&&jy(O),Ha(O,O.return);break;case 26:case 27:case 5:Oo(R,O,v),v&&M===null&&X&4&&qp(O),Ha(O,O.return);break;case 12:Oo(R,O,v);break;case 13:Oo(R,O,v),v&&X&4&&Ol(R,O);break;case 22:O.memoizedState===null&&Oo(R,O,v),Ha(O,O.return);break;default:Oo(R,O,v)}f=f.sibling}}function jh(u,f){var v=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==v&&(u!=null&&u.refCount++,v!=null&&$u(v))}function Yh(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&$u(u))}function Fr(u,f,v,M){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)ya(u,f,v,M),f=f.sibling}function ya(u,f,v,M){var R=f.flags;switch(f.tag){case 0:case 11:case 15:Fr(u,f,v,M),R&2048&&tf(9,f);break;case 3:Fr(u,f,v,M),R&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&$u(u)));break;case 12:if(R&2048){Fr(u,f,v,M),u=f.stateNode;try{var O=f.memoizedProps,X=O.id,Q=O.onPostCommit;typeof Q=="function"&&Q(X,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(me){Dn(f,f.return,me)}}else Fr(u,f,v,M);break;case 23:break;case 22:O=f.stateNode,f.memoizedState!==null?O._visibility&4?Fr(u,f,v,M):rr(u,f):O._visibility&4?Fr(u,f,v,M):(O._visibility|=4,Qi(u,f,v,M,(f.subtreeFlags&10256)!==0)),R&2048&&jh(f.alternate,f);break;case 24:Fr(u,f,v,M),R&2048&&Yh(f.alternate,f);break;default:Fr(u,f,v,M)}}function Qi(u,f,v,M,R){for(R=R&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var O=u,X=f,Q=v,me=M,Fe=X.flags;switch(X.tag){case 0:case 11:case 15:Qi(O,X,Q,me,R),tf(8,X);break;case 23:break;case 22:var $e=X.stateNode;X.memoizedState!==null?$e._visibility&4?Qi(O,X,Q,me,R):rr(O,X):($e._visibility|=4,Qi(O,X,Q,me,R)),R&&Fe&2048&&jh(X.alternate,X);break;case 24:Qi(O,X,Q,me,R),R&&Fe&2048&&Yh(X.alternate,X);break;default:Qi(O,X,Q,me,R)}f=f.sibling}}function rr(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=u,M=f,R=M.flags;switch(M.tag){case 22:rr(v,M),R&2048&&jh(M.alternate,M);break;case 24:rr(v,M),R&2048&&Yh(M.alternate,M);break;default:rr(v,M)}f=f.sibling}}function zr(u){if(u.subtreeFlags&al)for(u=u.child;u!==null;)sf(u),u=u.sibling}function sf(u){switch(u.tag){case 26:zr(u),u.flags&al&&(u.memoizedState!==null?Tm(hs,u.memoizedState,u.memoizedProps):um(u.type,u.memoizedProps));break;case 5:zr(u),u.flags&al&&um(u.type,u.memoizedProps);break;case 3:case 4:if(ia){var f=hs;hs=Ii(u.stateNode.containerInfo),zr(u),hs=f}else zr(u);break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=al,al=16777216,zr(u),al=f):zr(u));break;default:zr(u)}}function af(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Ll(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var M=f[v];Dt=M,of(M,u)}af(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Hr(u),u=u.sibling}function Hr(u){switch(u.tag){case 0:case 11:case 15:Ll(u),u.flags&2048&&Do(9,u,u.return);break;case 3:Ll(u);break;case 12:Ll(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,rf(u)):Ll(u);break;default:Ll(u)}}function rf(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var M=f[v];Dt=M,of(M,u)}af(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Do(8,f,f.return),rf(f);break;case 22:v=f.stateNode,v._visibility&4&&(v._visibility&=-5,rf(f));break;default:rf(f)}u=u.sibling}}function of(u,f){for(;Dt!==null;){var v=Dt;switch(v.tag){case 0:case 11:case 15:Do(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var M=v.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:$u(v.memoizedState.cache)}if(M=v.child,M!==null)M.return=v,Dt=M;else e:for(v=u;Dt!==null;){M=Dt;var R=M.sibling,O=M.return;if(kh(M),M===v){Dt=null;break e}if(R!==null){R.return=O,Dt=R;break e}Dt=O}}}function Lo(u){var f=ed(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(u=o0(u),u===null)throw Error(s(362));return u.stateNode.current}function qh(u,f){var v=u.tag;switch(f.$$typeof){case Jn:if(u.type===f.value)return!0;break;case Ka:e:{for(f=f.value,u=[u,0],v=0;v<u.length;){var M=u[v++],R=M.tag,O=u[v++],X=f[O];if(R!==5&&R!==26&&R!==27||!hr(M)){for(;X!=null&&qh(M,X);)O++,X=f[O];if(O===f.length){f=!0;break e}else for(M=M.child;M!==null;)u.push(M,O),M=M.sibling}}f=!1}return f;case vr:if((v===5||v===26||v===27)&&c0(u.stateNode,f.value))return!0;break;case Cs:if((v===5||v===6||v===26||v===27)&&(u=l0(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case nu:if((v===5||v===26||v===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Us(u){switch(u.$$typeof){case Jn:return"<"+(o(u.value)||"Unknown")+">";case Ka:return":has("+(Us(u)||"")+")";case vr:return'[role="'+u.value+'"]';case Cs:return'"'+u.value+'"';case nu:return'[data-testname="'+u.value+'"]';default:throw Error(s(365))}}function Nl(u,f){var v=[];u=[u,0];for(var M=0;M<u.length;){var R=u[M++],O=R.tag,X=u[M++],Q=f[X];if(O!==5&&O!==26&&O!==27||!hr(R)){for(;Q!=null&&qh(R,Q);)X++,Q=f[X];if(X===f.length)v.push(R);else for(R=R.child;R!==null;)u.push(R,X),R=R.sibling}}return v}function No(u,f){if(!Yc)throw Error(s(363));u=Lo(u),u=Nl(u,f),f=[],u=Array.from(u);for(var v=0;v<u.length;){var M=u[v++],R=M.tag;if(R===5||R===26||R===27)hr(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return f}function as(){if((cn&2)!==0&&un!==0)return un&-un;if(It.T!==null){var u=Kn;return u!==0?u:yt()}return e0()}function lf(){oa===0&&(oa=(un&536870912)===0||xn?H():536870912);var u=Hs.current;return u!==null&&(u.flags|=32),oa}function jn(u,f,v){(u===zn&&Pn===2||u.cancelPendingCommit!==null)&&(Uo(u,0),Ss(u,un,oa,!1)),G(u,v),((cn&2)===0||u!==zn)&&(u===zn&&((cn&2)===0&&(oo|=v),ei===4&&Ss(u,un,oa,!1)),we(u))}function ta(u,f,v){if((cn&6)!==0)throw Error(s(327));var M=!v&&(f&60)===0&&(f&u.expiredLanes)===0||P(u,f),R=M?Yy(u,f):uf(u,f,!0),O=M;do{if(R===0){Ta&&!M&&Ss(u,f,0,!1);break}else if(R===6)Ss(u,f,0,!Ea);else{if(v=u.current.alternate,O&&!Vr(v)){R=uf(u,f,!1),O=!1;continue}if(R===2){if(O=f,u.errorRecoveryDisabledLanes&O)var X=0;else X=u.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){f=X;e:{var Q=u;R=iu;var me=Is&&Q.current.memoizedState.isDehydrated;if(me&&(Uo(Q,X).flags|=256),X=uf(Q,X,!1),X!==2){if(Kl&&!me){Q.errorRecoveryDisabledLanes|=O,oo|=O,R=4;break e}O=Ra,Ra=R,O!==null&&Gr(O)}R=X}if(O=!1,R!==2)continue}}if(R===1){Uo(u,0),Ss(u,f,0,!0);break}e:{switch(M=u,R){case 0:case 1:throw Error(s(345));case 4:if((f&4194176)===f){Ss(M,f,oa,!Ea);break e}break;case 2:Ra=null;break;case 3:case 5:break;default:throw Error(s(329))}if(M.finishedWork=v,M.finishedLanes=f,(f&62914560)===f&&(O=Lm+300-sa(),10<O)){if(Ss(M,f,oa,!Ea),U(M,0)!==0)break e;M.timeoutHandle=$h(or.bind(null,M,v,Ra,Jl,vd,f,oa,oo,Bi,Ea,2,-0,0),O);break e}or(M,v,Ra,Jl,vd,f,oa,oo,Bi,Ea,0,-0,0)}}break}while(!0);we(u)}function Gr(u){Ra===null?Ra=u:Ra.push.apply(Ra,u)}function or(u,f,v,M,R,O,X,Q,me,Fe,$e,ht,Ze){var kt=f.subtreeFlags;if((kt&8192||(kt&16785408)===16785408)&&(qx(),sf(f),f=i0(),f!==null)){u.cancelPendingCommit=f(Wh.bind(null,u,v,M,R,X,Q,me,1,ht,Ze)),Ss(u,O,X,!Fe);return}Wh(u,v,M,R,X,Q,me,$e,ht,Ze)}function Vr(u){for(var f=u;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var M=0;M<v.length;M++){var R=v[M],O=R.getSnapshot;R=R.value;try{if(!Ms(O(),R))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ss(u,f,v,M){f&=~Rs,f&=~oo,u.suspendedLanes|=f,u.pingedLanes&=~f,M&&(u.warmLanes|=f),M=u.expirationTimes;for(var R=f;0<R;){var O=31-mi(R),X=1<<O;M[O]=-1,R&=~X}v!==0&&K(u,v,f)}function tm(){return(cn&6)===0?(j(0),!1):!0}function cf(){if(tn!==null){if(Pn===0)var u=tn.return;else u=tn,Ma=sl=null,Fa(u),Yl=null,fs=0,u=tn;for(;u!==null;)Xy(u.alternate,u),u=u.return;tn=null}}function Uo(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;v!==jc&&(u.timeoutHandle=jc,vf(v)),v=u.cancelPendingCommit,v!==null&&(u.cancelPendingCommit=null,v()),cf(),zn=u,tn=v=Xr(u.current,null),un=f,Pn=0,wi=null,Ea=!1,Ta=P(u,f),Kl=!1,Bi=oa=Rs=oo=Ca=ei=0,Ra=iu=null,vd=!1,(f&8)!==0&&(f|=f&32);var M=u.entangledLanes;if(M!==0)for(u=u.entanglements,M&=f;0<M;){var R=31-mi(M),O=1<<R;f|=u[R],M&=~O}return Ja=f,Z(),v}function rs(u,f){Gt=null,It.H=Ai,f===Mf?(f=St(),Pn=3):f===Ef?(f=St(),Pn=4):Pn=f===Dm?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,wi=f,tn===null&&(ei=1,Bc(u,Te(f,u.current)))}function ji(){var u=Hs.current;return u===null?!0:(un&4194176)===un?Sa===null:(un&62914560)===un||(un&536870912)!==0?u===Sa:!1}function _n(){var u=It.H;return It.H=Ai,u===null?Ai:u}function va(){var u=It.A;return It.A=ro,u}function Aa(){ei=4,Ea||(un&4194176)!==un&&Hs.current!==null||(Ta=!0),(Ca&134217727)===0&&(oo&134217727)===0||zn===null||Ss(zn,un,oa,!1)}function uf(u,f,v){var M=cn;cn|=2;var R=_n(),O=va();(zn!==u||un!==f)&&(Jl=null,Uo(u,f)),f=!1;var X=ei;e:do try{if(Pn!==0&&tn!==null){var Q=tn,me=wi;switch(Pn){case 8:cf(),X=6;break e;case 3:case 2:case 6:Hs.current===null&&(f=!0);var Fe=Pn;if(Pn=0,wi=null,lr(u,Q,me,Fe),v&&Ta){X=0;break e}break;default:Fe=Pn,Pn=0,wi=null,lr(u,Q,me,Fe)}}Ul(),X=ei;break}catch($e){rs(u,$e)}while(!0);return f&&u.shellSuspendCounter++,Ma=sl=null,cn=M,It.H=R,It.A=O,tn===null&&(zn=null,un=0,Z()),X}function Ul(){for(;tn!==null;)Fc(tn)}function Yy(u,f){var v=cn;cn|=2;var M=_n(),R=va();zn!==u||un!==f?(Jl=null,la=sa()+500,Uo(u,f)):Ta=P(u,f);e:do try{if(Pn!==0&&tn!==null){f=tn;var O=wi;t:switch(Pn){case 1:Pn=0,wi=null,lr(u,f,O,1);break;case 2:if(Ie(O)){Pn=0,wi=null,zc(f);break}f=function(){Pn===2&&zn===u&&(Pn=7),we(u)},O.then(f,f);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:Ie(O)?(Pn=0,wi=null,zc(f)):(Pn=0,wi=null,lr(u,f,O,7));break;case 5:var X=null;switch(tn.tag){case 26:X=tn.memoizedState;case 5:case 27:var Q=tn,me=Q.type,Fe=Q.pendingProps;if(X?Em(X):cm(me,Fe)){Pn=0,wi=null;var $e=Q.sibling;if($e!==null)tn=$e;else{var ht=Q.return;ht!==null?(tn=ht,Po(ht)):tn=null}break t}}Pn=0,wi=null,lr(u,f,O,5);break;case 6:Pn=0,wi=null,lr(u,f,O,6);break;case 8:cf(),ei=6;break e;default:throw Error(s(462))}}qy();break}catch(Ze){rs(u,Ze)}while(!0);return Ma=sl=null,It.H=M,It.A=R,cn=v,tn!==null?0:(zn=null,un=0,Z(),ei)}function qy(){for(;tn!==null&&!Jo();)Fc(tn)}function Fc(u){var f=Gy(u.alternate,u,Ja);u.memoizedProps=u.pendingProps,f===null?Po(u):tn=f}function zc(u){var f=u,v=f.alternate;switch(f.tag){case 15:case 0:f=Uy(v,f,f.pendingProps,f.type,void 0,un);break;case 11:f=Uy(v,f,f.pendingProps,f.type.render,f.ref,un);break;case 5:Fa(f);default:Xy(v,f),f=tn=Pl(f,Ja),f=Gy(v,f,Ja)}u.memoizedProps=u.pendingProps,f===null?Po(u):tn=f}function lr(u,f,v,M){Ma=sl=null,Fa(f),Yl=null,fs=0;var R=f.return;try{if(Hx(u,R,f,v,un)){ei=1,Bc(u,Te(v,u.current)),tn=null;return}}catch(O){if(R!==null)throw tn=R,O;ei=1,Bc(u,Te(v,u.current)),tn=null;return}f.flags&32768?(xn||M===1?u=!0:Ta||(un&536870912)!==0?u=!1:(Ea=u=!0,(M===2||M===3||M===6)&&(M=Hs.current,M!==null&&M.tag===13&&(M.flags|=16384))),nm(f,u)):Po(f)}function Po(u){var f=u;do{if((f.flags&32768)!==0){nm(f,Ea);return}u=f.return;var v=ky(f.alternate,f,Ja);if(v!==null){tn=v;return}if(f=f.sibling,f!==null){tn=f;return}tn=f=u}while(f!==null);ei===0&&(ei=5)}function nm(u,f){do{var v=Vx(u.alternate,u);if(v!==null){v.flags&=32767,tn=v;return}if(v=u.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(u=u.sibling,u!==null)){tn=u;return}tn=u=v}while(u!==null);ei=6,tn=null}function Wh(u,f,v,M,R,O,X,Q,me,Fe){var $e=It.T,ht=qo();try{bs(2),It.T=null,Wy(u,f,v,M,ht,R,O,X,Q,me,Fe)}finally{It.T=$e,bs(ht)}}function Wy(u,f,v,M,R,O,X,Q){do Io();while(rl!==null);if((cn&6)!==0)throw Error(s(327));var me=u.finishedWork;if(M=u.finishedLanes,me===null)return null;if(u.finishedWork=null,u.finishedLanes=0,me===u.current)throw Error(s(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var Fe=me.lanes|me.childLanes;if(Fe|=Ya,W(u,M,Fe,O,X,Q),u===zn&&(tn=zn=null,un=0),(me.subtreeFlags&10256)===0&&(me.flags&10256)===0||lo||(lo=!0,Ad=Fe,wf=v,Ky(Kc,function(){return Io(),null})),v=(me.flags&15990)!==0,(me.subtreeFlags&15990)!==0||v?(v=It.T,It.T=null,O=qo(),bs(2),X=cn,cn|=4,Zp(u,me),$p(me,u),Yx(u.containerInfo),u.current=me,Pc(u,me.alternate,me),Qr(),cn=X,bs(O),It.T=v):u.current=me,lo?(lo=!1,rl=u,su=M):ff(u,Fe),Fe=u.pendingLanes,Fe===0&&(_r=null),ee(me.stateNode),we(u),f!==null)for(R=u.onRecoverableError,me=0;me<f.length;me++)Fe=f[me],R(Fe.value,{componentStack:Fe.stack});return(su&3)!==0&&Io(),Fe=u.pendingLanes,(M&4194218)!==0&&(Fe&42)!==0?u===Nm?Zl++:(Zl=0,Nm=u):Zl=0,j(0),null}function ff(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,$u(f)))}function Io(){if(rl!==null){var u=rl,f=Ad;Ad=0;var v=ge(su),M=32>v?32:v;v=It.T;var R=qo();try{if(bs(M),It.T=null,rl===null)var O=!1;else{M=wf,wf=null;var X=rl,Q=su;if(rl=null,su=0,(cn&6)!==0)throw Error(s(331));var me=cn;if(cn|=4,Hr(X.current),ya(X,X.current,Q,M),cn=me,j(0,!1),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(Jc,X)}catch{}O=!0}return O}finally{bs(R),It.T=v,ff(u,f)}}return!1}function Hc(u,f,v){f=Te(v,f),f=Oc(u.stateNode,f,2),u=mt(u,f,2),u!==null&&(G(u,2),we(u))}function Dn(u,f,v){if(u.tag===3)Hc(u,u,v);else for(;f!==null;){if(f.tag===3){Hc(f,u,v);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(_r===null||!_r.has(M))){u=Te(v,u),v=Fp(2),M=mt(f,v,2),M!==null&&(By(v,M,f,u),G(M,2),we(M));break}}f=f.return}}function Fo(u,f,v){var M=u.pingCache;if(M===null){M=u.pingCache=new Rf;var R=new Set;M.set(f,R)}else R=M.get(f),R===void 0&&(R=new Set,M.set(f,R));R.has(v)||(Kl=!0,R.add(v),u=hf.bind(null,u,f,v),f.then(u,u))}function hf(u,f,v){var M=u.pingCache;M!==null&&M.delete(f),u.pingedLanes|=u.suspendedLanes&v,u.warmLanes&=~v,zn===u&&(un&v)===v&&(ei===4||ei===3&&(un&62914560)===un&&300>sa()-Lm?(cn&2)===0&&Uo(u,0):Rs|=v,Bi===un&&(Bi=0)),we(u)}function df(u,f){f===0&&(f=N()),u=Ve(u,f),u!==null&&(G(u,f),we(u))}function pf(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),df(u,v)}function Kh(u,f){var v=0;switch(u.tag){case 13:var M=u.stateNode,R=u.memoizedState;R!==null&&(v=R.retryLane);break;case 19:M=u.stateNode;break;case 22:M=u.stateNode._retryCache;break;default:throw Error(s(314))}M!==null&&M.delete(f),df(u,v)}function Ky(u,f){return pr(u,f)}function Jy(u,f,v,M){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Xr(u,f){var v=u.alternate;return v===null?(v=t(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&31457280,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v.refCleanup=u.refCleanup,v}function Pl(u,f){u.flags&=31457282;var v=u.alternate;return v===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=v.childLanes,u.lanes=v.lanes,u.child=v.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=v.memoizedProps,u.memoizedState=v.memoizedState,u.updateQueue=v.updateQueue,u.type=v.type,f=v.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Il(u,f,v,M,R,O){var X=0;if(M=u,typeof u=="function")kr(u)&&(X=1);else if(typeof u=="string")X=ia&&Yi?Pi(u,v,gi.current)?26:cd(u)?27:5:ia?Pi(u,v,gi.current)?26:5:Yi&&cd(u)?27:5;else e:switch(u){case Go:return zo(v.children,R,O,f);case Fl:X=8,R|=24;break;case Vo:return u=t(12,v,f,R|2),u.elementType=Vo,u.lanes=O,u;case qr:return u=t(13,v,f,R),u.elementType=qr,u.lanes=O,u;case gf:return u=t(19,v,f,R),u.elementType=gf,u.lanes=O,u;case Kr:return Jh(v,R,O,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Xx:case ko:X=10;break e;case am:X=9;break e;case Zh:X=11;break e;case Vc:X=14;break e;case Wr:X=16,M=null;break e}X=29,v=Error(s(130,u===null?"null":typeof u,"")),M=null}return f=t(X,v,f,R),f.elementType=u,f.type=M,f.lanes=O,f}function zo(u,f,v,M){return u=t(7,u,M,f),u.lanes=v,u}function Jh(u,f,v,M){u=t(22,u,M,f),u.elementType=Kr,u.lanes=v;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=R._current;if(O===null)throw Error(s(456));if((R._pendingVisibility&2)===0){var X=Ve(O,2);X!==null&&(R._pendingVisibility|=2,jn(X,O,2))}},attach:function(){var O=R._current;if(O===null)throw Error(s(456));if((R._pendingVisibility&2)!==0){var X=Ve(O,2);X!==null&&(R._pendingVisibility&=-3,jn(X,O,2))}}};return u.stateNode=R,u}function mf(u,f,v){return u=t(6,u,null,f),u.lanes=v,u}function Ps(u,f,v){return f=t(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function cr(u,f,v,M,R,O,X,Q){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=jc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=M,this.onUncaughtError=R,this.onCaughtError=O,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function jr(u,f,v,M,R,O,X,Q,me,Fe,$e,ht){return u=new cr(u,f,v,X,Q,me,Fe,ht),f=1,O===!0&&(f|=24),O=t(3,null,null,f),u.current=O,O.stateNode=u,f=Bo(),f.refCount++,u.pooledCache=f,f.refCount++,O.memoizedState={element:M,isDehydrated:v,cache:f},Je(O),u}function im(u){return u?(u=Xl,u):Xl}function Yr(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(s(188)):(u=Object.keys(u).join(","),Error(s(268,u)));return u=_(f),u=u!==null?S(u):null,u===null?null:zl(u.stateNode)}function ur(u,f,v,M,R,O){R=im(R),M.context===null?M.context=R:M.pendingContext=R,M=At(f),M.payload={element:v},O=O===void 0?null:O,O!==null&&(M.callback=O),v=mt(u,M,f),v!==null&&(jn(v,u,f),lt(v,u,f))}function Ei(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function Gc(u,f){Ei(u,f),(u=u.alternate)&&Ei(u,f)}var ln={},kx=Rr(),na=SM(),di=Object.assign,sm=Symbol.for("react.element"),Ho=Symbol.for("react.transitional.element"),fr=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),Fl=Symbol.for("react.strict_mode"),Vo=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),am=Symbol.for("react.consumer"),ko=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),qr=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),Vc=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),Kr=Symbol.for("react.offscreen"),en=Symbol.for("react.memo_cache_sentinel"),Un=Symbol.iterator,Ti=Symbol.for("react.client.reference"),It=kx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xo,jo,kc=!1,Yo=Array.isArray,Xc=e.rendererVersion,jx=e.rendererPackageName,ri=e.extraDevToolsConfig,zl=e.getPublicInstance,rm=e.getRootHostContext,Zy=e.getChildHostContext,Qy=e.prepareForCommit,Yx=e.resetAfterCommit,om=e.createInstance,yf=e.appendInitialChild,Qh=e.finalizeInitialChildren,$i=e.shouldSetTextContent,pi=e.createTextInstance,$h=e.scheduleTimeout,vf=e.cancelTimeout,jc=e.noTimeout,Ga=e.isPrimaryRenderer;e.warnsIfNotActing;var Qn=e.supportsMutation,Va=e.supportsPersistence,Is=e.supportsHydration,ed=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var $y=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var bs=e.setCurrentUpdatePriority,qo=e.getCurrentUpdatePriority,e0=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var t0=e.shouldAttemptEagerTransition,n0=e.detachDeletedInstance;e.requestPostPaintCallback;var lm=e.maySuspendCommit,cm=e.preloadInstance,qx=e.startSuspendingCommit,um=e.suspendInstance,i0=e.waitForCommitToBeReady,Hl=e.NotPendingTransition,Jr=e.HostTransitionContext,s0=e.resetFormInstance;e.bindToConsole;var a0=e.supportsMicrotasks,r0=e.scheduleMicrotask,Yc=e.supportsTestSelectors,o0=e.findFiberRoot,Wx=e.getBoundingRect,l0=e.getTextContent,hr=e.isHiddenSubtree,c0=e.matchAccessibilityRole,td=e.setFocusIfFocusable,nd=e.setupIntersectionObserver,u0=e.appendChild,fm=e.appendChildToContainer,f0=e.commitTextUpdate,h0=e.commitMount,d0=e.commitUpdate,p0=e.insertBefore,hm=e.insertInContainerBefore,m0=e.removeChild,g0=e.removeChildFromContainer,id=e.resetTextContent,y0=e.hideInstance,v0=e.hideTextInstance,Kx=e.unhideInstance,dm=e.unhideTextInstance,A0=e.clearContainer,_0=e.cloneInstance,sd=e.createContainerChildSet,pm=e.appendChildToContainerChildSet,x0=e.finalizeContainerChildren,S0=e.replaceContainerChildren,b0=e.cloneHiddenInstance,mm=e.cloneHiddenTextInstance,Gl=e.isSuspenseInstancePending,Af=e.isSuspenseInstanceFallback,ad=e.getSuspenseInstanceFallbackErrorDetails,M0=e.registerSuspenseInstanceRetry,E0=e.canHydrateFormStateMarker,dr=e.isFormStateMarkerMatching,Wo=e.getNextHydratableSibling,Zr=e.getFirstHydratableChild,Vl=e.getFirstHydratableChildWithinContainer,gm=e.getFirstHydratableChildWithinSuspenseInstance,ym=e.canHydrateInstance,T0=e.canHydrateTextInstance,C0=e.canHydrateSuspenseInstance,kl=e.hydrateInstance,rd=e.hydrateTextInstance,R0=e.hydrateSuspenseInstance,w0=e.getNextHydratableInstanceAfterSuspenseInstance,B0=e.commitHydratedContainer,od=e.commitHydratedSuspenseInstance,D0=e.clearSuspenseBoundary,vm=e.clearSuspenseBoundaryFromContainer,Am=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var O0=e.validateHydratableInstance,Jx=e.validateHydratableTextInstance,ia=e.supportsResources,Pi=e.isHostHoistableType,Ii=e.getHoistableRoot,_m=e.getResource,xm=e.acquireResource,Sm=e.releaseResource,L0=e.hydrateHoistable,bm=e.mountHoistable,qc=e.unmountHoistable,Mm=e.createHoistableInstance,N0=e.prepareToCommitHoistables,U0=e.mayResourceSuspendCommit,Em=e.preloadResource,Tm=e.suspendResource,Yi=e.supportsSingletons,ld=e.resolveSingletonInstance,P0=e.clearSingleton,Cm=e.acquireSingletonInstance,Rm=e.releaseSingletonInstance,cd=e.isHostSingletonType,ud=[],Ko=-1,Xl={},mi=Math.clz32?Math.clz32:B,wm=Math.log,Zx=Math.LN2,_f=128,Wc=4194304,pr=na.unstable_scheduleCallback,ka=na.unstable_cancelCallback,Jo=na.unstable_shouldYield,Qr=na.unstable_requestPaint,sa=na.unstable_now,fd=na.unstable_ImmediatePriority,xf=na.unstable_UserBlockingPriority,Kc=na.unstable_NormalPriority,jl=na.unstable_IdlePriority,os=na.log,hd=na.unstable_setDisableYieldValue,Jc=null,Ci=null,Ms=typeof Object.is=="function"?Object.is:se,dd=new WeakMap,aa=[],ra=0,Zo=null,Zc=0,Fs=[],ls=0,Xa=null,mr=1,gr="",gi=E(null),_a=E(null),$r=E(null),Sf=E(null),yi=null,In=null,xn=!1,xa=null,ja=!1,bf=Error(s(519)),zs=[],eo=0,Ya=0,Wn=null,Qo=null,pd=!1,vi=!1,md=!1,Qc=0,$c=null,gd=0,Kn=0,qi=null,cs=!1,yd=!1,I0=Object.prototype.hasOwnProperty,Mf=Error(s(460)),Ef=Error(s(474)),Es={then:function(){}},us=null,Yl=null,fs=0,$o=fi(!0),yr=fi(!1),qa=E(null),Wa=E(0),Hs=E(null),Sa=null,Yn=E(0),to=0,Gt=null,En=null,$n=null,no=!1,ql=!1,el=!1,tl=0,eu=0,io=null,F0=0,Bm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ai={readContext:Zi,use:ye,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t};Ai.useCacheRefresh=$t,Ai.useMemoCache=$t,Ai.useHostTransitionStatus=$t,Ai.useFormState=$t,Ai.useActionState=$t,Ai.useOptimistic=$t;var so={readContext:Zi,use:ye,useCallback:function(u,f){return V().memoizedState=[u,f===void 0?null:f],u},useContext:Zi,useEffect:Np,useImperativeHandle:function(u,f,v){v=v!=null?v.concat([u]):null,Bh(4194308,4,ku.bind(null,f,u),v)},useLayoutEffect:function(u,f){return Bh(4194308,4,u,f)},useInsertionEffect:function(u,f){Bh(4,2,u,f)},useMemo:function(u,f){var v=V();f=f===void 0?null:f;var M=u();if(el){re(!0);try{u()}finally{re(!1)}}return v.memoizedState=[M,f],M},useReducer:function(u,f,v){var M=V();if(v!==void 0){var R=v(f);if(el){re(!0);try{v(f)}finally{re(!1)}}}else R=f;return M.memoizedState=M.baseState=R,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:R},M.queue=u,u=u.dispatch=Nh.bind(null,Gt,u),[M.memoizedState,u]},useRef:function(u){var f=V();return u={current:u},f.memoizedState=u},useState:function(u){u=An(u);var f=u.queue,v=Ip.bind(null,Gt,f);return f.dispatch=v,[u.memoizedState,v]},useDebugValue:Xu,useDeferredValue:function(u,f){var v=V();return Oh(v,u,f)},useTransition:function(){var u=An(!1);return u=Up.bind(null,Gt,u.queue,!0,!1),V().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,v){var M=Gt,R=V();if(xn){if(v===void 0)throw Error(s(407));v=v()}else{if(v=f(),zn===null)throw Error(s(349));(un&60)!==0||Ot(M,f,v)}R.memoizedState=v;var O={value:v,getSnapshot:f};return R.queue=O,Np(fn.bind(null,M,O,u),[u]),M.flags|=2048,za(9,Et.bind(null,M,O,v,f),{destroy:void 0},null),v},useId:function(){var u=V(),f=zn.identifierPrefix;if(xn){var v=gr,M=mr;v=(M&~(1<<32-mi(M)-1)).toString(32)+v,f=":"+f+"R"+v,v=tl++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=F0++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return V().memoizedState=Pp.bind(null,Gt)}};so.useMemoCache=he,so.useHostTransitionStatus=ju,so.useFormState=Nn,so.useActionState=Nn,so.useOptimistic=function(u){var f=V();f.memoizedState=f.baseState=u;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=Cc.bind(null,Gt,!0,v),v.dispatch=f,[u,f]};var Ts={readContext:Zi,use:ye,useCallback:Cl,useContext:Zi,useEffect:Vu,useImperativeHandle:Dh,useInsertionEffect:Cy,useLayoutEffect:Ry,useMemo:Rl,useReducer:st,useRef:_s,useState:function(){return st(qe)},useDebugValue:Xu,useDeferredValue:function(u,f){var v=ae();return Lh(v,En.memoizedState,u,f)},useTransition:function(){var u=st(qe)[0],f=ae().memoizedState;return[typeof u=="boolean"?u:Ae(u),f]},useSyncExternalStore:Pt,useId:Tc};Ts.useCacheRefresh=Or,Ts.useMemoCache=he,Ts.useHostTransitionStatus=ju,Ts.useFormState=ss,Ts.useActionState=ss,Ts.useOptimistic=function(u,f){var v=ae();return Ht(v,En,u,f)};var nl={readContext:Zi,use:ye,useCallback:Cl,useContext:Zi,useEffect:Vu,useImperativeHandle:Dh,useInsertionEffect:Cy,useLayoutEffect:Ry,useMemo:Rl,useReducer:ct,useRef:_s,useState:function(){return ct(qe)},useDebugValue:Xu,useDeferredValue:function(u,f){var v=ae();return En===null?Oh(v,u,f):Lh(v,En.memoizedState,u,f)},useTransition:function(){var u=ct(qe)[0],f=ae().memoizedState;return[typeof u=="boolean"?u:Ae(u),f]},useSyncExternalStore:Pt,useId:Tc};nl.useCacheRefresh=Or,nl.useMemoCache=he,nl.useHostTransitionStatus=ju,nl.useFormState=Xi,nl.useActionState=Xi,nl.useOptimistic=function(u,f){var v=ae();return En!==null?Ht(v,En,u,f):(v.baseState=u,[u,v.queue.dispatch])};var tu={isMounted:function(u){return(u=u._reactInternals)?y(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var M=as(),R=At(M);R.payload=f,v!=null&&(R.callback=v),f=mt(u,R,M),f!==null&&(jn(f,u,M),lt(f,u,M))},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var M=as(),R=At(M);R.tag=1,R.payload=f,v!=null&&(R.callback=v),f=mt(u,R,M),f!==null&&(jn(f,u,M),lt(f,u,M))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=as(),M=At(v);M.tag=2,f!=null&&(M.callback=f),f=mt(u,M,v),f!==null&&(jn(f,u,v),lt(f,u,v))}},il=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Dm=Error(s(461)),Ri=!1,Tf={dehydrated:null,treeContext:null,retryLane:0},ba=E(null),sl=null,Ma=null,Cf=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(v,M){u.push(M)}};this.abort=function(){f.aborted=!0,u.forEach(function(v){return v()})}},ti=na.unstable_scheduleCallback,Qx=na.unstable_NormalPriority,oi={$$typeof:ko,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Om=It.S;It.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&tt(u,f),Om!==null&&Om(u,f)};var Wl=E(null),ao=!1,Vt=!1,Fn=!1,an=typeof WeakSet=="function"?WeakSet:Set,Dt=null,Gn=!1,Tn=null,_i=!1,hs=null,al=8192,ro={getCacheForType:function(u){var f=Zi(oi),v=f.data.get(u);return v===void 0&&(v=u(),f.data.set(u,v)),v}},Jn=0,Ka=1,vr=2,nu=3,Cs=4;if(typeof Symbol=="function"&&Symbol.for){var Ar=Symbol.for;Jn=Ar("selector.component"),Ka=Ar("selector.has_pseudo_class"),vr=Ar("selector.role"),nu=Ar("selector.test_id"),Cs=Ar("selector.text")}var Rf=typeof WeakMap=="function"?WeakMap:Map,cn=0,zn=null,tn=null,un=0,Pn=0,wi=null,Ea=!1,Ta=!1,Kl=!1,Ja=0,ei=0,Ca=0,oo=0,Rs=0,oa=0,Bi=0,iu=null,Ra=null,vd=!1,Lm=0,la=1/0,Jl=null,_r=null,lo=!1,rl=null,su=0,Ad=0,wf=null,Zl=0,Nm=null;return ln.attemptContinuousHydration=function(u){if(u.tag===13){var f=Ve(u,67108864);f!==null&&jn(f,u,67108864),Gc(u,67108864)}},ln.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=as(),v=Ve(u,f);v!==null&&jn(v,u,f),Gc(u,f)}},ln.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=D(u.pendingLanes);if(f!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;f;){var v=1<<31-mi(f);u.entanglements[1]|=v,f&=~v}we(u),(cn&6)===0&&(la=sa()+500,j(0))}}break;case 13:f=Ve(u,2),f!==null&&jn(f,u,2),tm(),Gc(u,2)}},ln.batchedUpdates=function(u,f){return u(f)},ln.createComponentSelector=function(u){return{$$typeof:Jn,value:u}},ln.createContainer=function(u,f,v,M,R,O,X,Q,me,Fe){return jr(u,f,!1,null,v,M,O,X,Q,me,Fe,null)},ln.createHasPseudoClassSelector=function(u){return{$$typeof:Ka,value:u}},ln.createHydrationContainer=function(u,f,v,M,R,O,X,Q,me,Fe,$e,ht,Ze){return u=jr(v,M,!0,u,R,O,Q,me,Fe,$e,ht,Ze),u.context=im(null),v=u.current,M=as(),R=At(M),R.callback=f??null,mt(v,R,M),u.current.lanes=M,G(u,M),we(u),u},ln.createPortal=function(u,f,v){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:M==null?null:""+M,children:u,containerInfo:f,implementation:v}},ln.createRoleSelector=function(u){return{$$typeof:vr,value:u}},ln.createTestNameSelector=function(u){return{$$typeof:nu,value:u}},ln.createTextSelector=function(u){return{$$typeof:Cs,value:u}},ln.defaultOnCaughtError=function(u){console.error(u)},ln.defaultOnRecoverableError=function(u){il(u)},ln.defaultOnUncaughtError=function(u){il(u)},ln.deferredUpdates=function(u){var f=It.T,v=qo();try{return bs(32),It.T=null,u()}finally{bs(v),It.T=f}},ln.discreteUpdates=function(u,f,v,M,R){var O=It.T,X=qo();try{return bs(2),It.T=null,u(f,v,M,R)}finally{bs(X),It.T=O,cn===0&&(la=sa()+500)}},ln.findAllNodes=No,ln.findBoundingRects=function(u,f){if(!Yc)throw Error(s(363));f=No(u,f),u=[];for(var v=0;v<f.length;v++)u.push(Wx(f[v]));for(f=u.length-1;0<f;f--){v=u[f];for(var M=v.x,R=M+v.width,O=v.y,X=O+v.height,Q=f-1;0<=Q;Q--)if(f!==Q){var me=u[Q],Fe=me.x,$e=Fe+me.width,ht=me.y,Ze=ht+me.height;if(M>=Fe&&O>=ht&&R<=$e&&X<=Ze){u.splice(f,1);break}else if(M!==Fe||v.width!==me.width||Ze<O||ht>X){if(!(O!==ht||v.height!==me.height||$e<M||Fe>R)){Fe>M&&(me.width+=Fe-M,me.x=M),$e<R&&(me.width=R-Fe),u.splice(f,1);break}}else{ht>O&&(me.height+=ht-O,me.y=O),Ze<X&&(me.height=X-ht),u.splice(f,1);break}}}return u},ln.findHostInstance=Yr,ln.findHostInstanceWithNoPortals=function(u){return u=_(u),u=u!==null?T(u):null,u===null?null:zl(u.stateNode)},ln.findHostInstanceWithWarning=function(u){return Yr(u)},ln.flushPassiveEffects=Io,ln.flushSyncFromReconciler=function(u){var f=cn;cn|=1;var v=It.T,M=qo();try{if(bs(2),It.T=null,u)return u()}finally{bs(M),It.T=v,cn=f,(cn&6)===0&&j(0)}},ln.flushSyncWork=tm,ln.focusWithin=function(u,f){if(!Yc)throw Error(s(363));for(u=Lo(u),f=Nl(u,f),f=Array.from(f),u=0;u<f.length;){var v=f[u++],M=v.tag;if(!hr(v)){if((M===5||M===26||M===27)&&td(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},ln.getFindAllNodesFailureDescription=function(u,f){if(!Yc)throw Error(s(363));var v=0,M=[];u=[Lo(u),0];for(var R=0;R<u.length;){var O=u[R++],X=O.tag,Q=u[R++],me=f[Q];if((X!==5&&X!==26&&X!==27||!hr(O))&&(qh(O,me)&&(M.push(Us(me)),Q++,Q>v&&(v=Q)),Q<f.length))for(O=O.child;O!==null;)u.push(O,Q),O=O.sibling}if(v<f.length){for(u=[];v<f.length;v++)u.push(Us(f[v]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},ln.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return zl(u.child.stateNode);default:return u.child.stateNode}},ln.injectIntoDevTools=function(){var u={bundleType:0,version:Xc,rendererPackageName:jx,currentDispatcherRef:It,findFiberByHostInstance:ed,reconcilerVersion:"19.0.0"};if(ri!==null&&(u.rendererConfig=ri),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Jc=f.inject(u),Ci=f}catch{}u=!!f.checkDCE}}return u},ln.isAlreadyRendering=function(){return!1},ln.observeVisibleRects=function(u,f,v,M){if(!Yc)throw Error(s(363));u=No(u,f);var R=nd(u,v,M).disconnect;return{disconnect:function(){R()}}},ln.shouldError=function(){return null},ln.shouldSuspend=function(){return!1},ln.startHostTransition=function(u,f,v,M){if(u.tag!==5)throw Error(s(476));var R=Ec(u).queue;Up(u,R,f,Hl,v===null?n:function(){var O=Ec(u).next.queue;return To(u,O,{},as()),v(M)})},ln.updateContainer=function(u,f,v,M){var R=f.current,O=as();return ur(R,O,u,f,v,M),O},ln.updateContainerSync=function(u,f,v,M){return f.tag===0&&Io(),ur(f.current,2,u,f,v,M),2},ln},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})}(z1)),z1.exports}var Xw;function Wk(){return Xw||(Xw=1,F1.exports=qk()),F1.exports}var Kk=Wk();const Jk=I_(Kk);var jw=SM();const Zk=i=>typeof i=="object"&&typeof i.then=="function",ih=[];function HL(i,e,t=(n,s)=>n===s){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let s=0;s<n;s++)if(!t(i[s],e[s]))return!1;return!0}function GL(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const a of ih)if(HL(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return n.lifespan&&n.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,n.lifespan)),a.response;if(!t)throw a.promise}const s={keys:e,equal:n.equal,remove:()=>{const a=ih.indexOf(s);a!==-1&&ih.splice(a,1)},promise:(Zk(i)?i:i(...e)).then(a=>{s.response=a,n.lifespan&&n.lifespan>0&&(s.timeout=setTimeout(s.remove,n.lifespan))}).catch(a=>s.error=a)};if(ih.push(s),!t)throw s.promise}const Qk=(i,e,t)=>GL(i,e,!1,t),$k=(i,e,t)=>void GL(i,e,!0,t),eX=i=>{if(i===void 0||i.length===0)ih.splice(0,ih.length);else{const e=ih.find(t=>HL(i,t.keys,t.equal));e&&e.remove()}};function tT(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const s=tT(n,e,t);if(s)return s;n=e?null:n.sibling}}function VL(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const nT=VL(Me.createContext(null));class kL extends Me.Component{render(){return Me.createElement(nT.Provider,{value:this._reactInternals},this.props.children)}}function XL(){const i=Me.useContext(nT);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Me.useId();return Me.useMemo(()=>{for(const t of[i,i==null?void 0:i.alternate]){if(!t)continue;const n=tT(t,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[i,e])}const tX=Symbol.for("react.context"),nX=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===tX;function iX(){const i=XL(),[e]=Me.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;nX(n)&&n!==nT&&!e.has(n)&&e.set(n,Me.use(VL(n))),t=t.return}return e}function sX(){const i=iX();return Me.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>Me.createElement(e,null,Me.createElement(t.Provider,{...n,value:i.get(t)})),e=>Me.createElement(kL,{...e})),[i])}function jL(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const YL=i=>i&&i.isOrthographicCamera,aX=i=>i&&i.hasOwnProperty("current"),rX=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),xy=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Me.useLayoutEffect:Me.useEffect;function qL(i){const e=Me.useRef(i);return xy(()=>void(e.current=i),[i]),e}function oX(){const i=XL(),e=sX();return Me.useMemo(()=>({children:t})=>{const s=!!tT(i,!0,a=>a.type===Me.StrictMode)?Me.StrictMode:Me.Fragment;return le.jsx(s,{children:le.jsx(e,{children:t})})},[i,e])}function lX({set:i}){return xy(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const cX=(i=>(i=class extends Me.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function WL(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function Vd(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const ci={obj:i=>i===Object(i)&&!ci.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:s=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(ci.str(i)||ci.num(i)||ci.boo(i))return i===e;const a=ci.obj(i);if(a&&n==="reference")return i===e;const o=ci.arr(i);if(o&&t==="reference")return i===e;if((o||a)&&i===e)return!0;let c;for(c in i)if(!(c in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(c in s?e:i)if(!ci.equ(i[c],e[c],{strict:s,objects:"reference"}))return!1}else for(c in s?e:i)if(i[c]!==e[c])return!1;if(ci.und(c)){if(o&&i.length===0&&e.length===0||a&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function uX(i){const e={nodes:{},materials:{},meshes:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function fX(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const KL=["children","key","ref"];function hX(i){const e={};for(const t in i)KL.includes(t)||(e[t]=i[t]);return e}function E_(i,e,t,n){const s=i;let a=s==null?void 0:s.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:hX(n),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=a)),a}function ey(i,e){let t=i[e];if(!e.includes("-"))return{root:i,key:e,target:t};t=i;for(const s of e.split("-")){var n;e=s,i=t,t=(n=t)==null?void 0:n[e]}return{root:i,key:e,target:t}}const Yw=/-\d+$/;function T_(i,e){if(ci.str(e.props.attach)){if(Yw.test(e.props.attach)){const s=e.props.attach.replace(Yw,""),{root:a,key:o}=ey(i.object,s);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:n}=ey(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else ci.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function C_(i,e){if(ci.str(e.props.attach)){const{root:t,key:n}=ey(i.object,e.props.attach),s=e.previousAttach;s===void 0?delete t[n]:t[n]=s}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const Vb=[...KL,"args","dispose","attach","object","onUpdate","dispose"],qw=new Map;function dX(i){let e=qw.get(i.constructor);try{e||(e=new i.constructor,qw.set(i.constructor,e))}catch{}return e}function pX(i,e){const t={};for(const n in e)if(!Vb.includes(n)&&!ci.equ(e[n],i.props[n])){t[n]=e[n];for(const s in e)s.startsWith(`${n}-`)&&(t[s]=e[s])}for(const n in i.props){if(Vb.includes(n)||e.hasOwnProperty(n))continue;const{root:s,key:a}=ey(i.object,n);if(s.constructor&&s.constructor.length===0){const o=dX(s);ci.und(o)||(t[a]=o[a])}else t[a]=0}return t}const mX=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],gX=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Eu(i,e){var t;const n=i.__r3f,s=n&&jL(n).getState(),a=n==null?void 0:n.eventCount;for(const c in e){let h=e[c];if(Vb.includes(c))continue;if(n&&gX.test(c)){typeof h=="function"?n.handlers[c]=h:delete n.handlers[c],n.eventCount=Object.keys(n.handlers).length;continue}if(h===void 0)continue;let{root:p,key:m,target:y}=ey(i,c);if(y instanceof gp&&h instanceof gp)y.mask=h.mask;else if(y instanceof ut&&rX(h))y.set(h);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof y.copy=="function"&&h!=null&&h.constructor&&y.constructor===h.constructor)y.copy(h);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&Array.isArray(h))typeof y.fromArray=="function"?y.fromArray(h):y.set(...h);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof h=="number")typeof y.setScalar=="function"?y.setScalar(h):y.set(h);else{var o;p[m]=h,s&&!s.linear&&mX.includes(m)&&(o=p[m])!=null&&o.isTexture&&p[m].format===Ws&&p[m].type===_o&&(p[m].colorSpace=Ys)}}if(n!=null&&n.parent&&s!=null&&s.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const c=n.object,h=s.internal.interaction.indexOf(c);h>-1&&s.internal.interaction.splice(h,1),n.eventCount&&c.raycast!==null&&s.internal.interaction.push(c)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Bp(n),i}function Bp(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function yX(i,e){i.manual||(YL(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const fa=i=>i==null?void 0:i.isObject3D;function uA(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function JL(i,e,t,n){const s=t.get(e);s&&(t.delete(e),t.size===0&&(i.delete(n),s.target.releasePointerCapture(n)))}function vX(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,s)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(s)}),t.capturedMap.forEach((n,s)=>{JL(t.capturedMap,e,n,s)})}function AX(i){function e(h){const{internal:p}=i.getState(),m=h.offsetX-p.initialClick[0],y=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+y*y))}function t(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var y;return(y=p.__r3f)==null?void 0:y.handlers["onPointer"+m]}))}function n(h,p){const m=i.getState(),y=new Set,A=[],_=p?p(m.internal.interaction):m.internal.interaction;for(let b=0;b<_.length;b++){const w=Vd(_[b]);w&&(w.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function S(b){const w=Vd(b);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var B;w.events.compute==null||w.events.compute(h,w,(B=w.previousRoot)==null?void 0:B.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(b,!0):[]}let T=_.flatMap(S).sort((b,w)=>{const B=Vd(b.object),D=Vd(w.object);return!B||!D?b.distance-w.distance:D.events.priority-B.events.priority||b.distance-w.distance}).filter(b=>{const w=uA(b);return y.has(w)?!1:(y.add(w),!0)});m.events.filter&&(T=m.events.filter(T,m));for(const b of T){let w=b.object;for(;w;){var E;(E=w.__r3f)!=null&&E.eventCount&&A.push({...b,eventObject:w}),w=w.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let b of m.internal.capturedMap.get(h.pointerId).values())y.has(uA(b.intersection))||A.push(b.intersection);return A}function s(h,p,m,y){if(h.length){const A={stopped:!1};for(const _ of h){let S=Vd(_.object);if(S||_.object.traverseAncestors(T=>{const E=Vd(T);if(E)return S=E,!1}),S){const{raycaster:T,pointer:E,camera:b,internal:w}=S,B=new q(E.x,E.y,0).unproject(b),D=N=>{var L,G;return(L=(G=w.capturedMap.get(N))==null?void 0:G.has(_.eventObject))!=null?L:!1},U=N=>{const L={intersection:_,target:p.target};w.capturedMap.has(N)?w.capturedMap.get(N).set(_.eventObject,L):w.capturedMap.set(N,new Map([[_.eventObject,L]])),p.target.setPointerCapture(N)},P=N=>{const L=w.capturedMap.get(N);L&&JL(w.capturedMap,_.eventObject,L,N)};let F={};for(let N in p){let L=p[N];typeof L!="function"&&(F[N]=L)}let H={..._,...F,pointer:E,intersections:h,stopped:A.stopped,delta:m,unprojectedPoint:B,ray:T.ray,camera:b,stopPropagation(){const N="pointerId"in p&&w.capturedMap.get(p.pointerId);if((!N||N.has(_.eventObject))&&(H.stopped=A.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(L=>L.eventObject===_.eventObject))){const L=h.slice(0,h.indexOf(_));a([...L,_])}},target:{hasPointerCapture:D,setPointerCapture:U,releasePointerCapture:P},currentTarget:{hasPointerCapture:D,setPointerCapture:U,releasePointerCapture:P},nativeEvent:p};if(y(H),A.stopped===!0)break}}}return h}function a(h){const{internal:p}=i.getState();for(const m of p.hovered.values())if(!h.length||!h.find(y=>y.object===m.object&&y.index===m.index&&y.instanceId===m.instanceId)){const A=m.eventObject.__r3f;if(p.hovered.delete(uA(m)),A!=null&&A.eventCount){const _=A.handlers,S={...m,intersections:h};_.onPointerOut==null||_.onPointerOut(S),_.onPointerLeave==null||_.onPointerLeave(S)}}}function o(h,p){for(let m=0;m<p.length;m++){const y=p[m].__r3f;y==null||y.handlers.onPointerMissed==null||y.handlers.onPointerMissed(h)}}function c(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return p=>{const{internal:m}=i.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),a([]))})}}return function(m){const{onPointerMissed:y,internal:A}=i.getState();A.lastEvent.current=m;const _=h==="onPointerMove",S=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",E=n(m,_?t:void 0),b=S?e(m):0;h==="onPointerDown"&&(A.initialClick=[m.offsetX,m.offsetY],A.initialHits=E.map(B=>B.eventObject)),S&&!E.length&&b<=2&&(o(m,A.interaction),y&&y(m)),_&&a(E);function w(B){const D=B.eventObject,U=D.__r3f;if(!(U!=null&&U.eventCount))return;const P=U.handlers;if(_){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const F=uA(B),H=A.hovered.get(F);H?H.stopped&&B.stopPropagation():(A.hovered.set(F,B),P.onPointerOver==null||P.onPointerOver(B),P.onPointerEnter==null||P.onPointerEnter(B))}P.onPointerMove==null||P.onPointerMove(B)}else{const F=P[h];F?(!S||A.initialHits.includes(D))&&(o(m,A.interaction.filter(H=>!A.initialHits.includes(H))),F(B)):S&&A.initialHits.includes(D)&&o(m,A.interaction.filter(H=>!A.initialHits.includes(H)))}}s(E,m,b,w)}}return{handlePointer:c}}const Ww=i=>!!(i!=null&&i.render),ZL=Me.createContext(null),_X=(i,e)=>{const t=Yk((c,h)=>{const p=new q,m=new q,y=new q;function A(b=h().camera,w=m,B=h().size){const{width:D,height:U,top:P,left:F}=B,H=D/U;w.isVector3?y.copy(w):y.set(...w);const N=b.getWorldPosition(p).distanceTo(y);if(YL(b))return{width:D/b.zoom,height:U/b.zoom,top:P,left:F,factor:1,distance:N,aspect:H};{const L=b.fov*Math.PI/180,G=2*Math.tan(L/2)*N,W=G*(D/U);return{width:W,height:G,top:P,left:F,factor:D/W,distance:N,aspect:H}}}let _;const S=b=>c(w=>({performance:{...w.performance,current:b}})),T=new He;return{set:c,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>i(h(),b),advance:(b,w)=>e(b,w,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new KE,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=h();_&&clearTimeout(_),b.performance.current!==b.performance.min&&S(b.performance.min),_=setTimeout(()=>S(h().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:A},setEvents:b=>c(w=>({...w,events:{...w.events,...b}})),setSize:(b,w,B=0,D=0)=>{const U=h().camera,P={width:b,height:w,top:B,left:D};c(F=>({size:P,viewport:{...F.viewport,...A(U,m,P)}}))},setDpr:b=>c(w=>{const B=WL(b);return{viewport:{...w.viewport,dpr:B,initialDpr:w.viewport.initialDpr||B}}}),setFrameloop:(b="always")=>{const w=h().clock;w.stop(),w.elapsedTime=0,b!=="never"&&(w.start(),w.elapsedTime=0),c(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Me.createRef(),active:!1,frames:0,priority:0,subscribe:(b,w,B)=>{const D=h().internal;return D.priority=D.priority+(w>0?1:0),D.subscribers.push({ref:b,priority:w,store:B}),D.subscribers=D.subscribers.sort((U,P)=>U.priority-P.priority),()=>{const U=h().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(w>0?1:0),U.subscribers=U.subscribers.filter(P=>P.ref!==b))}}}}}),n=t.getState();let s=n.size,a=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:c,size:h,viewport:p,gl:m,set:y}=t.getState();if(h.width!==s.width||h.height!==s.height||p.dpr!==a){s=h,a=p.dpr,yX(c,h),p.dpr>0&&m.setPixelRatio(p.dpr);const A=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,A)}c!==o&&(o=c,y(A=>({viewport:{...A.viewport,...A.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>i(c)),t};function QL(){const i=Me.useContext(ZL);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function vu(i=t=>t,e){return QL()(i,e)}function iT(i,e=0){const t=QL(),n=t.getState().internal.subscribe,s=qL(i);return xy(()=>n(s,e,t),[e,n,t]),null}const Kw=new WeakMap,xX=i=>{var e;return typeof i=="function"&&(i==null||(e=i.prototype)==null?void 0:e.constructor)===i};function $L(i,e){return function(t,...n){let s;return xX(t)?(s=Kw.get(t),s||(s=new t,Kw.set(t,s))):s=t,i&&i(s),Promise.all(n.map(a=>new Promise((o,c)=>s.load(a,h=>{fa(h==null?void 0:h.scene)&&Object.assign(h,uX(h.scene)),o(h)},e,h=>c(new Error(`Could not load ${a}: ${h==null?void 0:h.message}`))))))}}function Sy(i,e,t,n){const s=Array.isArray(e)?e:[e],a=Qk($L(t,n),[i,...s],{equal:ci.equ});return Array.isArray(e)?a:a[0]}Sy.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return $k($L(t),[i,...n])};Sy.clear=function(i,e){const t=Array.isArray(e)?e:[e];return eX([i,...t])};function SX(i){const e=Jk(i);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Me.version}),e}const eN=0,_p={},bX=/^three(?=[A-Z])/,Tx=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let MX=0;const EX=i=>typeof i=="function";function TX(i){if(EX(i)){const e=`${MX++}`;return _p[e]=i,e}else Object.assign(_p,i)}function tN(i,e){const t=Tx(i),n=_p[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function CX(i,e,t){var n;return i=Tx(i)in _p?i:i.replace(bX,""),tN(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,E_(e.object,t,i,e)}function RX(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?C_(i.parent,i):fa(i.object)&&(i.object.visible=!1),i.isHidden=!0,Bp(i)}}function nN(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?T_(i.parent,i):fa(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,Bp(i)}}function sT(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var s,a;const o=_p[Tx(e.type)];e.object=(s=e.props.object)!=null?s:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Eu(e.object,e.props),e.props.attach)T_(i,e);else if(fa(e.object)&&fa(i.object)){const o=i.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const c=i.object.children.indexOf(e.object);if(c!==-1){i.object.children.splice(c,1);const h=c<o?o-1:o;i.object.children.splice(h,0,e.object)}else e.object.parent=i.object,i.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const o of e.children)sT(e,o);Bp(e)}}function H1(i,e){e&&(e.parent=i,i.children.push(e),sT(i,e))}function Jw(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),sT(i,e,t)}function iN(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():jw.unstable_scheduleCallback(jw.unstable_IdlePriority,e)}}function kb(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?C_(i,e):fa(e.object)&&fa(i.object)&&(i.object.remove(e.object),vX(jL(e),e.object));const s=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];kb(e,o,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&iN(e.object),t===void 0&&Bp(e)}function wX(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const CA=[];function BX(){for(const[t]of CA){const n=t.parent;if(n){t.props.attach?C_(n,t):fa(t.object)&&fa(n.object)&&n.object.remove(t.object);for(const s of t.children)s.props.attach?C_(t,s):fa(s.object)&&fa(t.object)&&t.object.remove(s.object)}t.isHidden&&nN(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&iN(t.object)}for(const[t,n,s]of CA){t.props=n;const a=t.parent;if(a){var i,e;const o=_p[Tx(t.type)];t.object=(i=t.props.object)!=null?i:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,wX(s,t.object),Eu(t.object,t.props),t.props.attach?T_(a,t):fa(t.object)&&fa(a.object)&&a.object.add(t.object);for(const c of t.children)c.props.attach?T_(t,c):fa(c.object)&&fa(t.object)&&t.object.add(c.object);Bp(t)}}CA.length=0}const G1=()=>{},Zw={};let fA=eN;const DX=0,OX=4,Xb=SX({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:CX,removeChild:kb,appendChild:H1,appendInitialChild:H1,insertBefore:Jw,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||H1(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||kb(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||Jw(n,e,t)},getRootHostContext:()=>Zw,getChildHostContext:()=>Zw,commitUpdate(i,e,t,n,s){var a,o,c;tN(e,n);let h=!1;if((i.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(c=n.args)!=null&&c.some((m,y)=>{var A;return m!==((A=t.args)==null?void 0:A[y])}))&&(h=!0),h)CA.push([i,{...n},s]);else{const m=pX(i,n);Object.keys(m).length&&(Object.assign(i.props,m),Eu(i.object,m))}(s.sibling===null||(s.flags&OX)===DX)&&BX()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i==null?void 0:i.object,prepareForCommit:()=>null,preparePortalMount:i=>E_(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:RX,unhideInstance:nN,createTextInstance:G1,hideTextInstance:G1,unhideTextInstance:G1,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Me.createContext(null),setCurrentUpdatePriority(i){fA=i},getCurrentUpdatePriority(){return fA},resolveUpdatePriority(){var i;if(fA!==eN)return fA;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return TA.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return TA.ContinuousEventPriority;default:return TA.DefaultEventPriority}},resetFormInstance(){}}),vh=new Map,kd={objects:"shallow",strict:!1};function LX(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:s,left:a}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:s,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function NX(i){const e=vh.get(i),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,a=n||_X(qb,$w),o=t||Xb.createContainer(a,TA.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||vh.set(i,{fiber:o,store:a});let c,h,p=!1,m=null;return{async configure(y={}){let A;m=new Promise(oe=>A=oe);let{gl:_,size:S,scene:T,events:E,onCreated:b,shadows:w=!1,linear:B=!1,flat:D=!1,legacy:U=!1,orthographic:P=!1,frameloop:F="always",dpr:H=[1,2],performance:N,raycaster:L,camera:G,onPointerMissed:W}=y,K=a.getState(),$=K.gl;if(!K.gl){const oe={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},Oe=typeof _=="function"?await _(oe):_;Ww(Oe)?$=Oe:$=new zL({...oe,..._}),K.set({gl:$})}let ge=K.raycaster;ge||K.set({raycaster:ge=new DL});const{params:ee,...re}=L||{};if(ci.equ(re,ge,kd)||Eu(ge,{...re}),ci.equ(ee,ge.params,kd)||Eu(ge,{params:{...ge.params,...ee}}),!K.camera||K.camera===h&&!ci.equ(h,G,kd)){h=G;const oe=G==null?void 0:G.isCamera,Oe=oe?G:P?new gc(0,0,0,0,.1,1e3):new Ni(75,0,.1,1e3);oe||(Oe.position.z=5,G&&(Eu(Oe,G),Oe.manual||("aspect"in G||"left"in G||"right"in G||"bottom"in G||"top"in G)&&(Oe.manual=!0,Oe.updateProjectionMatrix())),!K.camera&&!(G!=null&&G.rotation)&&Oe.lookAt(0,0,0)),K.set({camera:Oe}),ge.camera=Oe}if(!K.scene){let oe;T!=null&&T.isScene?(oe=T,E_(oe,a,"",{})):(oe=new EE,E_(oe,a,"",{}),T&&Eu(oe,T)),K.set({scene:oe})}E&&!K.events.handlers&&K.set({events:E(a)});const se=LX(i,S);if(ci.equ(se,K.size,kd)||K.setSize(se.width,se.height,se.top,se.left),H&&K.viewport.dpr!==WL(H)&&K.setDpr(H),K.frameloop!==F&&K.setFrameloop(F),K.onPointerMissed||K.set({onPointerMissed:W}),N&&!ci.equ(N,K.performance,kd)&&K.set(oe=>({performance:{...oe.performance,...N}})),!K.xr){var Te;const oe=(ie,Re)=>{const Ge=a.getState();Ge.frameloop!=="never"&&$w(ie,!0,Ge,Re)},Oe=()=>{const ie=a.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?oe:null),ie.gl.xr.isPresenting||qb(ie)},je={connect(){const ie=a.getState().gl;ie.xr.addEventListener("sessionstart",Oe),ie.xr.addEventListener("sessionend",Oe)},disconnect(){const ie=a.getState().gl;ie.xr.removeEventListener("sessionstart",Oe),ie.xr.removeEventListener("sessionend",Oe)}};typeof((Te=$.xr)==null?void 0:Te.addEventListener)=="function"&&je.connect(),K.set({xr:je})}if($.shadowMap){const oe=$.shadowMap.enabled,Oe=$.shadowMap.type;if($.shadowMap.enabled=!!w,ci.boo(w))$.shadowMap.type=bg;else if(ci.str(w)){var Y;const je={basic:X3,percentage:q_,soft:bg,variance:mo};$.shadowMap.type=(Y=je[w])!=null?Y:bg}else ci.obj(w)&&Object.assign($.shadowMap,w);(oe!==$.shadowMap.enabled||Oe!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}return bn.enabled=!U,p||($.outputColorSpace=B?Du:Ys,$.toneMapping=D?vl:cE),K.legacy!==U&&K.set(()=>({legacy:U})),K.linear!==B&&K.set(()=>({linear:B})),K.flat!==D&&K.set(()=>({flat:D})),_&&!ci.fun(_)&&!Ww(_)&&!ci.equ(_,$,kd)&&Eu($,_),c=b,p=!0,A(),this},render(y){return!p&&!m&&this.configure(),m.then(()=>{Xb.updateContainer(le.jsx(UX,{store:a,children:y,onCreated:c,rootElement:i}),o,null,()=>{})}),a},unmount(){sN(i)}}}function UX({store:i,children:e,onCreated:t,rootElement:n}){return xy(()=>{const s=i.getState();s.set(a=>({internal:{...a.internal,active:!0}})),t&&t(s),i.getState().events.connected||s.events.connect==null||s.events.connect(n)},[]),le.jsx(ZL.Provider,{value:i,children:e})}function sN(i,e){const t=vh.get(i),n=t==null?void 0:t.fiber;if(n){const s=t==null?void 0:t.store.getState();s&&(s.internal.active=!1),Xb.updateContainer(null,n,null,()=>{s&&setTimeout(()=>{try{var a,o,c,h;s.events.disconnect==null||s.events.disconnect(),(a=s.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(c=s.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(h=s.gl)!=null&&h.xr&&s.xr.disconnect(),fX(s.scene),vh.delete(i)}catch{}},500)})}}const PX=new Set,IX=new Set,FX=new Set;function V1(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function Og(i,e){switch(i){case"before":return V1(PX,e);case"after":return V1(IX,e);case"tail":return V1(FX,e)}}let k1,X1;function jb(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),k1=e.internal.subscribers;for(let s=0;s<k1.length;s++)X1=k1[s],X1.ref.current(X1.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let R_=!1,Yb=!1,j1,Qw,Xd;function aN(i){Qw=requestAnimationFrame(aN),R_=!0,j1=0,Og("before",i),Yb=!0;for(const t of vh.values()){var e;Xd=t.store.getState(),Xd.internal.active&&(Xd.frameloop==="always"||Xd.internal.frames>0)&&!((e=Xd.gl.xr)!=null&&e.isPresenting)&&(j1+=jb(i,Xd))}if(Yb=!1,Og("after",i),j1===0)return Og("tail",i),R_=!1,cancelAnimationFrame(Qw)}function qb(i,e=1){var t;if(!i)return vh.forEach(n=>qb(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):Yb?i.internal.frames=2:i.internal.frames=1,R_||(R_=!0,requestAnimationFrame(aN)))}function $w(i,e=!0,t,n){if(e&&Og("before",i),t)jb(i,t,n);else for(const s of vh.values())jb(i,s.store.getState());e&&Og("after",i)}const Y1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zX(i){const{handlePointer:e}=AX(i);return{priority:1,enabled:!0,compute(t,n,s){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(Y1).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:s}=i.getState();(t=s.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(s.lastEvent.current)},connect:t=>{const{set:n,events:s}=i.getState();if(s.disconnect==null||s.disconnect(),n(a=>({events:{...a.events,connected:t}})),s.handlers)for(const a in s.handlers){const o=s.handlers[a],[c,h]=Y1[a];t.addEventListener(c,o,{passive:h})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const s in n.handlers){const a=n.handlers[s],[o]=Y1[s];n.connected.removeEventListener(o,a)}t(s=>({events:{...s.events,connected:void 0}}))}}}}function eB(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function HX({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=Me.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=Me.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),h=i?typeof i=="number"?i:i.scroll:null,p=i?typeof i=="number"?i:i.resize:null,m=Me.useRef(!1);Me.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,A,_]=Me.useMemo(()=>{const b=()=>{if(!c.current.element)return;const{left:w,top:B,width:D,height:U,bottom:P,right:F,x:H,y:N}=c.current.element.getBoundingClientRect(),L={left:w,top:B,width:D,height:U,bottom:P,right:F,x:H,y:N};c.current.element instanceof HTMLElement&&n&&(L.height=c.current.element.offsetHeight,L.width=c.current.element.offsetWidth),Object.freeze(L),m.current&&!XX(c.current.lastBounds,L)&&o(c.current.lastBounds=L)};return[b,p?eB(b,p):b,h?eB(b,h):b]},[o,n,h,p]);function S(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",_,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function T(){c.current.element&&(c.current.resizeObserver=new s(_),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(b=>b.addEventListener("scroll",_,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const E=b=>{!b||b===c.current.element||(S(),c.current.element=b,c.current.scrollContainers=rN(b),T())};return VX(_,!!e),GX(A),Me.useEffect(()=>{S(),T()},[e,_,A]),Me.useEffect(()=>S,[]),[E,a,y]}function GX(i){Me.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function VX(i,e){Me.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function rN(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:s}=window.getComputedStyle(i);return[t,n,s].some(a=>a==="auto"||a==="scroll")&&e.push(i),[...e,...rN(i.parentElement)]}const kX=["x","y","top","bottom","left","right","width","height"],XX=(i,e)=>kX.every(t=>i[t]===e[t]);function jX({ref:i,children:e,fallback:t,resize:n,style:s,gl:a,events:o=zX,eventSource:c,eventPrefix:h,shadows:p,linear:m,flat:y,legacy:A,orthographic:_,frameloop:S,dpr:T,performance:E,raycaster:b,camera:w,scene:B,onPointerMissed:D,onCreated:U,...P}){Me.useMemo(()=>TX(Lk),[]);const F=oX(),[H,N]=HX({scroll:!0,debounce:{scroll:50,resize:0},...n}),L=Me.useRef(null),G=Me.useRef(null);Me.useImperativeHandle(i,()=>L.current);const W=qL(D),[K,$]=Me.useState(!1),[ge,ee]=Me.useState(!1);if(K)throw K;if(ge)throw ge;const re=Me.useRef(null);xy(()=>{const Te=L.current;if(N.width>0&&N.height>0&&Te){re.current||(re.current=NX(Te));async function Y(){await re.current.configure({gl:a,scene:B,events:o,shadows:p,linear:m,flat:y,legacy:A,orthographic:_,frameloop:S,dpr:T,performance:E,raycaster:b,camera:w,size:N,onPointerMissed:(...oe)=>W.current==null?void 0:W.current(...oe),onCreated:oe=>{oe.events.connect==null||oe.events.connect(c?aX(c)?c.current:c:G.current),h&&oe.setEvents({compute:(Oe,je)=>{const ie=Oe[h+"X"],Re=Oe[h+"Y"];je.pointer.set(ie/je.size.width*2-1,-(Re/je.size.height)*2+1),je.raycaster.setFromCamera(je.pointer,je.camera)}}),U==null||U(oe)}}),re.current.render(le.jsx(F,{children:le.jsx(cX,{set:ee,children:le.jsx(Me.Suspense,{fallback:le.jsx(lX,{set:$}),children:e??null})})}))}Y()}}),Me.useEffect(()=>{const Te=L.current;if(Te)return()=>sN(Te)},[]);const se=c?"none":"auto";return le.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:se,...s},...P,children:le.jsx("div",{ref:H,style:{width:"100%",height:"100%"},children:le.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function YX(i){return le.jsx(kL,{children:le.jsx(jX,{...i})})}function Wb(){return Wb=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Wb.apply(null,arguments)}const qX=parseInt(cy.replace(/\D+/g,""));function tB(i,e){if(e===xO)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===x_||e===_E){let t=i.getIndex();if(t===null){const o=[],c=i.getAttribute("position");if(c!==void 0){for(let h=0;h<c.count;h++)o.push(h);i.setIndex(o),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,s=[];if(t)if(e===x_)for(let o=1;o<=n;o++)s.push(t.getX(0)),s.push(t.getX(o)),s.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(s.push(t.getX(o)),s.push(t.getX(o+1)),s.push(t.getX(o+2))):(s.push(t.getX(o+2)),s.push(t.getX(o+1)),s.push(t.getX(o)));s.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=i.clone();return a.setIndex(s),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}var WX=Object.defineProperty,KX=(i,e,t)=>e in i?WX(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,JX=(i,e,t)=>(KX(i,e+"",t),t);class ZX{constructor(){JX(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const s=n.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e);e.target=null}}}var QX=Object.defineProperty,$X=(i,e,t)=>e in i?QX(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Lt=(i,e,t)=>($X(i,typeof e!="symbol"?e+"":e,t),t);const hA=new bh,nB=new lc,ej=Math.cos(70*(Math.PI/180)),iB=(i,e)=>(i%e+e)%e;let tj=class extends ZX{constructor(e,t){super(),Lt(this,"object"),Lt(this,"domElement"),Lt(this,"enabled",!0),Lt(this,"target",new q),Lt(this,"minDistance",0),Lt(this,"maxDistance",1/0),Lt(this,"minZoom",0),Lt(this,"maxZoom",1/0),Lt(this,"minPolarAngle",0),Lt(this,"maxPolarAngle",Math.PI),Lt(this,"minAzimuthAngle",-1/0),Lt(this,"maxAzimuthAngle",1/0),Lt(this,"enableDamping",!1),Lt(this,"dampingFactor",.05),Lt(this,"enableZoom",!0),Lt(this,"zoomSpeed",1),Lt(this,"enableRotate",!0),Lt(this,"rotateSpeed",1),Lt(this,"enablePan",!0),Lt(this,"panSpeed",1),Lt(this,"screenSpacePanning",!0),Lt(this,"keyPanSpeed",7),Lt(this,"zoomToCursor",!1),Lt(this,"autoRotate",!1),Lt(this,"autoRotateSpeed",2),Lt(this,"reverseOrbit",!1),Lt(this,"reverseHorizontalOrbit",!1),Lt(this,"reverseVerticalOrbit",!1),Lt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Lt(this,"mouseButtons",{LEFT:Yf.ROTATE,MIDDLE:Yf.DOLLY,RIGHT:Yf.PAN}),Lt(this,"touches",{ONE:qf.ROTATE,TWO:qf.DOLLY_PAN}),Lt(this,"target0"),Lt(this,"position0"),Lt(this,"zoom0"),Lt(this,"_domElementKeyEvents",null),Lt(this,"getPolarAngle"),Lt(this,"getAzimuthalAngle"),Lt(this,"setPolarAngle"),Lt(this,"setAzimuthalAngle"),Lt(this,"getDistance"),Lt(this,"getZoomScale"),Lt(this,"listenToKeyEvents"),Lt(this,"stopListenToKeyEvents"),Lt(this,"saveState"),Lt(this,"reset"),Lt(this,"update"),Lt(this,"connect"),Lt(this,"dispose"),Lt(this,"dollyIn"),Lt(this,"dollyOut"),Lt(this,"getScale"),Lt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=ne=>{let Ce=iB(ne,2*Math.PI),ot=m.phi;ot<0&&(ot+=2*Math.PI),Ce<0&&(Ce+=2*Math.PI);let te=Math.abs(Ce-ot);2*Math.PI-te<te&&(Ce<ot?Ce+=2*Math.PI:ot+=2*Math.PI),y.phi=Ce-ot,n.update()},this.setAzimuthalAngle=ne=>{let Ce=iB(ne,2*Math.PI),ot=m.theta;ot<0&&(ot+=2*Math.PI),Ce<0&&(Ce+=2*Math.PI);let te=Math.abs(Ce-ot);2*Math.PI-te<te&&(Ce<ot?Ce+=2*Math.PI:ot+=2*Math.PI),y.theta=Ce-ot,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=ne=>{ne.addEventListener("keydown",tt),this._domElementKeyEvents=ne},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",tt),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(s),n.update(),h=c.NONE},this.update=(()=>{const ne=new q,Ce=new q(0,1,0),ot=new vs().setFromUnitVectors(e.up,Ce),te=ot.clone().invert(),Qe=new q,Ee=new vs,Ie=2*Math.PI;return function(){const rt=n.object.position;ot.setFromUnitVectors(e.up,Ce),te.copy(ot).invert(),ne.copy(rt).sub(n.target),ne.applyQuaternion(ot),m.setFromVector3(ne),n.autoRotate&&h===c.NONE&&$(W()),n.enableDamping?(m.theta+=y.theta*n.dampingFactor,m.phi+=y.phi*n.dampingFactor):(m.theta+=y.theta,m.phi+=y.phi);let St=n.minAzimuthAngle,on=n.maxAzimuthAngle;isFinite(St)&&isFinite(on)&&(St<-Math.PI?St+=Ie:St>Math.PI&&(St-=Ie),on<-Math.PI?on+=Ie:on>Math.PI&&(on-=Ie),St<=on?m.theta=Math.max(St,Math.min(on,m.theta)):m.theta=m.theta>(St+on)/2?Math.max(St,m.theta):Math.min(on,m.theta)),m.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,m.phi)),m.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(_,n.dampingFactor):n.target.add(_),n.zoomToCursor&&N||n.object.isOrthographicCamera?m.radius=je(m.radius):m.radius=je(m.radius*A),ne.setFromSpherical(m),ne.applyQuaternion(te),rt.copy(n.target).add(ne),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(y.theta*=1-n.dampingFactor,y.phi*=1-n.dampingFactor,_.multiplyScalar(1-n.dampingFactor)):(y.set(0,0,0),_.set(0,0,0));let Ln=!1;if(n.zoomToCursor&&N){let Wt=null;if(n.object instanceof Ni&&n.object.isPerspectiveCamera){const ii=ne.length();Wt=je(ii*A);const fi=ii-Wt;n.object.position.addScaledVector(F,fi),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const ii=new q(H.x,H.y,0);ii.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/A)),n.object.updateProjectionMatrix(),Ln=!0;const fi=new q(H.x,H.y,0);fi.unproject(n.object),n.object.position.sub(fi).add(ii),n.object.updateMatrixWorld(),Wt=ne.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Wt!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Wt).add(n.object.position):(hA.origin.copy(n.object.position),hA.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(hA.direction))<ej?e.lookAt(n.target):(nB.setFromNormalAndCoplanarPoint(n.object.up,n.target),hA.intersectPlane(nB,n.target))))}else n.object instanceof gc&&n.object.isOrthographicCamera&&(Ln=A!==1,Ln&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/A)),n.object.updateProjectionMatrix()));return A=1,N=!1,Ln||Qe.distanceToSquared(n.object.position)>p||8*(1-Ee.dot(n.object.quaternion))>p?(n.dispatchEvent(s),Qe.copy(n.object.position),Ee.copy(n.object.quaternion),Ln=!1,!0):!1}})(),this.connect=ne=>{n.domElement=ne,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Je),n.domElement.addEventListener("pointerdown",z),n.domElement.addEventListener("pointercancel",Se),n.domElement.addEventListener("wheel",yt)},this.dispose=()=>{var ne,Ce,ot,te,Qe,Ee;n.domElement&&(n.domElement.style.touchAction="auto"),(ne=n.domElement)==null||ne.removeEventListener("contextmenu",Je),(Ce=n.domElement)==null||Ce.removeEventListener("pointerdown",z),(ot=n.domElement)==null||ot.removeEventListener("pointercancel",Se),(te=n.domElement)==null||te.removeEventListener("wheel",yt),(Qe=n.domElement)==null||Qe.ownerDocument.removeEventListener("pointermove",fe),(Ee=n.domElement)==null||Ee.ownerDocument.removeEventListener("pointerup",Se),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",tt)};const n=this,s={type:"change"},a={type:"start"},o={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=c.NONE;const p=1e-6,m=new Fb,y=new Fb;let A=1;const _=new q,S=new He,T=new He,E=new He,b=new He,w=new He,B=new He,D=new He,U=new He,P=new He,F=new q,H=new He;let N=!1;const L=[],G={};function W(){return 2*Math.PI/60/60*n.autoRotateSpeed}function K(){return Math.pow(.95,n.zoomSpeed)}function $(ne){n.reverseOrbit||n.reverseHorizontalOrbit?y.theta+=ne:y.theta-=ne}function ge(ne){n.reverseOrbit||n.reverseVerticalOrbit?y.phi+=ne:y.phi-=ne}const ee=(()=>{const ne=new q;return function(ot,te){ne.setFromMatrixColumn(te,0),ne.multiplyScalar(-ot),_.add(ne)}})(),re=(()=>{const ne=new q;return function(ot,te){n.screenSpacePanning===!0?ne.setFromMatrixColumn(te,1):(ne.setFromMatrixColumn(te,0),ne.crossVectors(n.object.up,ne)),ne.multiplyScalar(ot),_.add(ne)}})(),se=(()=>{const ne=new q;return function(ot,te){const Qe=n.domElement;if(Qe&&n.object instanceof Ni&&n.object.isPerspectiveCamera){const Ee=n.object.position;ne.copy(Ee).sub(n.target);let Ie=ne.length();Ie*=Math.tan(n.object.fov/2*Math.PI/180),ee(2*ot*Ie/Qe.clientHeight,n.object.matrix),re(2*te*Ie/Qe.clientHeight,n.object.matrix)}else Qe&&n.object instanceof gc&&n.object.isOrthographicCamera?(ee(ot*(n.object.right-n.object.left)/n.object.zoom/Qe.clientWidth,n.object.matrix),re(te*(n.object.top-n.object.bottom)/n.object.zoom/Qe.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Te(ne){n.object instanceof Ni&&n.object.isPerspectiveCamera||n.object instanceof gc&&n.object.isOrthographicCamera?A=ne:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Y(ne){Te(A/ne)}function oe(ne){Te(A*ne)}function Oe(ne){if(!n.zoomToCursor||!n.domElement)return;N=!0;const Ce=n.domElement.getBoundingClientRect(),ot=ne.clientX-Ce.left,te=ne.clientY-Ce.top,Qe=Ce.width,Ee=Ce.height;H.x=ot/Qe*2-1,H.y=-(te/Ee)*2+1,F.set(H.x,H.y,1).unproject(n.object).sub(n.object.position).normalize()}function je(ne){return Math.max(n.minDistance,Math.min(n.maxDistance,ne))}function ie(ne){S.set(ne.clientX,ne.clientY)}function Re(ne){Oe(ne),D.set(ne.clientX,ne.clientY)}function Ge(ne){b.set(ne.clientX,ne.clientY)}function Ye(ne){T.set(ne.clientX,ne.clientY),E.subVectors(T,S).multiplyScalar(n.rotateSpeed);const Ce=n.domElement;Ce&&($(2*Math.PI*E.x/Ce.clientHeight),ge(2*Math.PI*E.y/Ce.clientHeight)),S.copy(T),n.update()}function ke(ne){U.set(ne.clientX,ne.clientY),P.subVectors(U,D),P.y>0?Y(K()):P.y<0&&oe(K()),D.copy(U),n.update()}function vt(ne){w.set(ne.clientX,ne.clientY),B.subVectors(w,b).multiplyScalar(n.panSpeed),se(B.x,B.y),b.copy(w),n.update()}function it(ne){Oe(ne),ne.deltaY<0?oe(K()):ne.deltaY>0&&Y(K()),n.update()}function Ct(ne){let Ce=!1;switch(ne.code){case n.keys.UP:se(0,n.keyPanSpeed),Ce=!0;break;case n.keys.BOTTOM:se(0,-n.keyPanSpeed),Ce=!0;break;case n.keys.LEFT:se(n.keyPanSpeed,0),Ce=!0;break;case n.keys.RIGHT:se(-n.keyPanSpeed,0),Ce=!0;break}Ce&&(ne.preventDefault(),n.update())}function Xt(){if(L.length==1)S.set(L[0].pageX,L[0].pageY);else{const ne=.5*(L[0].pageX+L[1].pageX),Ce=.5*(L[0].pageY+L[1].pageY);S.set(ne,Ce)}}function Bt(){if(L.length==1)b.set(L[0].pageX,L[0].pageY);else{const ne=.5*(L[0].pageX+L[1].pageX),Ce=.5*(L[0].pageY+L[1].pageY);b.set(ne,Ce)}}function Z(){const ne=L[0].pageX-L[1].pageX,Ce=L[0].pageY-L[1].pageY,ot=Math.sqrt(ne*ne+Ce*Ce);D.set(0,ot)}function Mn(){n.enableZoom&&Z(),n.enablePan&&Bt()}function Pe(){n.enableZoom&&Z(),n.enableRotate&&Xt()}function Ve(ne){if(L.length==1)T.set(ne.pageX,ne.pageY);else{const ot=lt(ne),te=.5*(ne.pageX+ot.x),Qe=.5*(ne.pageY+ot.y);T.set(te,Qe)}E.subVectors(T,S).multiplyScalar(n.rotateSpeed);const Ce=n.domElement;Ce&&($(2*Math.PI*E.x/Ce.clientHeight),ge(2*Math.PI*E.y/Ce.clientHeight)),S.copy(T)}function Le(ne){if(L.length==1)w.set(ne.pageX,ne.pageY);else{const Ce=lt(ne),ot=.5*(ne.pageX+Ce.x),te=.5*(ne.pageY+Ce.y);w.set(ot,te)}B.subVectors(w,b).multiplyScalar(n.panSpeed),se(B.x,B.y),b.copy(w)}function nt(ne){const Ce=lt(ne),ot=ne.pageX-Ce.x,te=ne.pageY-Ce.y,Qe=Math.sqrt(ot*ot+te*te);U.set(0,Qe),P.set(0,Math.pow(U.y/D.y,n.zoomSpeed)),Y(P.y),D.copy(U)}function we(ne){n.enableZoom&&nt(ne),n.enablePan&&Le(ne)}function j(ne){n.enableZoom&&nt(ne),n.enableRotate&&Ve(ne)}function z(ne){var Ce,ot;n.enabled!==!1&&(L.length===0&&((Ce=n.domElement)==null||Ce.ownerDocument.addEventListener("pointermove",fe),(ot=n.domElement)==null||ot.ownerDocument.addEventListener("pointerup",Se)),gt(ne),ne.pointerType==="touch"?pt(ne):Ue(ne))}function fe(ne){n.enabled!==!1&&(ne.pointerType==="touch"?qt(ne):De(ne))}function Se(ne){var Ce,ot,te;At(ne),L.length===0&&((Ce=n.domElement)==null||Ce.releasePointerCapture(ne.pointerId),(ot=n.domElement)==null||ot.ownerDocument.removeEventListener("pointermove",fe),(te=n.domElement)==null||te.ownerDocument.removeEventListener("pointerup",Se)),n.dispatchEvent(o),h=c.NONE}function Ue(ne){let Ce;switch(ne.button){case 0:Ce=n.mouseButtons.LEFT;break;case 1:Ce=n.mouseButtons.MIDDLE;break;case 2:Ce=n.mouseButtons.RIGHT;break;default:Ce=-1}switch(Ce){case Yf.DOLLY:if(n.enableZoom===!1)return;Re(ne),h=c.DOLLY;break;case Yf.ROTATE:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(n.enablePan===!1)return;Ge(ne),h=c.PAN}else{if(n.enableRotate===!1)return;ie(ne),h=c.ROTATE}break;case Yf.PAN:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(n.enableRotate===!1)return;ie(ne),h=c.ROTATE}else{if(n.enablePan===!1)return;Ge(ne),h=c.PAN}break;default:h=c.NONE}h!==c.NONE&&n.dispatchEvent(a)}function De(ne){if(n.enabled!==!1)switch(h){case c.ROTATE:if(n.enableRotate===!1)return;Ye(ne);break;case c.DOLLY:if(n.enableZoom===!1)return;ke(ne);break;case c.PAN:if(n.enablePan===!1)return;vt(ne);break}}function yt(ne){n.enabled===!1||n.enableZoom===!1||h!==c.NONE&&h!==c.ROTATE||(ne.preventDefault(),n.dispatchEvent(a),it(ne),n.dispatchEvent(o))}function tt(ne){n.enabled===!1||n.enablePan===!1||Ct(ne)}function pt(ne){switch(mt(ne),L.length){case 1:switch(n.touches.ONE){case qf.ROTATE:if(n.enableRotate===!1)return;Xt(),h=c.TOUCH_ROTATE;break;case qf.PAN:if(n.enablePan===!1)return;Bt(),h=c.TOUCH_PAN;break;default:h=c.NONE}break;case 2:switch(n.touches.TWO){case qf.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Mn(),h=c.TOUCH_DOLLY_PAN;break;case qf.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Pe(),h=c.TOUCH_DOLLY_ROTATE;break;default:h=c.NONE}break;default:h=c.NONE}h!==c.NONE&&n.dispatchEvent(a)}function qt(ne){switch(mt(ne),h){case c.TOUCH_ROTATE:if(n.enableRotate===!1)return;Ve(ne),n.update();break;case c.TOUCH_PAN:if(n.enablePan===!1)return;Le(ne),n.update();break;case c.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;we(ne),n.update();break;case c.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;j(ne),n.update();break;default:h=c.NONE}}function Je(ne){n.enabled!==!1&&ne.preventDefault()}function gt(ne){L.push(ne)}function At(ne){delete G[ne.pointerId];for(let Ce=0;Ce<L.length;Ce++)if(L[Ce].pointerId==ne.pointerId){L.splice(Ce,1);return}}function mt(ne){let Ce=G[ne.pointerId];Ce===void 0&&(Ce=new He,G[ne.pointerId]=Ce),Ce.set(ne.pageX,ne.pageY)}function lt(ne){const Ce=ne.pointerId===L[0].pointerId?L[1]:L[0];return G[Ce.pointerId]}this.dollyIn=(ne=K())=>{oe(ne),n.update()},this.dollyOut=(ne=K())=>{Y(ne),n.update()},this.getScale=()=>A,this.setScale=ne=>{Te(ne),n.update()},this.getZoomScale=()=>K(),t!==void 0&&this.connect(t),this.update()}};function w_(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let t=0,n=i.length;t<n;t++)e+=String.fromCharCode(i[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const sh="srgb",yc="srgb-linear",sB=3001,nj=3e3;class aT extends Qs{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new oj(t)}),this.register(function(t){return new lj(t)}),this.register(function(t){return new yj(t)}),this.register(function(t){return new vj(t)}),this.register(function(t){return new Aj(t)}),this.register(function(t){return new uj(t)}),this.register(function(t){return new fj(t)}),this.register(function(t){return new hj(t)}),this.register(function(t){return new dj(t)}),this.register(function(t){return new rj(t)}),this.register(function(t){return new pj(t)}),this.register(function(t){return new cj(t)}),this.register(function(t){return new gj(t)}),this.register(function(t){return new mj(t)}),this.register(function(t){return new sj(t)}),this.register(function(t){return new _j(t)}),this.register(function(t){return new xj(t)})}load(e,t,n,s){const a=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const p=Cu.extractUrlBase(e);o=Cu.resolveURL(p,this.path)}else o=Cu.extractUrlBase(e);this.manager.itemStart(e);const c=function(p){s?s(p):console.error(p),a.manager.itemError(e),a.manager.itemEnd(e)},h=new sr(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(p){try{a.parse(p,o,function(m){t(m),a.manager.itemEnd(e)},c)}catch(m){c(m)}},n,c)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,s){let a;const o={},c={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(w_(new Uint8Array(e.slice(0,4)))===oN){try{o[yn.KHR_BINARY_GLTF]=new Sj(e)}catch(m){s&&s(m);return}a=JSON.parse(o[yn.KHR_BINARY_GLTF].content)}else a=JSON.parse(w_(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const h=new Uj(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let p=0;p<this.pluginCallbacks.length;p++){const m=this.pluginCallbacks[p](h);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[m.name]=m,o[m.name]=!0}if(a.extensionsUsed)for(let p=0;p<a.extensionsUsed.length;++p){const m=a.extensionsUsed[p],y=a.extensionsRequired||[];switch(m){case yn.KHR_MATERIALS_UNLIT:o[m]=new aj;break;case yn.KHR_DRACO_MESH_COMPRESSION:o[m]=new bj(a,this.dracoLoader);break;case yn.KHR_TEXTURE_TRANSFORM:o[m]=new Mj;break;case yn.KHR_MESH_QUANTIZATION:o[m]=new Ej;break;default:y.indexOf(m)>=0&&c[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}h.setExtensions(o),h.setPlugins(c),h.parse(n,s)}parseAsync(e,t){const n=this;return new Promise(function(s,a){n.parse(e,t,s,a)})}}function ij(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const yn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class sj{constructor(e){this.parser=e,this.name=yn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,s=t.length;n<s;n++){const a=t[n];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let s=t.cache.get(n);if(s)return s;const a=t.json,h=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let p;const m=new ut(16777215);h.color!==void 0&&m.setRGB(h.color[0],h.color[1],h.color[2],yc);const y=h.range!==void 0?h.range:0;switch(h.type){case"directional":p=new qE(m),p.target.position.set(0,0,-1),p.add(p.target);break;case"point":p=new YE(m),p.distance=y;break;case"spot":p=new jE(m),p.distance=y,h.spot=h.spot||{},h.spot.innerConeAngle=h.spot.innerConeAngle!==void 0?h.spot.innerConeAngle:0,h.spot.outerConeAngle=h.spot.outerConeAngle!==void 0?h.spot.outerConeAngle:Math.PI/4,p.angle=h.spot.outerConeAngle,p.penumbra=1-h.spot.innerConeAngle/h.spot.outerConeAngle,p.target.position.set(0,0,-1),p.add(p.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+h.type)}return p.position.set(0,0,0),p.decay=2,oc(p,h),h.intensity!==void 0&&(p.intensity=h.intensity),p.name=t.createUniqueName(h.name||"light_"+e),s=Promise.resolve(p),t.cache.add(n,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,a=n.json.nodes[e],c=(a.extensions&&a.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(h){return n._getNodeRef(t.cache,c,h)})}}class aj{constructor(){this.name=yn.KHR_MATERIALS_UNLIT}getMaterialType(){return er}extendParams(e,t,n){const s=[];e.color=new ut(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const o=a.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],yc),e.opacity=o[3]}a.baseColorTexture!==void 0&&s.push(n.assignTexture(e,"map",a.baseColorTexture,sh))}return Promise.all(s)}}class rj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class oj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&a.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(a.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const c=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new He(c,c)}return Promise.all(a)}}class lj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class cj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&a.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&a.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(a)}}class uj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new ut(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=s.extensions[this.name];if(o.sheenColorFactor!==void 0){const c=o.sheenColorFactor;t.sheenColor.setRGB(c[0],c[1],c[2],yc)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&a.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,sh)),o.sheenRoughnessTexture!==void 0&&a.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class fj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&a.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}class hj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&a.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const c=o.attenuationColor||[1,1,1];return t.attenuationColor=new ut().setRGB(c[0],c[1],c[2],yc),Promise.all(a)}}class dj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class pj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&a.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const c=o.specularColorFactor||[1,1,1];return t.specularColor=new ut().setRGB(c[0],c[1],c[2],yc),o.specularColorTexture!==void 0&&a.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,sh)),Promise.all(a)}}class mj{constructor(e){this.parser=e,this.name=yn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&a.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(a)}}class gj{constructor(e){this.parser=e,this.name=yn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:wr}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&a.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(a)}}class yj{constructor(e){this.parser=e,this.name=yn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,s=n.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const a=s.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,o)}}class vj{constructor(e){this.parser=e,this.name=yn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,s=n.json,a=s.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],c=s.images[o.source];let h=n.textureLoader;if(c.uri){const p=n.options.manager.getHandler(c.uri);p!==null&&(h=p)}return this.detectSupport().then(function(p){if(p)return n.loadTextureImage(e,o.source,h);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Aj{constructor(e){this.parser=e,this.name=yn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,s=n.json,a=s.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],c=s.images[o.source];let h=n.textureLoader;if(c.uri){const p=n.options.manager.getHandler(c.uri);p!==null&&(h=p)}return this.detectSupport().then(function(p){if(p)return n.loadTextureImage(e,o.source,h);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class _j{constructor(e){this.name=yn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const s=n.extensions[this.name],a=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(c){const h=s.byteOffset||0,p=s.byteLength||0,m=s.count,y=s.byteStride,A=new Uint8Array(c,h,p);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(m,y,A,s.mode,s.filter).then(function(_){return _.buffer}):o.ready.then(function(){const _=new ArrayBuffer(m*y);return o.decodeGltfBuffer(new Uint8Array(_),m,y,A,s.mode,s.filter),_})})}else return null}}class xj{constructor(e){this.name=yn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const s=t.meshes[n.mesh];for(const p of s.primitives)if(p.mode!==Er.TRIANGLES&&p.mode!==Er.TRIANGLE_STRIP&&p.mode!==Er.TRIANGLE_FAN&&p.mode!==void 0)return null;const o=n.extensions[this.name].attributes,c=[],h={};for(const p in o)c.push(this.parser.getDependency("accessor",o[p]).then(m=>(h[p]=m,h[p])));return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(p=>{const m=p.pop(),y=m.isGroup?m.children:[m],A=p[0].count,_=[];for(const S of y){const T=new Nt,E=new q,b=new vs,w=new q(1,1,1),B=new RE(S.geometry,S.material,A);for(let D=0;D<A;D++)h.TRANSLATION&&E.fromBufferAttribute(h.TRANSLATION,D),h.ROTATION&&b.fromBufferAttribute(h.ROTATION,D),h.SCALE&&w.fromBufferAttribute(h.SCALE,D),B.setMatrixAt(D,T.compose(E,b,w));for(const D in h)if(D==="_COLOR_0"){const U=h[D];B.instanceColor=new dh(U.array,U.itemSize,U.normalized)}else D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&S.geometry.setAttribute(D,h[D]);vn.prototype.copy.call(B,S),this.parser.assignFinalMaterial(B),_.push(B)}return m.isGroup?(m.clear(),m.add(..._),m):_[0]}))}}const oN="glTF",lg=12,aB={JSON:1313821514,BIN:5130562};class Sj{constructor(e){this.name=yn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,lg);if(this.header={magic:w_(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==oN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-lg,s=new DataView(e,lg);let a=0;for(;a<n;){const o=s.getUint32(a,!0);a+=4;const c=s.getUint32(a,!0);if(a+=4,c===aB.JSON){const h=new Uint8Array(e,lg+a,o);this.content=w_(h)}else if(c===aB.BIN){const h=lg+a;this.body=e.slice(h,h+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class bj{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=yn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,s=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,c={},h={},p={};for(const m in o){const y=Kb[m]||m.toLowerCase();c[y]=o[m]}for(const m in e.attributes){const y=Kb[m]||m.toLowerCase();if(o[m]!==void 0){const A=n.accessors[e.attributes[m]],_=np[A.componentType];p[y]=_.name,h[y]=A.normalized===!0}}return t.getDependency("bufferView",a).then(function(m){return new Promise(function(y,A){s.decodeDracoFile(m,function(_){for(const S in _.attributes){const T=_.attributes[S],E=h[S];E!==void 0&&(T.normalized=E)}y(_)},c,p,yc,A)})})}}class Mj{constructor(){this.name=yn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Ej{constructor(){this.name=yn.KHR_MESH_QUANTIZATION}}class lN extends Rp{constructor(e,t,n,s){super(e,t,n,s)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,s=this.valueSize,a=e*s*3+s;for(let o=0;o!==s;o++)t[o]=n[a+o];return t}interpolate_(e,t,n,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=c*2,p=c*3,m=s-t,y=(n-t)/m,A=y*y,_=A*y,S=e*p,T=S-p,E=-2*_+3*A,b=_-A,w=1-E,B=b-A+y;for(let D=0;D!==c;D++){const U=o[T+D+c],P=o[T+D+h]*m,F=o[S+D+c],H=o[S+D]*m;a[D]=w*U+B*P+E*F+b*H}return a}}const Tj=new vs;class Cj extends lN{interpolate_(e,t,n,s){const a=super.interpolate_(e,t,n,s);return Tj.fromArray(a).normalize().toArray(a),a}}const Er={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},np={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},rB={9728:ys,9729:Gi,9984:K_,9985:ep,9986:$f,9987:Tr},oB={33071:$a,33648:lp,10497:Bu},q1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Kb={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...qX>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Au={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Rj={CUBICSPLINE:void 0,LINEAR:pp,STEP:dp},W1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function wj(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new _y({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Sl})),i.DefaultMaterial}function Xf(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function oc(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Bj(i,e,t){let n=!1,s=!1,a=!1;for(let p=0,m=e.length;p<m;p++){const y=e[p];if(y.POSITION!==void 0&&(n=!0),y.NORMAL!==void 0&&(s=!0),y.COLOR_0!==void 0&&(a=!0),n&&s&&a)break}if(!n&&!s&&!a)return Promise.resolve(i);const o=[],c=[],h=[];for(let p=0,m=e.length;p<m;p++){const y=e[p];if(n){const A=y.POSITION!==void 0?t.getDependency("accessor",y.POSITION):i.attributes.position;o.push(A)}if(s){const A=y.NORMAL!==void 0?t.getDependency("accessor",y.NORMAL):i.attributes.normal;c.push(A)}if(a){const A=y.COLOR_0!==void 0?t.getDependency("accessor",y.COLOR_0):i.attributes.color;h.push(A)}}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(h)]).then(function(p){const m=p[0],y=p[1],A=p[2];return n&&(i.morphAttributes.position=m),s&&(i.morphAttributes.normal=y),a&&(i.morphAttributes.color=A),i.morphTargetsRelative=!0,i})}function Dj(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,s=t.length;n<s;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Oj(i){let e;const t=i.extensions&&i.extensions[yn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+K1(t.attributes):e=i.indices+":"+K1(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,s=i.targets.length;n<s;n++)e+=":"+K1(i.targets[n]);return e}function K1(i){let e="";const t=Object.keys(i).sort();for(let n=0,s=t.length;n<s;n++)e+=t[n]+":"+i[t[n]]+";";return e}function Jb(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Lj(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Nj=new Nt;class Uj{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new ij,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,s=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,a=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||s&&a<98?this.textureLoader=new yL(this.options.manager):this.textureLoader=new EL(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new sr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,s=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const c={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:n,userData:{}};return Xf(a,c,s),oc(c,s),Promise.all(n._invokeAll(function(h){return h.afterRoot&&h.afterRoot(c)})).then(function(){for(const h of c.scenes)h.updateMatrixWorld();e(c)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let s=0,a=t.length;s<a;s++){const o=t[s].joints;for(let c=0,h=o.length;c<h;c++)e[o[c]].isBone=!0}for(let s=0,a=e.length;s<a;s++){const o=e[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const s=n.clone(),a=(o,c)=>{const h=this.associations.get(o);h!=null&&this.associations.set(c,h);for(const[p,m]of o.children.entries())a(m,c.children[p])};return a(n,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const s=e(t[n]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let s=0;s<t.length;s++){const a=e(t[s]);a&&n.push(a)}return n}getDependency(e,t){const n=e+":"+t;let s=this.cache.get(n);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":s=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(n,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(a,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[yn.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(a,o){n.load(Cu.resolveURL(t.uri,s.path),a,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const s=t.byteLength||0,a=t.byteOffset||0;return n.slice(a,a+s)})}loadAccessor(e){const t=this,n=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const o=q1[s.type],c=np[s.componentType],h=s.normalized===!0,p=new c(s.count*o);return Promise.resolve(new Bn(p,o,h))}const a=[];return s.bufferView!==void 0?a.push(this.getDependency("bufferView",s.bufferView)):a.push(null),s.sparse!==void 0&&(a.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(a).then(function(o){const c=o[0],h=q1[s.type],p=np[s.componentType],m=p.BYTES_PER_ELEMENT,y=m*h,A=s.byteOffset||0,_=s.bufferView!==void 0?n.bufferViews[s.bufferView].byteStride:void 0,S=s.normalized===!0;let T,E;if(_&&_!==y){const b=Math.floor(A/_),w="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+b+":"+s.count;let B=t.cache.get(w);B||(T=new p(c,b*_,s.count*_/m),B=new py(T,_/m),t.cache.add(w,B)),E=new Ou(B,h,A%_/m,S)}else c===null?T=new p(s.count*h):T=new p(c,A,s.count*h),E=new Bn(T,h,S);if(s.sparse!==void 0){const b=q1.SCALAR,w=np[s.sparse.indices.componentType],B=s.sparse.indices.byteOffset||0,D=s.sparse.values.byteOffset||0,U=new w(o[1],B,s.sparse.count*b),P=new p(o[2],D,s.sparse.count*h);c!==null&&(E=new Bn(E.array.slice(),E.itemSize,E.normalized));for(let F=0,H=U.length;F<H;F++){const N=U[F];if(E.setX(N,P[F*h]),h>=2&&E.setY(N,P[F*h+1]),h>=3&&E.setZ(N,P[F*h+2]),h>=4&&E.setW(N,P[F*h+3]),h>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(e){const t=this.json,n=this.options,a=t.textures[e].source,o=t.images[a];let c=this.textureLoader;if(o.uri){const h=n.manager.getHandler(o.uri);h!==null&&(c=h)}return this.loadTextureImage(e,a,c)}loadTextureImage(e,t,n){const s=this,a=this.json,o=a.textures[e],c=a.images[t],h=(c.uri||c.bufferView)+":"+o.sampler;if(this.textureCache[h])return this.textureCache[h];const p=this.loadImageSource(t,n).then(function(m){m.flipY=!1,m.name=o.name||c.name||"",m.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(m.name=c.uri);const A=(a.samplers||{})[o.sampler]||{};return m.magFilter=rB[A.magFilter]||Gi,m.minFilter=rB[A.minFilter]||Tr,m.wrapS=oB[A.wrapS]||Bu,m.wrapT=oB[A.wrapT]||Bu,s.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[h]=p,p}loadImageSource(e,t){const n=this,s=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(y=>y.clone());const o=s.images[e],c=self.URL||self.webkitURL;let h=o.uri||"",p=!1;if(o.bufferView!==void 0)h=n.getDependency("bufferView",o.bufferView).then(function(y){p=!0;const A=new Blob([y],{type:o.mimeType});return h=c.createObjectURL(A),h});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(h).then(function(y){return new Promise(function(A,_){let S=A;t.isImageBitmapLoader===!0&&(S=function(T){const E=new ui(T);E.needsUpdate=!0,A(E)}),t.load(Cu.resolveURL(y,a.path),S,void 0,_)})}).then(function(y){return p===!0&&c.revokeObjectURL(h),oc(y,o),y.userData.mimeType=o.mimeType||Lj(o.uri),y}).catch(function(y){throw console.error("THREE.GLTFLoader: Couldn't load texture",h),y});return this.sourceCache[e]=m,m}assignTexture(e,t,n,s){const a=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),a.extensions[yn.KHR_TEXTURE_TRANSFORM]){const c=n.extensions!==void 0?n.extensions[yn.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const h=a.associations.get(o);o=a.extensions[yn.KHR_TEXTURE_TRANSFORM].extendTexture(o,c),a.associations.set(o,h)}}return s!==void 0&&(typeof s=="number"&&(s=s===sB?sh:yc),"colorSpace"in o?o.colorSpace=s:o.encoding=s===sh?sB:nj),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const s=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const c="PointsMaterial:"+n.uuid;let h=this.cache.get(c);h||(h=new cx,es.prototype.copy.call(h,n),h.color.copy(n.color),h.map=n.map,h.sizeAttenuation=!1,this.cache.add(c,h)),n=h}else if(e.isLine){const c="LineBasicMaterial:"+n.uuid;let h=this.cache.get(c);h||(h=new Zs,es.prototype.copy.call(h,n),h.color.copy(n.color),h.map=n.map,this.cache.add(c,h)),n=h}if(s||a||o){let c="ClonedMaterial:"+n.uuid+":";s&&(c+="derivative-tangents:"),a&&(c+="vertex-colors:"),o&&(c+="flat-shading:");let h=this.cache.get(c);h||(h=n.clone(),a&&(h.vertexColors=!0),o&&(h.flatShading=!0),s&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(c,h),this.associations.set(h,this.associations.get(n))),n=h}e.material=n}getMaterialType(){return _y}loadMaterial(e){const t=this,n=this.json,s=this.extensions,a=n.materials[e];let o;const c={},h=a.extensions||{},p=[];if(h[yn.KHR_MATERIALS_UNLIT]){const y=s[yn.KHR_MATERIALS_UNLIT];o=y.getMaterialType(),p.push(y.extendParams(c,a,t))}else{const y=a.pbrMetallicRoughness||{};if(c.color=new ut(1,1,1),c.opacity=1,Array.isArray(y.baseColorFactor)){const A=y.baseColorFactor;c.color.setRGB(A[0],A[1],A[2],yc),c.opacity=A[3]}y.baseColorTexture!==void 0&&p.push(t.assignTexture(c,"map",y.baseColorTexture,sh)),c.metalness=y.metallicFactor!==void 0?y.metallicFactor:1,c.roughness=y.roughnessFactor!==void 0?y.roughnessFactor:1,y.metallicRoughnessTexture!==void 0&&(p.push(t.assignTexture(c,"metalnessMap",y.metallicRoughnessTexture)),p.push(t.assignTexture(c,"roughnessMap",y.metallicRoughnessTexture))),o=this._invokeOne(function(A){return A.getMaterialType&&A.getMaterialType(e)}),p.push(Promise.all(this._invokeAll(function(A){return A.extendMaterialParams&&A.extendMaterialParams(e,c)})))}a.doubleSided===!0&&(c.side=yo);const m=a.alphaMode||W1.OPAQUE;if(m===W1.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,m===W1.MASK&&(c.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&o!==er&&(p.push(t.assignTexture(c,"normalMap",a.normalTexture)),c.normalScale=new He(1,1),a.normalTexture.scale!==void 0)){const y=a.normalTexture.scale;c.normalScale.set(y,y)}if(a.occlusionTexture!==void 0&&o!==er&&(p.push(t.assignTexture(c,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&o!==er){const y=a.emissiveFactor;c.emissive=new ut().setRGB(y[0],y[1],y[2],yc)}return a.emissiveTexture!==void 0&&o!==er&&p.push(t.assignTexture(c,"emissiveMap",a.emissiveTexture,sh)),Promise.all(p).then(function(){const y=new o(c);return a.name&&(y.name=a.name),oc(y,a),t.associations.set(y,{materials:e}),a.extensions&&Xf(s,y,a),y})}createUniqueName(e){const t=Cn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,s=this.primitiveCache;function a(c){return n[yn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,t).then(function(h){return lB(h,c,t)})}const o=[];for(let c=0,h=e.length;c<h;c++){const p=e[c],m=Oj(p),y=s[m];if(y)o.push(y.promise);else{let A;p.extensions&&p.extensions[yn.KHR_DRACO_MESH_COMPRESSION]?A=a(p):A=lB(new Jt,p,t),s[m]={primitive:p,promise:A},o.push(A)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,s=this.extensions,a=n.meshes[e],o=a.primitives,c=[];for(let h=0,p=o.length;h<p;h++){const m=o[h].material===void 0?wj(this.cache):this.getDependency("material",o[h].material);c.push(m)}return c.push(t.loadGeometries(o)),Promise.all(c).then(function(h){const p=h.slice(0,h.length-1),m=h[h.length-1],y=[];for(let _=0,S=m.length;_<S;_++){const T=m[_],E=o[_];let b;const w=p[_];if(E.mode===Er.TRIANGLES||E.mode===Er.TRIANGLE_STRIP||E.mode===Er.TRIANGLE_FAN||E.mode===void 0)b=a.isSkinnedMesh===!0?new CE(T,w):new Vi(T,w),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),E.mode===Er.TRIANGLE_STRIP?b.geometry=tB(b.geometry,_E):E.mode===Er.TRIANGLE_FAN&&(b.geometry=tB(b.geometry,x_));else if(E.mode===Er.LINES)b=new So(T,w);else if(E.mode===Er.LINE_STRIP)b=new _c(T,w);else if(E.mode===Er.LINE_LOOP)b=new wE(T,w);else if(E.mode===Er.POINTS)b=new BE(T,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(b.geometry.morphAttributes).length>0&&Dj(b,a),b.name=t.createUniqueName(a.name||"mesh_"+e),oc(b,a),E.extensions&&Xf(s,b,E),t.assignFinalMaterial(b),y.push(b)}for(let _=0,S=y.length;_<S;_++)t.associations.set(y[_],{meshes:e,primitives:_});if(y.length===1)return a.extensions&&Xf(s,y[0],a),y[0];const A=new hc;a.extensions&&Xf(s,A,a),t.associations.set(A,{meshes:e});for(let _=0,S=y.length;_<S;_++)A.add(y[_]);return A})}loadCamera(e){let t;const n=this.json.cameras[e],s=n[n.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Ni(OO.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):n.type==="orthographic"&&(t=new gc(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),oc(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let s=0,a=t.joints.length;s<a;s++)n.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(s){const a=s.pop(),o=s,c=[],h=[];for(let p=0,m=o.length;p<m;p++){const y=o[p];if(y){c.push(y);const A=new Nt;a!==null&&A.fromArray(a.array,p*16),h.push(A)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[p])}return new my(c,h)})}loadAnimation(e){const t=this.json,n=this,s=t.animations[e],a=s.name?s.name:"animation_"+e,o=[],c=[],h=[],p=[],m=[];for(let y=0,A=s.channels.length;y<A;y++){const _=s.channels[y],S=s.samplers[_.sampler],T=_.target,E=T.node,b=s.parameters!==void 0?s.parameters[S.input]:S.input,w=s.parameters!==void 0?s.parameters[S.output]:S.output;T.node!==void 0&&(o.push(this.getDependency("node",E)),c.push(this.getDependency("accessor",b)),h.push(this.getDependency("accessor",w)),p.push(S),m.push(T))}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(h),Promise.all(p),Promise.all(m)]).then(function(y){const A=y[0],_=y[1],S=y[2],T=y[3],E=y[4],b=[];for(let w=0,B=A.length;w<B;w++){const D=A[w],U=_[w],P=S[w],F=T[w],H=E[w];if(D===void 0)continue;D.updateMatrix&&D.updateMatrix();const N=n._createAnimationTracks(D,U,P,F,H);if(N)for(let L=0;L<N.length;L++)b.push(N[L])}return new Ap(a,void 0,b)})}createNodeMesh(e){const t=this.json,n=this,s=t.nodes[e];return s.mesh===void 0?null:n.getDependency("mesh",s.mesh).then(function(a){const o=n._getNodeRef(n.meshCache,s.mesh,a);return s.weights!==void 0&&o.traverse(function(c){if(c.isMesh)for(let h=0,p=s.weights.length;h<p;h++)c.morphTargetInfluences[h]=s.weights[h]}),o})}loadNode(e){const t=this.json,n=this,s=t.nodes[e],a=n._loadNodeShallow(e),o=[],c=s.children||[];for(let p=0,m=c.length;p<m;p++)o.push(n.getDependency("node",c[p]));const h=s.skin===void 0?Promise.resolve(null):n.getDependency("skin",s.skin);return Promise.all([a,Promise.all(o),h]).then(function(p){const m=p[0],y=p[1],A=p[2];A!==null&&m.traverse(function(_){_.isSkinnedMesh&&_.bind(A,Nj)});for(let _=0,S=y.length;_<S;_++)m.add(y[_]);return m})}_loadNodeShallow(e){const t=this.json,n=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],o=a.name?s.createUniqueName(a.name):"",c=[],h=s._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(e)});return h&&c.push(h),a.camera!==void 0&&c.push(s.getDependency("camera",a.camera).then(function(p){return s._getNodeRef(s.cameraCache,a.camera,p)})),s._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(e)}).forEach(function(p){c.push(p)}),this.nodeCache[e]=Promise.all(c).then(function(p){let m;if(a.isBone===!0?m=new lx:p.length>1?m=new hc:p.length===1?m=p[0]:m=new vn,m!==p[0])for(let y=0,A=p.length;y<A;y++)m.add(p[y]);if(a.name&&(m.userData.name=a.name,m.name=o),oc(m,a),a.extensions&&Xf(n,m,a),a.matrix!==void 0){const y=new Nt;y.fromArray(a.matrix),m.applyMatrix4(y)}else a.translation!==void 0&&m.position.fromArray(a.translation),a.rotation!==void 0&&m.quaternion.fromArray(a.rotation),a.scale!==void 0&&m.scale.fromArray(a.scale);return s.associations.has(m)||s.associations.set(m,{}),s.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],s=this,a=new hc;n.name&&(a.name=s.createUniqueName(n.name)),oc(a,n),n.extensions&&Xf(t,a,n);const o=n.nodes||[],c=[];for(let h=0,p=o.length;h<p;h++)c.push(s.getDependency("node",o[h]));return Promise.all(c).then(function(h){for(let m=0,y=h.length;m<y;m++)a.add(h[m]);const p=m=>{const y=new Map;for(const[A,_]of s.associations)(A instanceof es||A instanceof ui)&&y.set(A,_);return m.traverse(A=>{const _=s.associations.get(A);_!=null&&y.set(A,_)}),y};return s.associations=p(a),a})}_createAnimationTracks(e,t,n,s,a){const o=[],c=e.name?e.name:e.uuid,h=[];Au[a.path]===Au.weights?e.traverse(function(A){A.morphTargetInfluences&&h.push(A.name?A.name:A.uuid)}):h.push(c);let p;switch(Au[a.path]){case Au.weights:p=mh;break;case Au.rotation:p=gh;break;case Au.position:case Au.scale:p=yh;break;default:switch(n.itemSize){case 1:p=mh;break;case 2:case 3:default:p=yh;break}break}const m=s.interpolation!==void 0?Rj[s.interpolation]:pp,y=this._getArrayFromAccessor(n);for(let A=0,_=h.length;A<_;A++){const S=new p(h[A]+"."+Au[a.path],t.array,y,m);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(S),o.push(S)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=Jb(t.constructor),s=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a++)s[a]=t[a]*n;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const s=this instanceof gh?Cj:lN;return new s(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Pj(i,e,t){const n=e.attributes,s=new Ks;if(n.POSITION!==void 0){const c=t.json.accessors[n.POSITION],h=c.min,p=c.max;if(h!==void 0&&p!==void 0){if(s.set(new q(h[0],h[1],h[2]),new q(p[0],p[1],p[2])),c.normalized){const m=Jb(np[c.componentType]);s.min.multiplyScalar(m),s.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const c=new q,h=new q;for(let p=0,m=a.length;p<m;p++){const y=a[p];if(y.POSITION!==void 0){const A=t.json.accessors[y.POSITION],_=A.min,S=A.max;if(_!==void 0&&S!==void 0){if(h.setX(Math.max(Math.abs(_[0]),Math.abs(S[0]))),h.setY(Math.max(Math.abs(_[1]),Math.abs(S[1]))),h.setZ(Math.max(Math.abs(_[2]),Math.abs(S[2]))),A.normalized){const T=Jb(np[A.componentType]);h.multiplyScalar(T)}c.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(c)}i.boundingBox=s;const o=new Bs;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,i.boundingSphere=o}function lB(i,e,t){const n=e.attributes,s=[];function a(o,c){return t.getDependency("accessor",o).then(function(h){i.setAttribute(c,h)})}for(const o in n){const c=Kb[o]||o.toLowerCase();c in i.attributes||s.push(a(n[o],c))}if(e.indices!==void 0&&!i.index){const o=t.getDependency("accessor",e.indices).then(function(c){i.setIndex(c)});s.push(o)}return oc(i,e),Pj(i,e,t),Promise.all(s).then(function(){return e.targets!==void 0?Bj(i,e.targets,t):i})}const J1=new WeakMap;class Ij extends Qs{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,s){const a=new sr(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,o=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,c).then(t).catch(s)},n,s)}decodeDracoFile(e,t,n,s){const a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const h in t.attributeTypes){const p=t.attributeTypes[h];p.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[h]=p.name)}const n=JSON.stringify(t);if(J1.has(e)){const h=J1.get(e);if(h.key===n)return h.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const a=this.workerNextTaskID++,o=e.byteLength,c=this._getWorker(a,o).then(h=>(s=h,new Promise((p,m)=>{s._callbacks[a]={resolve:p,reject:m},s.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(h=>this._createGeometry(h.geometry));return c.catch(()=>!0).then(()=>{s&&a&&this._releaseTask(s,a)}),J1.set(e,{key:n,promise:c}),c}_createGeometry(e){const t=new Jt;e.index&&t.setIndex(new Bn(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const s=e.attributes[n],a=s.name,o=s.array,c=s.itemSize;t.setAttribute(a,new Bn(o,c))}return t}_loadLibrary(e,t){const n=new sr(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((s,a)=>{n.load(e,s,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const s=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const a=Fj.toString(),o=["/* draco decoder */",s,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(a){const o=a.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,a){return s._taskLoad>a._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Fj(){let i,e;onmessage=function(o){const c=o.data;switch(c.type){case"init":i=c.decoderConfig,e=new Promise(function(m){i.onModuleLoaded=function(y){m({draco:y})},DracoDecoderModule(i)});break;case"decode":const h=c.buffer,p=c.taskConfig;e.then(m=>{const y=m.draco,A=new y.Decoder,_=new y.DecoderBuffer;_.Init(new Int8Array(h),h.byteLength);try{const S=t(y,A,_,p),T=S.attributes.map(E=>E.array.buffer);S.index&&T.push(S.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:S},T)}catch(S){console.error(S),self.postMessage({type:"error",id:c.id,error:S.message})}finally{y.destroy(_),y.destroy(A)}});break}};function t(o,c,h,p){const m=p.attributeIDs,y=p.attributeTypes;let A,_;const S=c.GetEncodedGeometryType(h);if(S===o.TRIANGULAR_MESH)A=new o.Mesh,_=c.DecodeBufferToMesh(h,A);else if(S===o.POINT_CLOUD)A=new o.PointCloud,_=c.DecodeBufferToPointCloud(h,A);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!_.ok()||A.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+_.error_msg());const T={index:null,attributes:[]};for(const E in m){const b=self[y[E]];let w,B;if(p.useUniqueIDs)B=m[E],w=c.GetAttributeByUniqueId(A,B);else{if(B=c.GetAttributeId(A,o[m[E]]),B===-1)continue;w=c.GetAttribute(A,B)}T.attributes.push(s(o,c,A,E,b,w))}return S===o.TRIANGULAR_MESH&&(T.index=n(o,c,A)),o.destroy(A),T}function n(o,c,h){const m=h.num_faces()*3,y=m*4,A=o._malloc(y);c.GetTrianglesUInt32Array(h,y,A);const _=new Uint32Array(o.HEAPF32.buffer,A,m).slice();return o._free(A),{array:_,itemSize:1}}function s(o,c,h,p,m,y){const A=y.num_components(),S=h.num_points()*A,T=S*m.BYTES_PER_ELEMENT,E=a(o,m),b=o._malloc(T);c.GetAttributeDataArrayForAllPoints(h,y,E,T,b);const w=new m(o.HEAPF32.buffer,b,S).slice();return o._free(b),{name:p,array:w,itemSize:A}}function a(o,c){switch(c){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let dA;const Z1=()=>{if(dA)return dA;const i="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=i;WebAssembly.validate(t)&&(s=e);let a;const o=WebAssembly.instantiate(c(s),{}).then(y=>{a=y.instance,a.exports.__wasm_call_ctors()});function c(y){const A=new Uint8Array(y.length);for(let S=0;S<y.length;++S){const T=y.charCodeAt(S);A[S]=T>96?T-71:T>64?T-65:T>47?T+4:T>46?63:62}let _=0;for(let S=0;S<y.length;++S)A[_++]=A[S]<60?n[A[S]]:(A[S]-60)*64+A[++S];return A.buffer.slice(0,_)}function h(y,A,_,S,T,E){const b=a.exports.sbrk,w=_+3&-4,B=b(w*S),D=b(T.length),U=new Uint8Array(a.exports.memory.buffer);U.set(T,D);const P=y(B,_,S,D,T.length);if(P===0&&E&&E(B,w,S),A.set(U.subarray(B,B+_*S)),b(B-b(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const p={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return dA={ready:o,supported:!0,decodeVertexBuffer(y,A,_,S,T){h(a.exports.meshopt_decodeVertexBuffer,y,A,_,S,a.exports[p[T]])},decodeIndexBuffer(y,A,_,S){h(a.exports.meshopt_decodeIndexBuffer,y,A,_,S)},decodeIndexSequence(y,A,_,S){h(a.exports.meshopt_decodeIndexSequence,y,A,_,S)},decodeGltfBuffer(y,A,_,S,T,E){h(a.exports[m[T]],y,A,_,S,a.exports[p[E]])}},dA};let pA=null,cN="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function uN(i=!0,e=!0,t){return n=>{t&&t(n),i&&(pA||(pA=new Ij),pA.setDecoderPath(typeof i=="string"?i:cN),n.setDRACOLoader(pA)),e&&n.setMeshoptDecoder(typeof Z1=="function"?Z1():Z1)}}const Cx=(i,e,t,n)=>Sy(aT,i,uN(e,t,n));Cx.preload=(i,e,t,n)=>Sy.preload(aT,i,uN(e,t,n));Cx.clear=i=>Sy.clear(aT,i);Cx.setDecoderPath=i=>{cN=i};const zj=Me.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:s=!0,keyEvents:a=!1,onChange:o,onStart:c,onEnd:h,...p},m)=>{const y=vu(P=>P.invalidate),A=vu(P=>P.camera),_=vu(P=>P.gl),S=vu(P=>P.events),T=vu(P=>P.setEvents),E=vu(P=>P.set),b=vu(P=>P.get),w=vu(P=>P.performance),B=e||A,D=n||S.connected||_.domElement,U=Me.useMemo(()=>new tj(B),[B]);return iT(()=>{U.enabled&&U.update()},-1),Me.useEffect(()=>(a&&U.connect(a===!0?D:a),U.connect(D),()=>void U.dispose()),[a,D,t,U,y]),Me.useEffect(()=>{const P=N=>{y(),t&&w.regress(),o&&o(N)},F=N=>{c&&c(N)},H=N=>{h&&h(N)};return U.addEventListener("change",P),U.addEventListener("start",F),U.addEventListener("end",H),()=>{U.removeEventListener("start",F),U.removeEventListener("end",H),U.removeEventListener("change",P)}},[o,c,h,U,y,T]),Me.useEffect(()=>{if(i){const P=b().controls;return E({controls:U}),()=>E({controls:P})}},[i,U]),Me.createElement("primitive",Wb({ref:m,object:U,enableDamping:s},p))});function Hj(i,e){const t=Me.useRef(null),[n]=Me.useState(()=>e?e instanceof vn?{current:e}:e:t),[s]=Me.useState(()=>new BL(void 0));Me.useLayoutEffect(()=>{e&&(n.current=e instanceof vn?e:e.current),s._root=n.current});const a=Me.useRef({}),o=Me.useMemo(()=>{const c={};return i.forEach(h=>Object.defineProperty(c,h.name,{enumerable:!0,get(){if(n.current)return a.current[h.name]||(a.current[h.name]=s.clipAction(h,n.current))},configurable:!0})),{ref:n,clips:i,actions:c,names:i.map(h=>h.name),mixer:s}},[i]);return iT((c,h)=>s.update(h)),Me.useEffect(()=>{const c=n.current;return()=>{a.current={},s.stopAllAction(),Object.values(o.actions).forEach(h=>{c&&s.uncacheAction(h,c)})}},[i]),o}const Gj="/assets/profile-CgeF1YXr.png",Vj=()=>le.jsx("div",{className:"curvy-lines",children:Array.from({length:5}).map((i,e)=>le.jsx("div",{className:"line"},e))}),rT=()=>{const i=Array.from({length:100}).map((e,t)=>({id:t,left:Math.random()*100+"vw",top:Math.random()*100+"vh",animationDuration:Math.random()*3+2+"s"}));return le.jsx(le.Fragment,{children:i.map(e=>le.jsx("div",{className:"star",style:{position:"absolute",left:e.left,top:e.top,animationDuration:e.animationDuration,animationName:"moveTowards"}},e.id))})},kj=()=>le.jsxs("div",{className:"card magic-cursor",style:{width:"300px",height:"auto",background:"#1e293b",borderRadius:"1rem",padding:"1.5rem",color:"white",boxShadow:"0 0 30px rgba(0,255,255,0.2)",position:"relative",overflow:"hidden"},children:[le.jsx("img",{src:Gj,alt:"Nazreen",style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"20px",transition:"transform 0.3s ease, box-shadow 0.3s ease",boxShadow:"0 0 20px rgba(0, 255, 255, 0.5)"},className:"profile-image"}),le.jsx("h3",{style:{marginTop:"1rem"},children:"Nazreen V N"}),le.jsx("p",{children:"Software Developer"}),le.jsx("div",{className:"stars-container",children:le.jsx(rT,{})})]});function Xj({hover:i}){const e=Me.useRef(),{scene:t,animations:n}=Cx("/models/avatar.glb"),{actions:s}=Hj(n,e);return Me.useEffect(()=>{var a,o,c,h;i?((a=s.WaveAnimation)==null||a.play(),(o=s.SmileAnimation)==null||o.play()):((c=s.WaveAnimation)==null||c.stop(),(h=s.SmileAnimation)==null||h.stop())},[i,s]),iT(()=>{i&&e.current&&(e.current.rotation.y+=.01)}),le.jsx("group",{ref:e,children:le.jsx("primitive",{object:t,scale:3.5,position:[0,-3.5,0]})})}const jj=()=>{const[i,e]=Me.useState(!1);return le.jsxs("div",{className:"card magic-cursor",onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),style:{height:"400px",width:"400px",borderRadius:"20px",overflow:"hidden",backgroundColor:"#0f172a",boxShadow:"0 0 30px rgba(0,255,255,0.1)"},children:[le.jsxs(YX,{children:[le.jsx("ambientLight",{intensity:.7}),le.jsx("directionalLight",{position:[2,2,5],intensity:1}),le.jsx(Me.Suspense,{fallback:null,children:le.jsx(Xj,{hover:i})}),le.jsx(zj,{enableZoom:!1})]}),le.jsx("div",{className:"stars-container",children:le.jsx(rT,{})})]})},Yj=()=>le.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"2rem",padding:"2rem",flexWrap:"wrap",backgroundColor:"#020617",minHeight:"100vh",position:"relative",overflow:"hidden"},children:[le.jsx(rT,{}),le.jsx(Vj,{}),le.jsx(kj,{}),le.jsx(jj,{})]}),qj=({text:i,speed:e=150})=>{const[t,n]=Me.useState(""),[s,a]=Me.useState(!1),[o,c]=Me.useState(0);return Me.useEffect(()=>{const p=setTimeout(()=>{const m=i[o];s?(n(m.substring(0,t.length-1)),t.length===0&&(a(!1),c(y=>(y+1)%i.length))):(n(m.substring(0,t.length+1)),t.length===m.length&&a(!0))},e);return()=>clearTimeout(p)},[t,s,o,i,e]),le.jsx("span",{style:{borderBottom:"2px solid #00ffff",display:"inline-block"},children:t})};function Wj(){return le.jsxs("div",{className:"hero-section",style:{background:"linear-gradient(to bottom right, #0f2027, #203a43, #2c5364)",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"white",padding:"2rem",position:"relative",overflow:"hidden"},id:"Home",children:[le.jsxs("div",{className:"floating-shapes",children:[le.jsx("div",{className:"shape cube"}),le.jsx("div",{className:"shape sphere"}),le.jsx("div",{className:"shape pyramid"})]}),le.jsxs("div",{className:"container",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"4rem",maxWidth:"1200px",zIndex:1},children:[le.jsxs(Hi.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},transition:{duration:1},style:{flex:1},children:[le.jsx(Hi.h1,{style:{fontSize:"3rem",fontWeight:"bold"},initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},children:"Hi, I'm Nazreen"}),le.jsx(Hi.h2,{style:{fontSize:"1.5rem",marginBottom:"1rem"},initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},children:le.jsx(qj,{text:["Software Developer","Problem Solver","Innovator"]})}),le.jsxs(Hi.div,{className:"description",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:1},children:[le.jsx("div",{className:"blob"})," ","Hi there, I'm a dedicated ",le.jsx("span",{className:"highlight",children:"Python Developer"})," and Software Engineer based in Kochi. I specialize in building efficient backends, seamless APIs, and modern web applications. I’m passionate about crafting ",le.jsx("span",{className:"highlight",children:"clean, maintainable code"})," and delivering meaningful user experiences."]}),le.jsx(xu.Link,{to:"Contact",smooth:!0,duration:500,children:le.jsx(Hi.button,{className:"glowing-btn",initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:1},whileHover:{scale:1.1,boxShadow:"0 0 20px #00ffff"},children:"Let's Connect"})})]}),le.jsx(Hi.div,{className:"avatar-container",initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:1},style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:le.jsx(Yj,{})})]})]})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jj=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),cB=i=>{const e=Jj(i);return e.charAt(0).toUpperCase()+e.slice(1)},fN=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Me.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...c},h)=>Me.createElement("svg",{ref:h,...Zj,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:fN("lucide",s),...c},[...o.map(([p,m])=>Me.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=(i,e)=>{const t=Me.forwardRef(({className:n,...s},a)=>Me.createElement(Qj,{ref:a,iconNode:e,className:fN(`lucide-${Kj(cB(i))}`,`lucide-${i}`,n),...s}));return t.displayName=cB(i),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],eY=Rx("code-xml",$j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nY=Rx("database",tY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],sY=Rx("pen-tool",iY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],rY=Rx("server",aY),uB=[{icon:le.jsx(rY,{size:40}),title:"Backend Development",description:"Designing scalable backend systems using Python, Django, and RESTful APIs."},{icon:le.jsx(eY,{size:40}),title:"Frontend Integration",description:"Creating smooth, interactive UIs with React and integrating them with robust APIs."},{icon:le.jsx(nY,{size:40}),title:"Database Design",description:"Structuring efficient databases using PostgreSQL, MySQL, and SQLite."},{icon:le.jsx(sY,{size:40}),title:"SEO & Performance",description:"Optimizing web apps for speed, search engine visibility, and user engagement."}],oY=()=>{const{scrollY:i}=bz(),e=$2(nR(i,[0,500],[0,150]),{stiffness:80,damping:20}),t=$2(nR(i,[0,500],[0,-150]),{stiffness:80,damping:20}),[n,s]=Me.useState([]),[a,o]=Me.useState({x:0,y:0}),c=h=>{o({x:h.clientX,y:h.clientY});const p=Array.from({length:15}).map((m,y)=>({id:y,left:h.clientX+(Math.random()*30-15)+"px",top:h.clientY+(Math.random()*30-15)+"px",opacity:Math.random(),size:Math.random()*5+5+"px"}));s(p)};return Me.useEffect(()=>(window.addEventListener("mousemove",c),()=>{window.removeEventListener("mousemove",c)}),[]),le.jsxs("div",{style:{background:"linear-gradient(to bottom right, #0f172a, #020617)",padding:"80px 20px 0 20px",minHeight:"100vh",position:"relative",color:"white",overflow:"visible"},id:"Services",children:[le.jsx(Hi.div,{style:{position:"absolute",top:"20%",left:"15%",width:"500px",height:"500px",background:"rgba(128, 0, 255, 0.5)",borderRadius:"50%",filter:"blur(150px)",zIndex:0,y:e}}),le.jsx(Hi.div,{style:{position:"absolute",bottom:"25%",right:"5%",width:"500px",height:"500px",background:"rgba(0, 200, 255, 0.5)",borderRadius:"50%",filter:"blur(180px)",zIndex:0,y:t}}),le.jsx("h1",{style:{textAlign:"center",marginBottom:"40px",fontSize:"3rem",fontWeight:"bold"},children:"Services"}),le.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"30px",paddingBottom:"40px"},children:uB.map((h,p)=>le.jsxs(Hi.div,{whileHover:{scale:1.05,boxShadow:"0 0 25px rgba(128, 0, 255, 0.5)"},initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:p*.2},style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(14px)",borderRadius:"16px",padding:"20px 18px",width:"220px",color:"white",border:"1px solid rgba(255,255,255,0.12)",textAlign:"center",position:"relative"},children:[le.jsx("div",{style:{marginBottom:"15px"},children:h.icon}),le.jsx("h2",{style:{fontSize:"1.4rem",marginBottom:"10px",color:"#8b5cf6"},children:h.title}),le.jsx("p",{style:{fontSize:"0.95rem"},children:h.description})]},p))}),uB.map((h,p)=>le.jsx(Hi.div,{animate:{y:[0,-12,0]},transition:{duration:3+p,repeat:1/0},style:{position:"absolute",top:`${20+p*15}%`,left:`${p%2===0?5:90}%`,opacity:.2,zIndex:0},children:h.icon},`float-${p}`)),n.map(h=>le.jsx("div",{className:"star",style:{position:"absolute",left:h.left,top:h.top,opacity:h.opacity,width:h.size,height:h.size,background:"radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 70%)",borderRadius:"50%",animation:"twinkle 1s infinite alternate"}},h.id)),le.jsx("div",{style:{position:"absolute",bottom:0,width:"100%",zIndex:-1},children:le.jsx("svg",{viewBox:"0 0 1440 320",style:{display:"block"},children:le.jsx("path",{fill:"#1e293b",fillOpacity:"1",d:"M0,64L40,80C80,96,160,128,240,138.7C320,149,400,139,480,117.3C560,96,640,64,720,64C800,64,880,96,960,117.3C1040,139,1120,149,1200,133.3C1280,117,1360,75,1400,53.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"})})})]})},fB=(i,e,t,n)=>{i.style.transition=`${e} ${t}ms ${n}`},cc=(i,e,t)=>Math.min(Math.max(i,e),t);let lY=class{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:c,height:h}=o,p=Math.sqrt(c**2+h**2);return{width:p,height:p}},this.setSize=o=>{const c=this.calculateGlareSize(o);this.glareEl.style.width=`${c.width}px`,this.glareEl.style.height=`${c.height}px`},this.update=(o,c,h,p)=>{this.updateAngle(o,c.glareReverse),this.updateOpacity(o,c,h,p)},this.updateAngle=(o,c)=>{const{xPercentage:h,yPercentage:p}=o,m=180/Math.PI,y=h?Math.atan2(p,-h)*m:0;this.glareAngle=y-(c?180:0)},this.updateOpacity=(o,c,h,p)=>{const{xPercentage:m,yPercentage:y}=o,{glarePosition:A,glareReverse:_,glareMaxOpacity:S}=c,T=h?-1:1,E=p?-1:1,b=_?-1:1;let w=0;switch(A){case"top":w=-m*T*b;break;case"right":w=y*E*b;break;case"bottom":case void 0:w=m*T*b;break;case"left":w=-y*E*b;break;case"all":w=Math.hypot(m,y)}const B=cc(w,0,100);this.glareOpacity=B*S/100},this.render=o=>{const{glareColor:c}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${c} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),a={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,a)}},cY=class{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:n,yPercentage:s}=e,{tiltMaxAngleX:a,tiltMaxAngleY:o}=t;this.tiltAngleX=n*a/100,this.tiltAngleY=s*o/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:n,tiltAngleYManual:s,tiltMaxAngleX:a,tiltMaxAngleY:o}=t;(n!==null||s!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/a,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=cc(this.tiltAngleX,-90,90),this.tiltAngleY=cc(this.tiltAngleY,-90,90),t&&(this.tiltAngleX=t==="x"?this.tiltAngleX:0,this.tiltAngleY=t==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}};const uY={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class hN extends Me.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:s,tiltMaxAngleX:a,tiltMaxAngleY:o}=this.props,c=s/o*100;this.wrapperEl.clientPosition.xPercentage=cc(n/a*100,-100,100),this.wrapperEl.clientPosition.yPercentage=cc(c,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:n}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=s/n*100,this.wrapperEl.clientPosition.xPercentage=cc(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=cc(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:n,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,s)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,n;if(e){const{x:s,y:a}=this.wrapperEl.clientPosition;t=a/window.innerHeight*200-100,n=s/window.innerWidth*200-100}else{const{size:{width:s,height:a,left:o,top:c},clientPosition:{x:h,y:p}}=this.wrapperEl;t=(p-c)/a*200-100,n=(h-o)/s*200-100}this.wrapperEl.clientPosition.xPercentage=cc(t,-100,100),this.wrapperEl.clientPosition.yPercentage=cc(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new cY,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new lY(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let n=0,s=0;this.glare&&(n=this.glare.glareAngle,s=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;fB(this.wrapperEl.node,"all",e,t),this.glare&&fB(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:n}=this.props;return le.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:n,children:e})}}hN.defaultProps=uY;var dN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hB=Cr.createContext&&Cr.createContext(dN),fY=["attr","size","title"];function hY(i,e){if(i==null)return{};var t=dY(i,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function dY(i,e){if(i==null)return{};var t={};for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(e.indexOf(n)>=0)continue;t[n]=i[n]}return t}function B_(){return B_=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},B_.apply(this,arguments)}function dB(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,n)}return t}function D_(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(t),!0).forEach(function(n){pY(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):dB(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function pY(i,e,t){return e=mY(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function mY(i){var e=gY(i,"string");return typeof e=="symbol"?e:e+""}function gY(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function pN(i){return i&&i.map((e,t)=>Cr.createElement(e.tag,D_({key:t},e.attr),pN(e.child)))}function yY(i){return e=>Cr.createElement(vY,B_({attr:D_({},i.attr)},e),pN(i.child))}function vY(i){var e=t=>{var{attr:n,size:s,title:a}=i,o=hY(i,fY),c=s||t.size||"1em",h;return t.className&&(h=t.className),i.className&&(h=(h?h+" ":"")+i.className),Cr.createElement("svg",B_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:h,style:D_(D_({color:i.color||t.color},t.style),i.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Cr.createElement("title",null,a),i.children)};return hB!==void 0?Cr.createElement(hB.Consumer,null,t=>e(t)):e(dN)}function AY(i){return yY({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(i)}const _Y={hidden:{opacity:0,y:20},visible:i=>({opacity:1,y:0,transition:{delay:i*.3,duration:.6}})},xY=()=>{const i=["Hello! I'm Nazreen V N, a passionate web developer with a love for creating dynamic and responsive web applications. I specialize in using React to build user-friendly interfaces that provide a seamless experience.","With a background in Computer Applications and Design, I have honed my skills in front-end development and am always eager to explore new technologies.","In my free time, I enjoy crafting, reading, and contributing to various projects. I believe in the power of collaboration and building solutions that make a difference.","Feel free to reach out if you’d like to connect or collaborate!"];return le.jsxs("div",{id:"About",style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px",overflow:"hidden",background:"linear-gradient(135deg, #0f2027, #203a43, #2c5364)"},children:[le.jsx(Hi.div,{initial:{scale:1},animate:{scale:[1,1.1,1]},transition:{duration:10,repeat:1/0},style:{position:"absolute",top:"-15%",left:"-15%",zIndex:0,width:500,height:500,borderRadius:"50%",background:"radial-gradient(circle, rgba(0,198,255,0.4), transparent)",filter:"blur(100px)"}}),le.jsx(Hi.div,{initial:{scale:1},animate:{scale:[1,1.1,1]},transition:{duration:12,repeat:1/0},style:{position:"absolute",bottom:"-15%",right:"-15%",zIndex:0,width:500,height:500,borderRadius:"50%",background:"radial-gradient(circle, rgba(255,78,80,0.4), transparent)",filter:"blur(100px)"}}),le.jsx(Hi.div,{animate:{opacity:[.03,.07,.03]},transition:{duration:8,repeat:1/0},style:{position:"absolute",inset:0,background:"radial-gradient(circle at center, rgba(255,255,255,0.06), transparent)",mixBlendMode:"overlay",zIndex:1}}),le.jsxs(hN,{glareEnable:!0,glareMaxOpacity:.25,transitionSpeed:1e3,tiltMaxAngleX:15,tiltMaxAngleY:15,style:{transformStyle:"preserve-3d",position:"relative",zIndex:2,background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",padding:"40px",borderRadius:"20px",maxWidth:"700px",textAlign:"center",boxShadow:"0 12px 32px rgba(0,0,0,0.4)",color:"#fff"},children:[le.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"10px"},children:"About Me"}),le.jsx("p",{style:{fontSize:"1.1rem",color:"#ddd",marginBottom:"30px"},children:"Get to know the developer behind the code"}),i.map((e,t)=>le.jsx(Hi.p,{custom:t,variants:_Y,initial:"hidden",animate:"visible",style:{fontSize:"1.1rem",lineHeight:"1.7",marginBottom:"20px",color:"#f5f5f5"},children:e},t)),le.jsx("div",{style:{marginTop:"30px"},children:le.jsxs("a",{href:"https://www.linkedin.com/in/nazreen-v-n",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",padding:"12px 24px",background:"linear-gradient(135deg, #00c6ff, #0072ff)",color:"#fff",borderRadius:"30px",fontWeight:"bold",transition:"all 0.3s ease",display:"inline-flex",alignItems:"center",gap:"10px"},children:[le.jsx(AY,{}),"Visit my LinkedIn"]})})]})]})};function mN(i,e){return function(){return i.apply(e,arguments)}}const{toString:SY}=Object.prototype,{getPrototypeOf:oT}=Object,wx=(i=>e=>{const t=SY.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Mo=i=>(i=i.toLowerCase(),e=>wx(e)===i),Bx=i=>e=>typeof e===i,{isArray:Dp}=Array,ty=Bx("undefined");function bY(i){return i!==null&&!ty(i)&&i.constructor!==null&&!ty(i.constructor)&&nr(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const gN=Mo("ArrayBuffer");function MY(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&gN(i.buffer),e}const EY=Bx("string"),nr=Bx("function"),yN=Bx("number"),Dx=i=>i!==null&&typeof i=="object",TY=i=>i===!0||i===!1,RA=i=>{if(wx(i)!=="object")return!1;const e=oT(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},CY=Mo("Date"),RY=Mo("File"),wY=Mo("Blob"),BY=Mo("FileList"),DY=i=>Dx(i)&&nr(i.pipe),OY=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||nr(i.append)&&((e=wx(i))==="formdata"||e==="object"&&nr(i.toString)&&i.toString()==="[object FormData]"))},LY=Mo("URLSearchParams"),[NY,UY,PY,IY]=["ReadableStream","Request","Response","Headers"].map(Mo),FY=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function by(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),Dp(i))for(n=0,s=i.length;n<s;n++)e.call(null,i[n],n,i);else{const a=t?Object.getOwnPropertyNames(i):Object.keys(i),o=a.length;let c;for(n=0;n<o;n++)c=a[n],e.call(null,i[c],c,i)}}function vN(i,e){e=e.toLowerCase();const t=Object.keys(i);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const ah=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,AN=i=>!ty(i)&&i!==ah;function Zb(){const{caseless:i}=AN(this)&&this||{},e={},t=(n,s)=>{const a=i&&vN(e,s)||s;RA(e[a])&&RA(n)?e[a]=Zb(e[a],n):RA(n)?e[a]=Zb({},n):Dp(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&by(arguments[n],t);return e}const zY=(i,e,t,{allOwnKeys:n}={})=>(by(e,(s,a)=>{t&&nr(s)?i[a]=mN(s,t):i[a]=s},{allOwnKeys:n}),i),HY=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),GY=(i,e,t,n)=>{i.prototype=Object.create(e.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},VY=(i,e,t,n)=>{let s,a,o;const c={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),a=s.length;a-- >0;)o=s[a],(!n||n(o,i,e))&&!c[o]&&(e[o]=i[o],c[o]=!0);i=t!==!1&&oT(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},kY=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const n=i.indexOf(e,t);return n!==-1&&n===t},XY=i=>{if(!i)return null;if(Dp(i))return i;let e=i.length;if(!yN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},jY=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&oT(Uint8Array)),YY=(i,e)=>{const n=(i&&i[Symbol.iterator]).call(i);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(i,a[0],a[1])}},qY=(i,e)=>{let t;const n=[];for(;(t=i.exec(e))!==null;)n.push(t);return n},WY=Mo("HTMLFormElement"),KY=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),pB=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),JY=Mo("RegExp"),_N=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),n={};by(t,(s,a)=>{let o;(o=e(s,a,i))!==!1&&(n[a]=o||s)}),Object.defineProperties(i,n)},ZY=i=>{_N(i,(e,t)=>{if(nr(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=i[t];if(nr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},QY=(i,e)=>{const t={},n=s=>{s.forEach(a=>{t[a]=!0})};return Dp(i)?n(i):n(String(i).split(e)),t},$Y=()=>{},eq=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function tq(i){return!!(i&&nr(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const nq=i=>{const e=new Array(10),t=(n,s)=>{if(Dx(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const a=Dp(n)?[]:{};return by(n,(o,c)=>{const h=t(o,s+1);!ty(h)&&(a[c]=h)}),e[s]=void 0,a}}return n};return t(i,0)},iq=Mo("AsyncFunction"),sq=i=>i&&(Dx(i)||nr(i))&&nr(i.then)&&nr(i.catch),xN=((i,e)=>i?setImmediate:e?((t,n)=>(ah.addEventListener("message",({source:s,data:a})=>{s===ah&&a===t&&n.length&&n.shift()()},!1),s=>{n.push(s),ah.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",nr(ah.postMessage)),aq=typeof queueMicrotask<"u"?queueMicrotask.bind(ah):typeof process<"u"&&process.nextTick||xN,Be={isArray:Dp,isArrayBuffer:gN,isBuffer:bY,isFormData:OY,isArrayBufferView:MY,isString:EY,isNumber:yN,isBoolean:TY,isObject:Dx,isPlainObject:RA,isReadableStream:NY,isRequest:UY,isResponse:PY,isHeaders:IY,isUndefined:ty,isDate:CY,isFile:RY,isBlob:wY,isRegExp:JY,isFunction:nr,isStream:DY,isURLSearchParams:LY,isTypedArray:jY,isFileList:BY,forEach:by,merge:Zb,extend:zY,trim:FY,stripBOM:HY,inherits:GY,toFlatObject:VY,kindOf:wx,kindOfTest:Mo,endsWith:kY,toArray:XY,forEachEntry:YY,matchAll:qY,isHTMLForm:WY,hasOwnProperty:pB,hasOwnProp:pB,reduceDescriptors:_N,freezeMethods:ZY,toObjectSet:QY,toCamelCase:KY,noop:$Y,toFiniteNumber:eq,findKey:vN,global:ah,isContextDefined:AN,isSpecCompliantForm:tq,toJSONObject:nq,isAsyncFn:iq,isThenable:sq,setImmediate:xN,asap:aq};function Qt(i,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Be.inherits(Qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Be.toJSONObject(this.config),code:this.code,status:this.status}}});const SN=Qt.prototype,bN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{bN[i]={value:i}});Object.defineProperties(Qt,bN);Object.defineProperty(SN,"isAxiosError",{value:!0});Qt.from=(i,e,t,n,s,a)=>{const o=Object.create(SN);return Be.toFlatObject(i,o,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),Qt.call(o,i.message,e,t,n,s),o.cause=i,o.name=i.name,a&&Object.assign(o,a),o};const rq=null;function Qb(i){return Be.isPlainObject(i)||Be.isArray(i)}function MN(i){return Be.endsWith(i,"[]")?i.slice(0,-2):i}function mB(i,e,t){return i?i.concat(e).map(function(s,a){return s=MN(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function oq(i){return Be.isArray(i)&&!i.some(Qb)}const lq=Be.toFlatObject(Be,{},null,function(e){return/^is[A-Z]/.test(e)});function Ox(i,e,t){if(!Be.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Be.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,E){return!Be.isUndefined(E[T])});const n=t.metaTokens,s=t.visitor||m,a=t.dots,o=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&Be.isSpecCompliantForm(e);if(!Be.isFunction(s))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(Be.isDate(S))return S.toISOString();if(!h&&Be.isBlob(S))throw new Qt("Blob is not supported. Use a Buffer instead.");return Be.isArrayBuffer(S)||Be.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,T,E){let b=S;if(S&&!E&&typeof S=="object"){if(Be.endsWith(T,"{}"))T=n?T:T.slice(0,-2),S=JSON.stringify(S);else if(Be.isArray(S)&&oq(S)||(Be.isFileList(S)||Be.endsWith(T,"[]"))&&(b=Be.toArray(S)))return T=MN(T),b.forEach(function(B,D){!(Be.isUndefined(B)||B===null)&&e.append(o===!0?mB([T],D,a):o===null?T:T+"[]",p(B))}),!1}return Qb(S)?!0:(e.append(mB(E,T,a),p(S)),!1)}const y=[],A=Object.assign(lq,{defaultVisitor:m,convertValue:p,isVisitable:Qb});function _(S,T){if(!Be.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+T.join("."));y.push(S),Be.forEach(S,function(b,w){(!(Be.isUndefined(b)||b===null)&&s.call(e,b,Be.isString(w)?w.trim():w,T,A))===!0&&_(b,T?T.concat(w):[w])}),y.pop()}}if(!Be.isObject(i))throw new TypeError("data must be an object");return _(i),e}function gB(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function lT(i,e){this._pairs=[],i&&Ox(i,this,e)}const EN=lT.prototype;EN.append=function(e,t){this._pairs.push([e,t])};EN.toString=function(e){const t=e?function(n){return e.call(this,n,gB)}:gB;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function cq(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function TN(i,e,t){if(!e)return i;const n=t&&t.encode||cq;Be.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=Be.isURLSearchParams(e)?e.toString():new lT(e,t).toString(n),a){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+a}return i}class yB{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Be.forEach(this.handlers,function(n){n!==null&&e(n)})}}const CN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uq=typeof URLSearchParams<"u"?URLSearchParams:lT,fq=typeof FormData<"u"?FormData:null,hq=typeof Blob<"u"?Blob:null,dq={isBrowser:!0,classes:{URLSearchParams:uq,FormData:fq,Blob:hq},protocols:["http","https","file","blob","url","data"]},cT=typeof window<"u"&&typeof document<"u",$b=typeof navigator=="object"&&navigator||void 0,pq=cT&&(!$b||["ReactNative","NativeScript","NS"].indexOf($b.product)<0),mq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gq=cT&&window.location.href||"http://localhost",yq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cT,hasStandardBrowserEnv:pq,hasStandardBrowserWebWorkerEnv:mq,navigator:$b,origin:gq},Symbol.toStringTag,{value:"Module"})),qs={...yq,...dq};function vq(i,e){return Ox(i,new qs.classes.URLSearchParams,Object.assign({visitor:function(t,n,s,a){return qs.isNode&&Be.isBuffer(t)?(this.append(n,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Aq(i){return Be.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _q(i){const e={},t=Object.keys(i);let n;const s=t.length;let a;for(n=0;n<s;n++)a=t[n],e[a]=i[a];return e}function RN(i){function e(t,n,s,a){let o=t[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),h=a>=t.length;return o=!o&&Be.isArray(s)?s.length:o,h?(Be.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!Be.isObject(s[o]))&&(s[o]=[]),e(t,n,s[o],a)&&Be.isArray(s[o])&&(s[o]=_q(s[o])),!c)}if(Be.isFormData(i)&&Be.isFunction(i.entries)){const t={};return Be.forEachEntry(i,(n,s)=>{e(Aq(n),s,t,0)}),t}return null}function xq(i,e,t){if(Be.isString(i))try{return(e||JSON.parse)(i),Be.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(i)}const My={transitional:CN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,a=Be.isObject(e);if(a&&Be.isHTMLForm(e)&&(e=new FormData(e)),Be.isFormData(e))return s?JSON.stringify(RN(e)):e;if(Be.isArrayBuffer(e)||Be.isBuffer(e)||Be.isStream(e)||Be.isFile(e)||Be.isBlob(e)||Be.isReadableStream(e))return e;if(Be.isArrayBufferView(e))return e.buffer;if(Be.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return vq(e,this.formSerializer).toString();if((c=Be.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Ox(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),xq(e)):e}],transformResponse:[function(e){const t=this.transitional||My.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Be.isResponse(e)||Be.isReadableStream(e))return e;if(e&&Be.isString(e)&&(n&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?Qt.from(c,Qt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qs.classes.FormData,Blob:qs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Be.forEach(["delete","get","head","post","put","patch"],i=>{My.headers[i]={}});const Sq=Be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bq=i=>{const e={};let t,n,s;return i&&i.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!t||e[t]&&Sq[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},vB=Symbol("internals");function cg(i){return i&&String(i).trim().toLowerCase()}function wA(i){return i===!1||i==null?i:Be.isArray(i)?i.map(wA):String(i)}function Mq(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(i);)e[n[1]]=n[2];return e}const Eq=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Q1(i,e,t,n,s){if(Be.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!Be.isString(e)){if(Be.isString(n))return e.indexOf(n)!==-1;if(Be.isRegExp(n))return n.test(e)}}function Tq(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Cq(i,e){const t=Be.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+t,{value:function(s,a,o){return this[n].call(this,e,s,a,o)},configurable:!0})})}let Ua=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function a(c,h,p){const m=cg(h);if(!m)throw new Error("header name must be a non-empty string");const y=Be.findKey(s,m);(!y||s[y]===void 0||p===!0||p===void 0&&s[y]!==!1)&&(s[y||h]=wA(c))}const o=(c,h)=>Be.forEach(c,(p,m)=>a(p,m,h));if(Be.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Be.isString(e)&&(e=e.trim())&&!Eq(e))o(bq(e),t);else if(Be.isHeaders(e))for(const[c,h]of e.entries())a(h,c,n);else e!=null&&a(t,e,n);return this}get(e,t){if(e=cg(e),e){const n=Be.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return Mq(s);if(Be.isFunction(t))return t.call(this,s,n);if(Be.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cg(e),e){const n=Be.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Q1(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function a(o){if(o=cg(o),o){const c=Be.findKey(n,o);c&&(!t||Q1(n,n[c],c,t))&&(delete n[c],s=!0)}}return Be.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const a=t[n];(!e||Q1(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,n={};return Be.forEach(this,(s,a)=>{const o=Be.findKey(n,a);if(o){t[o]=wA(s),delete t[a];return}const c=e?Tq(a):String(a).trim();c!==a&&delete t[a],t[c]=wA(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Be.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&Be.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[vB]=this[vB]={accessors:{}}).accessors,s=this.prototype;function a(o){const c=cg(o);n[c]||(Cq(s,o),n[c]=!0)}return Be.isArray(e)?e.forEach(a):a(e),this}};Ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Be.reduceDescriptors(Ua.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(n){this[t]=n}}});Be.freezeMethods(Ua);function $1(i,e){const t=this||My,n=e||t,s=Ua.from(n.headers);let a=n.data;return Be.forEach(i,function(c){a=c.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function wN(i){return!!(i&&i.__CANCEL__)}function Op(i,e,t){Qt.call(this,i??"canceled",Qt.ERR_CANCELED,e,t),this.name="CanceledError"}Be.inherits(Op,Qt,{__CANCEL__:!0});function BN(i,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?i(t):e(new Qt("Request failed with status code "+t.status,[Qt.ERR_BAD_REQUEST,Qt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Rq(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function wq(i,e){i=i||10;const t=new Array(i),n=new Array(i);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),m=n[a];o||(o=p),t[s]=h,n[s]=p;let y=a,A=0;for(;y!==s;)A+=t[y++],y=y%i;if(s=(s+1)%i,s===a&&(a=(a+1)%i),p-o<e)return;const _=m&&p-m;return _?Math.round(A*1e3/_):void 0}}function Bq(i,e){let t=0,n=1e3/e,s,a;const o=(p,m=Date.now())=>{t=m,s=null,a&&(clearTimeout(a),a=null),i.apply(null,p)};return[(...p)=>{const m=Date.now(),y=m-t;y>=n?o(p,m):(s=p,a||(a=setTimeout(()=>{a=null,o(s)},n-y)))},()=>s&&o(s)]}const O_=(i,e,t=3)=>{let n=0;const s=wq(50,250);return Bq(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,h=o-n,p=s(h),m=o<=c;n=o;const y={loaded:o,total:c,progress:c?o/c:void 0,bytes:h,rate:p||void 0,estimated:p&&c&&m?(c-o)/p:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};i(y)},t)},AB=(i,e)=>{const t=i!=null;return[n=>e[0]({lengthComputable:t,total:i,loaded:n}),e[1]]},_B=i=>(...e)=>Be.asap(()=>i(...e)),Dq=qs.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,qs.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(qs.origin),qs.navigator&&/(msie|trident)/i.test(qs.navigator.userAgent)):()=>!0,Oq=qs.hasStandardBrowserEnv?{write(i,e,t,n,s,a){const o=[i+"="+encodeURIComponent(e)];Be.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Be.isString(n)&&o.push("path="+n),Be.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Lq(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Nq(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function DN(i,e,t){let n=!Lq(e);return i&&(n||t==!1)?Nq(i,e):e}const xB=i=>i instanceof Ua?{...i}:i;function Ah(i,e){e=e||{};const t={};function n(p,m,y,A){return Be.isPlainObject(p)&&Be.isPlainObject(m)?Be.merge.call({caseless:A},p,m):Be.isPlainObject(m)?Be.merge({},m):Be.isArray(m)?m.slice():m}function s(p,m,y,A){if(Be.isUndefined(m)){if(!Be.isUndefined(p))return n(void 0,p,y,A)}else return n(p,m,y,A)}function a(p,m){if(!Be.isUndefined(m))return n(void 0,m)}function o(p,m){if(Be.isUndefined(m)){if(!Be.isUndefined(p))return n(void 0,p)}else return n(void 0,m)}function c(p,m,y){if(y in e)return n(p,m);if(y in i)return n(void 0,p)}const h={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(p,m,y)=>s(xB(p),xB(m),y,!0)};return Be.forEach(Object.keys(Object.assign({},i,e)),function(m){const y=h[m]||s,A=y(i[m],e[m],m);Be.isUndefined(A)&&y!==c||(t[m]=A)}),t}const ON=i=>{const e=Ah({},i);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:c}=e;e.headers=o=Ua.from(o),e.url=TN(DN(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let h;if(Be.isFormData(t)){if(qs.hasStandardBrowserEnv||qs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((h=o.getContentType())!==!1){const[p,...m]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];o.setContentType([p||"multipart/form-data",...m].join("; "))}}if(qs.hasStandardBrowserEnv&&(n&&Be.isFunction(n)&&(n=n(e)),n||n!==!1&&Dq(e.url))){const p=s&&a&&Oq.read(a);p&&o.set(s,p)}return e},Uq=typeof XMLHttpRequest<"u",Pq=Uq&&function(i){return new Promise(function(t,n){const s=ON(i);let a=s.data;const o=Ua.from(s.headers).normalize();let{responseType:c,onUploadProgress:h,onDownloadProgress:p}=s,m,y,A,_,S;function T(){_&&_(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function b(){if(!E)return;const B=Ua.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),U={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:B,config:i,request:E};BN(function(F){t(F),T()},function(F){n(F),T()},U),E=null}"onloadend"in E?E.onloadend=b:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(b)},E.onabort=function(){E&&(n(new Qt("Request aborted",Qt.ECONNABORTED,i,E)),E=null)},E.onerror=function(){n(new Qt("Network Error",Qt.ERR_NETWORK,i,E)),E=null},E.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const U=s.transitional||CN;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),n(new Qt(D,U.clarifyTimeoutError?Qt.ETIMEDOUT:Qt.ECONNABORTED,i,E)),E=null},a===void 0&&o.setContentType(null),"setRequestHeader"in E&&Be.forEach(o.toJSON(),function(D,U){E.setRequestHeader(U,D)}),Be.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),c&&c!=="json"&&(E.responseType=s.responseType),p&&([A,S]=O_(p,!0),E.addEventListener("progress",A)),h&&E.upload&&([y,_]=O_(h),E.upload.addEventListener("progress",y),E.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(m=B=>{E&&(n(!B||B.type?new Op(null,i,E):B),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const w=Rq(s.url);if(w&&qs.protocols.indexOf(w)===-1){n(new Qt("Unsupported protocol "+w+":",Qt.ERR_BAD_REQUEST,i));return}E.send(a||null)})},Iq=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let n=new AbortController,s;const a=function(p){if(!s){s=!0,c();const m=p instanceof Error?p:this.reason;n.abort(m instanceof Qt?m:new Op(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,a(new Qt(`timeout ${e} of ms exceeded`,Qt.ETIMEDOUT))},e);const c=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),i=null)};i.forEach(p=>p.addEventListener("abort",a));const{signal:h}=n;return h.unsubscribe=()=>Be.asap(c),h}},Fq=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let n=0,s;for(;n<t;)s=n+e,yield i.slice(n,s),n=s},zq=async function*(i,e){for await(const t of Hq(i))yield*Fq(t,e)},Hq=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},SB=(i,e,t,n)=>{const s=zq(i,e);let a=0,o,c=h=>{o||(o=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:p,value:m}=await s.next();if(p){c(),h.close();return}let y=m.byteLength;if(t){let A=a+=y;t(A)}h.enqueue(new Uint8Array(m))}catch(p){throw c(p),p}},cancel(h){return c(h),s.return()}},{highWaterMark:2})},Lx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",LN=Lx&&typeof ReadableStream=="function",Gq=Lx&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),NN=(i,...e)=>{try{return!!i(...e)}catch{return!1}},Vq=LN&&NN(()=>{let i=!1;const e=new Request(qs.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),bB=64*1024,eM=LN&&NN(()=>Be.isReadableStream(new Response("").body)),L_={stream:eM&&(i=>i.body)};Lx&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!L_[e]&&(L_[e]=Be.isFunction(i[e])?t=>t[e]():(t,n)=>{throw new Qt(`Response type '${e}' is not supported`,Qt.ERR_NOT_SUPPORT,n)})})})(new Response);const kq=async i=>{if(i==null)return 0;if(Be.isBlob(i))return i.size;if(Be.isSpecCompliantForm(i))return(await new Request(qs.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Be.isArrayBufferView(i)||Be.isArrayBuffer(i))return i.byteLength;if(Be.isURLSearchParams(i)&&(i=i+""),Be.isString(i))return(await Gq(i)).byteLength},Xq=async(i,e)=>{const t=Be.toFiniteNumber(i.getContentLength());return t??kq(e)},jq=Lx&&(async i=>{let{url:e,method:t,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:c,onUploadProgress:h,responseType:p,headers:m,withCredentials:y="same-origin",fetchOptions:A}=ON(i);p=p?(p+"").toLowerCase():"text";let _=Iq([s,a&&a.toAbortSignal()],o),S;const T=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let E;try{if(h&&Vq&&t!=="get"&&t!=="head"&&(E=await Xq(m,n))!==0){let U=new Request(e,{method:"POST",body:n,duplex:"half"}),P;if(Be.isFormData(n)&&(P=U.headers.get("content-type"))&&m.setContentType(P),U.body){const[F,H]=AB(E,O_(_B(h)));n=SB(U.body,bB,F,H)}}Be.isString(y)||(y=y?"include":"omit");const b="credentials"in Request.prototype;S=new Request(e,{...A,signal:_,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:b?y:void 0});let w=await fetch(S);const B=eM&&(p==="stream"||p==="response");if(eM&&(c||B&&T)){const U={};["status","statusText","headers"].forEach(N=>{U[N]=w[N]});const P=Be.toFiniteNumber(w.headers.get("content-length")),[F,H]=c&&AB(P,O_(_B(c),!0))||[];w=new Response(SB(w.body,bB,F,()=>{H&&H(),T&&T()}),U)}p=p||"text";let D=await L_[Be.findKey(L_,p)||"text"](w,i);return!B&&T&&T(),await new Promise((U,P)=>{BN(U,P,{data:D,headers:Ua.from(w.headers),status:w.status,statusText:w.statusText,config:i,request:S})})}catch(b){throw T&&T(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new Qt("Network Error",Qt.ERR_NETWORK,i,S),{cause:b.cause||b}):Qt.from(b,b&&b.code,i,S)}}),tM={http:rq,xhr:Pq,fetch:jq};Be.forEach(tM,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const MB=i=>`- ${i}`,Yq=i=>Be.isFunction(i)||i===null||i===!1,UN={getAdapter:i=>{i=Be.isArray(i)?i:[i];const{length:e}=i;let t,n;const s={};for(let a=0;a<e;a++){t=i[a];let o;if(n=t,!Yq(t)&&(n=tM[(o=String(t)).toLowerCase()],n===void 0))throw new Qt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(MB).join(`
`):" "+MB(a[0]):"as no adapter specified";throw new Qt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:tM};function eb(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Op(null,i)}function EB(i){return eb(i),i.headers=Ua.from(i.headers),i.data=$1.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),UN.getAdapter(i.adapter||My.adapter)(i).then(function(n){return eb(i),n.data=$1.call(i,i.transformResponse,n),n.headers=Ua.from(n.headers),n},function(n){return wN(n)||(eb(i),n&&n.response&&(n.response.data=$1.call(i,i.transformResponse,n.response),n.response.headers=Ua.from(n.response.headers))),Promise.reject(n)})}const PN="1.8.4",Nx={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Nx[i]=function(n){return typeof n===i||"a"+(e<1?"n ":" ")+i}});const TB={};Nx.transitional=function(e,t,n){function s(a,o){return"[Axios v"+PN+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,c)=>{if(e===!1)throw new Qt(s(o," has been removed"+(t?" in "+t:"")),Qt.ERR_DEPRECATED);return t&&!TB[o]&&(TB[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,c):!0}};Nx.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function qq(i,e,t){if(typeof i!="object")throw new Qt("options must be an object",Qt.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const a=n[s],o=e[a];if(o){const c=i[a],h=c===void 0||o(c,a,i);if(h!==!0)throw new Qt("option "+a+" must be "+h,Qt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Qt("Unknown option "+a,Qt.ERR_BAD_OPTION)}}const BA={assertOptions:qq,validators:Nx},ll=BA.validators;let fh=class{constructor(e){this.defaults=e,this.interceptors={request:new yB,response:new yB}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ah(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:a}=t;n!==void 0&&BA.assertOptions(n,{silentJSONParsing:ll.transitional(ll.boolean),forcedJSONParsing:ll.transitional(ll.boolean),clarifyTimeoutError:ll.transitional(ll.boolean)},!1),s!=null&&(Be.isFunction(s)?t.paramsSerializer={serialize:s}:BA.assertOptions(s,{encode:ll.function,serialize:ll.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),BA.assertOptions(t,{baseUrl:ll.spelling("baseURL"),withXsrfToken:ll.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&Be.merge(a.common,a[t.method]);a&&Be.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=Ua.concat(o,a);const c=[];let h=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(h=h&&T.synchronous,c.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let m,y=0,A;if(!h){const S=[EB.bind(this),void 0];for(S.unshift.apply(S,c),S.push.apply(S,p),A=S.length,m=Promise.resolve(t);y<A;)m=m.then(S[y++],S[y++]);return m}A=c.length;let _=t;for(y=0;y<A;){const S=c[y++],T=c[y++];try{_=S(_)}catch(E){T.call(this,E);break}}try{m=EB.call(this,_)}catch(S){return Promise.reject(S)}for(y=0,A=p.length;y<A;)m=m.then(p[y++],p[y++]);return m}getUri(e){e=Ah(this.defaults,e);const t=DN(e.baseURL,e.url,e.allowAbsoluteUrls);return TN(t,e.params,e.paramsSerializer)}};Be.forEach(["delete","get","head","options"],function(e){fh.prototype[e]=function(t,n){return this.request(Ah(n||{},{method:e,url:t,data:(n||{}).data}))}});Be.forEach(["post","put","patch"],function(e){function t(n){return function(a,o,c){return this.request(Ah(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}fh.prototype[e]=t(),fh.prototype[e+"Form"]=t(!0)});let Wq=class IN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(c=>{n.subscribe(c),a=c}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,c){n.reason||(n.reason=new Op(a,o,c),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new IN(function(s){e=s}),cancel:e}}};function Kq(i){return function(t){return i.apply(null,t)}}function Jq(i){return Be.isObject(i)&&i.isAxiosError===!0}const nM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nM).forEach(([i,e])=>{nM[e]=i});function FN(i){const e=new fh(i),t=mN(fh.prototype.request,e);return Be.extend(t,fh.prototype,e,{allOwnKeys:!0}),Be.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return FN(Ah(i,s))},t}const ki=FN(My);ki.Axios=fh;ki.CanceledError=Op;ki.CancelToken=Wq;ki.isCancel=wN;ki.VERSION=PN;ki.toFormData=Ox;ki.AxiosError=Qt;ki.Cancel=ki.CanceledError;ki.all=function(e){return Promise.all(e)};ki.spread=Kq;ki.isAxiosError=Jq;ki.mergeConfig=Ah;ki.AxiosHeaders=Ua;ki.formToJSON=i=>RN(Be.isHTMLForm(i)?new FormData(i):i);ki.getAdapter=UN.getAdapter;ki.HttpStatusCode=nM;ki.default=ki;const{Axios:HJ,AxiosError:GJ,CanceledError:VJ,isCancel:kJ,CancelToken:XJ,VERSION:jJ,all:YJ,Cancel:qJ,isAxiosError:WJ,spread:KJ,toFormData:JJ,AxiosHeaders:ZJ,HttpStatusCode:QJ,formToJSON:$J,getAdapter:eZ,mergeConfig:tZ}=ki,Zq=Cr.forwardRef((i,e)=>{const[t,n]=Me.useState({name:"",email:"",phone:"",message:""}),[s,a]=Me.useState(""),[o,c]=Me.useState(!1),[h,p]=Me.useState({}),m={hidden:{opacity:0,y:-50},visible:{opacity:1,y:0}},y={hover:{scale:1.05,boxShadow:"0px 0px 15px rgba(0, 0, 0, 0.3)"}},A=E=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(E),_=E=>/^\+?(\d{1,3})?[-.\s]?(\d{3})[-.\s]?(\d{4})$/.test(E),S=E=>{const{name:b,value:w}=E.target;n({...t,[b]:w}),p({...h,[b]:""})},T=async E=>{E.preventDefault();let b={};if(A(t.email)||(b.email="Invalid email format."),_(t.phone)||(b.phone="Invalid phone number format."),Object.keys(b).length>0){p(b);return}try{const w=await ki.post("http://localhost:5000/api/contact",t);a("Message sent successfully!"),n({name:"",email:"",phone:"",message:""})}catch{a("Error sending message. Please try again.")}};return le.jsx("div",{ref:e,id:"Contact",className:"contact-container",children:le.jsxs(Hi.div,{className:"contact-form",initial:"hidden",animate:"visible",variants:m,transition:{duration:.5},children:[le.jsx("h1",{style:{color:"#ff7e5f",textAlign:"center"},children:"Contact Me"}),le.jsxs("form",{onSubmit:T,children:[le.jsx(Hi.input,{type:"text",name:"name",placeholder:"Your Name",value:t.name,onChange:S,variants:y,whileHover:"hover",required:!0}),le.jsx(Hi.input,{type:"email",name:"email",placeholder:"Your Email",value:t.email,onChange:S,variants:y,whileHover:"hover",required:!0}),h.email&&le.jsx("p",{style:{color:"red"},children:h.email})," ",le.jsx(Hi.input,{type:"text",name:"phone",placeholder:"Your Phone Number",value:t.phone,onChange:S,variants:y,whileHover:"hover",required:!0}),h.phone&&le.jsx("p",{style:{color:"red"},children:h.phone})," ",le.jsxs("div",{style:{position:"relative"},children:[le.jsx(Hi.textarea,{name:"message",placeholder:"Your Message",rows:"4",value:t.message,onChange:S,variants:y,whileHover:"hover",required:!0,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1)}),o&&le.jsx("div",{className:"tooltip",children:"Please include your phone number in the message."})]}),le.jsx(Hi.button,{type:"submit",whileHover:{scale:1.1,boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.3)"},transition:{duration:.3},children:"Send Message"})]}),s&&le.jsx("p",{style:{textAlign:"center",color:"#ff7e5f"},children:s})]})})});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function Qq(i,e,t){return(e=eW(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function CB(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,n)}return t}function et(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(t),!0).forEach(function(n){Qq(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):CB(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function $q(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function eW(i){var e=$q(i,"string");return typeof e=="symbol"?e:e+""}const RB=()=>{};let uT={},zN={},HN=null,GN={mark:RB,measure:RB};try{typeof window<"u"&&(uT=window),typeof document<"u"&&(zN=document),typeof MutationObserver<"u"&&(HN=MutationObserver),typeof performance<"u"&&(GN=performance)}catch{}const{userAgent:wB=""}=uT.navigator||{},Lu=uT,ni=zN,BB=HN,mA=GN;Lu.document;const bc=!!ni.documentElement&&!!ni.head&&typeof ni.addEventListener=="function"&&typeof ni.createElement=="function",VN=~wB.indexOf("MSIE")||~wB.indexOf("Trident/");var tW=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,nW=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,kN={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},iW={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},XN=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Js="classic",Ux="duotone",sW="sharp",aW="sharp-duotone",jN=[Js,Ux,sW,aW],rW={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},oW={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},lW=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),cW={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},uW=["fak","fa-kit","fakd","fa-kit-duotone"],DB={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},fW=["kit"],hW={kit:{"fa-kit":"fak"}},dW=["fak","fakd"],pW={kit:{fak:"fa-kit"}},OB={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},gA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mW=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],gW=["fak","fa-kit","fakd","fa-kit-duotone"],yW={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},vW={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},AW={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},iM={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},_W=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],sM=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...mW,..._W],xW=["solid","regular","light","thin","duotone","brands"],YN=[1,2,3,4,5,6,7,8,9,10],SW=YN.concat([11,12,13,14,15,16,17,18,19,20]),bW=[...Object.keys(AW),...xW,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",gA.GROUP,gA.SWAP_OPACITY,gA.PRIMARY,gA.SECONDARY].concat(YN.map(i=>"".concat(i,"x"))).concat(SW.map(i=>"w-".concat(i))),MW={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const xc="___FONT_AWESOME___",aM=16,qN="fa",WN="svg-inline--fa",_h="data-fa-i2svg",rM="data-fa-pseudo-element",EW="data-fa-pseudo-element-pending",fT="data-prefix",hT="data-icon",LB="fontawesome-i2svg",TW="async",CW=["HTML","HEAD","STYLE","SCRIPT"],KN=(()=>{try{return!0}catch{return!1}})();function Ey(i){return new Proxy(i,{get(e,t){return t in e?e[t]:e[Js]}})}const JN=et({},kN);JN[Js]=et(et(et(et({},{"fa-duotone":"duotone"}),kN[Js]),DB.kit),DB["kit-duotone"]);const RW=Ey(JN),oM=et({},cW);oM[Js]=et(et(et(et({},{duotone:"fad"}),oM[Js]),OB.kit),OB["kit-duotone"]);const NB=Ey(oM),lM=et({},iM);lM[Js]=et(et({},lM[Js]),pW.kit);const dT=Ey(lM),cM=et({},vW);cM[Js]=et(et({},cM[Js]),hW.kit);Ey(cM);const wW=tW,ZN="fa-layers-text",BW=nW,DW=et({},rW);Ey(DW);const OW=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],tb=iW,LW=[...fW,...bW],Lg=Lu.FontAwesomeConfig||{};function NW(i){var e=ni.querySelector("script["+i+"]");if(e)return e.getAttribute(i)}function UW(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}ni&&typeof ni.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const s=UW(NW(t));s!=null&&(Lg[n]=s)});const QN={styleDefault:"solid",familyDefault:Js,cssPrefix:qN,replacementClass:WN,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Lg.familyPrefix&&(Lg.cssPrefix=Lg.familyPrefix);const xp=et(et({},QN),Lg);xp.autoReplaceSvg||(xp.observeMutations=!1);const Tt={};Object.keys(QN).forEach(i=>{Object.defineProperty(Tt,i,{enumerable:!0,set:function(e){xp[i]=e,Ng.forEach(t=>t(Tt))},get:function(){return xp[i]}})});Object.defineProperty(Tt,"familyPrefix",{enumerable:!0,set:function(i){xp.cssPrefix=i,Ng.forEach(e=>e(Tt))},get:function(){return xp.cssPrefix}});Lu.FontAwesomeConfig=Tt;const Ng=[];function PW(i){return Ng.push(i),()=>{Ng.splice(Ng.indexOf(i),1)}}const _u=aM,hl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function IW(i){if(!i||!bc)return;const e=ni.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=i;const t=ni.head.childNodes;let n=null;for(let s=t.length-1;s>-1;s--){const a=t[s],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=a)}return ni.head.insertBefore(e,n),i}const FW="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ny(){let i=12,e="";for(;i-- >0;)e+=FW[Math.random()*62|0];return e}function Lp(i){const e=[];for(let t=(i||[]).length>>>0;t--;)e[t]=i[t];return e}function pT(i){return i.classList?Lp(i.classList):(i.getAttribute("class")||"").split(" ").filter(e=>e)}function $N(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zW(i){return Object.keys(i||{}).reduce((e,t)=>e+"".concat(t,'="').concat($N(i[t]),'" '),"").trim()}function Px(i){return Object.keys(i||{}).reduce((e,t)=>e+"".concat(t,": ").concat(i[t].trim(),";"),"")}function mT(i){return i.size!==hl.size||i.x!==hl.x||i.y!==hl.y||i.rotate!==hl.rotate||i.flipX||i.flipY}function HW(i){let{transform:e,containerWidth:t,iconWidth:n}=i;const s={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),h={transform:"".concat(a," ").concat(o," ").concat(c)},p={transform:"translate(".concat(n/2*-1," -256)")};return{outer:s,inner:h,path:p}}function GW(i){let{transform:e,width:t=aM,height:n=aM,startCentered:s=!1}=i,a="";return s&&VN?a+="translate(".concat(e.x/_u-t/2,"em, ").concat(e.y/_u-n/2,"em) "):s?a+="translate(calc(-50% + ".concat(e.x/_u,"em), calc(-50% + ").concat(e.y/_u,"em)) "):a+="translate(".concat(e.x/_u,"em, ").concat(e.y/_u,"em) "),a+="scale(".concat(e.size/_u*(e.flipX?-1:1),", ").concat(e.size/_u*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var VW=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function eU(){const i=qN,e=WN,t=Tt.cssPrefix,n=Tt.replacementClass;let s=VW;if(t!==i||n!==e){const a=new RegExp("\\.".concat(i,"\\-"),"g"),o=new RegExp("\\--".concat(i,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");s=s.replace(a,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(c,".".concat(n))}return s}let UB=!1;function nb(){Tt.autoAddCss&&!UB&&(IW(eU()),UB=!0)}var kW={mixout(){return{dom:{css:eU,insertCss:nb}}},hooks(){return{beforeDOMElementCreation(){nb()},beforeI2svg(){nb()}}}};const Sc=Lu||{};Sc[xc]||(Sc[xc]={});Sc[xc].styles||(Sc[xc].styles={});Sc[xc].hooks||(Sc[xc].hooks={});Sc[xc].shims||(Sc[xc].shims=[]);var dl=Sc[xc];const tU=[],nU=function(){ni.removeEventListener("DOMContentLoaded",nU),N_=1,tU.map(i=>i())};let N_=!1;bc&&(N_=(ni.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ni.readyState),N_||ni.addEventListener("DOMContentLoaded",nU));function XW(i){bc&&(N_?setTimeout(i,0):tU.push(i))}function Ty(i){const{tag:e,attributes:t={},children:n=[]}=i;return typeof i=="string"?$N(i):"<".concat(e," ").concat(zW(t),">").concat(n.map(Ty).join(""),"</").concat(e,">")}function PB(i,e,t){if(i&&i[e]&&i[e][t])return{prefix:e,iconName:t,icon:i[e][t]}}var ib=function(e,t,n,s){var a=Object.keys(e),o=a.length,c=t,h,p,m;for(n===void 0?(h=1,m=e[a[0]]):(h=0,m=n);h<o;h++)p=a[h],m=c(m,e[p],p,e);return m};function jW(i){const e=[];let t=0;const n=i.length;for(;t<n;){const s=i.charCodeAt(t++);if(s>=55296&&s<=56319&&t<n){const a=i.charCodeAt(t++);(a&64512)==56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function uM(i){const e=jW(i);return e.length===1?e[0].toString(16):null}function YW(i,e){const t=i.length;let n=i.charCodeAt(e),s;return n>=55296&&n<=56319&&t>e+1&&(s=i.charCodeAt(e+1),s>=56320&&s<=57343)?(n-55296)*1024+s-56320+65536:n}function IB(i){return Object.keys(i).reduce((e,t)=>{const n=i[t];return!!n.icon?e[n.iconName]=n.icon:e[t]=n,e},{})}function fM(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=t,s=IB(e);typeof dl.hooks.addPack=="function"&&!n?dl.hooks.addPack(i,IB(e)):dl.styles[i]=et(et({},dl.styles[i]||{}),s),i==="fas"&&fM("fa",e)}const{styles:iy,shims:qW}=dl,iU=Object.keys(dT),WW=iU.reduce((i,e)=>(i[e]=Object.keys(dT[e]),i),{});let gT=null,sU={},aU={},rU={},oU={},lU={};function KW(i){return~LW.indexOf(i)}function JW(i,e){const t=e.split("-"),n=t[0],s=t.slice(1).join("-");return n===i&&s!==""&&!KW(s)?s:null}const cU=()=>{const i=n=>ib(iy,(s,a,o)=>(s[o]=ib(a,n,{}),s),{});sU=i((n,s,a)=>(s[3]&&(n[s[3]]=a),s[2]&&s[2].filter(c=>typeof c=="number").forEach(c=>{n[c.toString(16)]=a}),n)),aU=i((n,s,a)=>(n[a]=a,s[2]&&s[2].filter(c=>typeof c=="string").forEach(c=>{n[c]=a}),n)),lU=i((n,s,a)=>{const o=s[2];return n[a]=a,o.forEach(c=>{n[c]=a}),n});const e="far"in iy||Tt.autoFetchSvg,t=ib(qW,(n,s)=>{const a=s[0];let o=s[1];const c=s[2];return o==="far"&&!e&&(o="fas"),typeof a=="string"&&(n.names[a]={prefix:o,iconName:c}),typeof a=="number"&&(n.unicodes[a.toString(16)]={prefix:o,iconName:c}),n},{names:{},unicodes:{}});rU=t.names,oU=t.unicodes,gT=Ix(Tt.styleDefault,{family:Tt.familyDefault})};PW(i=>{gT=Ix(i.styleDefault,{family:Tt.familyDefault})});cU();function yT(i,e){return(sU[i]||{})[e]}function ZW(i,e){return(aU[i]||{})[e]}function rh(i,e){return(lU[i]||{})[e]}function uU(i){return rU[i]||{prefix:null,iconName:null}}function QW(i){const e=oU[i],t=yT("fas",i);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Nu(){return gT}const fU=()=>({prefix:null,iconName:null,rest:[]});function $W(i){let e=Js;const t=iU.reduce((n,s)=>(n[s]="".concat(Tt.cssPrefix,"-").concat(s),n),{});return jN.forEach(n=>{(i.includes(t[n])||i.some(s=>WW[n].includes(s)))&&(e=n)}),e}function Ix(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=Js}=e,n=RW[t][i];if(t===Ux&&!i)return"fad";const s=NB[t][i]||NB[t][n],a=i in dl.styles?i:null;return s||a||null}function eK(i){let e=[],t=null;return i.forEach(n=>{const s=JW(Tt.cssPrefix,n);s?t=s:n&&e.push(n)}),{iconName:t,rest:e}}function FB(i){return i.sort().filter((e,t,n)=>n.indexOf(e)===t)}function Fx(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let n=null;const s=sM.concat(gW),a=FB(i.filter(y=>s.includes(y))),o=FB(i.filter(y=>!sM.includes(y))),c=a.filter(y=>(n=y,!XN.includes(y))),[h=null]=c,p=$W(a),m=et(et({},eK(o)),{},{prefix:Ix(h,{family:p})});return et(et(et({},m),sK({values:i,family:p,styles:iy,config:Tt,canonical:m,givenPrefix:n})),tK(t,n,m))}function tK(i,e,t){let{prefix:n,iconName:s}=t;if(i||!n||!s)return{prefix:n,iconName:s};const a=e==="fa"?uU(s):{},o=rh(n,s);return s=a.iconName||o||s,n=a.prefix||n,n==="far"&&!iy.far&&iy.fas&&!Tt.autoFetchSvg&&(n="fas"),{prefix:n,iconName:s}}const nK=jN.filter(i=>i!==Js||i!==Ux),iK=Object.keys(iM).filter(i=>i!==Js).map(i=>Object.keys(iM[i])).flat();function sK(i){const{values:e,family:t,canonical:n,givenPrefix:s="",styles:a={},config:o={}}=i,c=t===Ux,h=e.includes("fa-duotone")||e.includes("fad"),p=o.familyDefault==="duotone",m=n.prefix==="fad"||n.prefix==="fa-duotone";if(!c&&(h||p||m)&&(n.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(n.prefix="fab"),!n.prefix&&nK.includes(t)&&(Object.keys(a).find(A=>iK.includes(A))||o.autoFetchSvg)){const A=lW.get(t).defaultShortPrefixId;n.prefix=A,n.iconName=rh(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||s==="fa")&&(n.prefix=Nu()||"fas"),n}class aK{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(a=>{this.definitions[a]=et(et({},this.definitions[a]||{}),s[a]),fM(a,s[a]);const o=dT[Js][a];o&&fM(o,s[a]),cU()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(s=>{const{prefix:a,iconName:o,icon:c}=n[s],h=c[2];e[a]||(e[a]={}),h.length>0&&h.forEach(p=>{typeof p=="string"&&(e[a][p]=c)}),e[a][o]=c}),e}}let zB=[],Qd={};const ip={},rK=Object.keys(ip);function oK(i,e){let{mixoutsTo:t}=e;return zB=i,Qd={},Object.keys(ip).forEach(n=>{rK.indexOf(n)===-1&&delete ip[n]}),zB.forEach(n=>{const s=n.mixout?n.mixout():{};if(Object.keys(s).forEach(a=>{typeof s[a]=="function"&&(t[a]=s[a]),typeof s[a]=="object"&&Object.keys(s[a]).forEach(o=>{t[a]||(t[a]={}),t[a][o]=s[a][o]})}),n.hooks){const a=n.hooks();Object.keys(a).forEach(o=>{Qd[o]||(Qd[o]=[]),Qd[o].push(a[o])})}n.provides&&n.provides(ip)}),t}function hM(i,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),s=2;s<t;s++)n[s-2]=arguments[s];return(Qd[i]||[]).forEach(o=>{e=o.apply(null,[e,...n])}),e}function xh(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];(Qd[i]||[]).forEach(a=>{a.apply(null,t)})}function Uu(){const i=arguments[0],e=Array.prototype.slice.call(arguments,1);return ip[i]?ip[i].apply(null,e):void 0}function dM(i){i.prefix==="fa"&&(i.prefix="fas");let{iconName:e}=i;const t=i.prefix||Nu();if(e)return e=rh(t,e)||e,PB(hU.definitions,t,e)||PB(dl.styles,t,e)}const hU=new aK,lK=()=>{Tt.autoReplaceSvg=!1,Tt.observeMutations=!1,xh("noAuto")},cK={i2svg:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return bc?(xh("beforeI2svg",i),Uu("pseudoElements2svg",i),Uu("i2svg",i)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=i;Tt.autoReplaceSvg===!1&&(Tt.autoReplaceSvg=!0),Tt.observeMutations=!0,XW(()=>{fK({autoReplaceSvgRoot:e}),xh("watch",i)})}},uK={icon:i=>{if(i===null)return null;if(typeof i=="object"&&i.prefix&&i.iconName)return{prefix:i.prefix,iconName:rh(i.prefix,i.iconName)||i.iconName};if(Array.isArray(i)&&i.length===2){const e=i[1].indexOf("fa-")===0?i[1].slice(3):i[1],t=Ix(i[0]);return{prefix:t,iconName:rh(t,e)||e}}if(typeof i=="string"&&(i.indexOf("".concat(Tt.cssPrefix,"-"))>-1||i.match(wW))){const e=Fx(i.split(" "),{skipLookups:!0});return{prefix:e.prefix||Nu(),iconName:rh(e.prefix,e.iconName)||e.iconName}}if(typeof i=="string"){const e=Nu();return{prefix:e,iconName:rh(e,i)||i}}}},ar={noAuto:lK,config:Tt,dom:cK,parse:uK,library:hU,findIconDefinition:dM,toHtml:Ty},fK=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=ni}=i;(Object.keys(dl.styles).length>0||Tt.autoFetchSvg)&&bc&&Tt.autoReplaceSvg&&ar.dom.i2svg({node:e})};function zx(i,e){return Object.defineProperty(i,"abstract",{get:e}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(t=>Ty(t))}}),Object.defineProperty(i,"node",{get:function(){if(!bc)return;const t=ni.createElement("div");return t.innerHTML=i.html,t.children}}),i}function hK(i){let{children:e,main:t,mask:n,attributes:s,styles:a,transform:o}=i;if(mT(o)&&t.found&&!n.found){const{width:c,height:h}=t,p={x:c/h/2,y:.5};s.style=Px(et(et({},a),{},{"transform-origin":"".concat(p.x+o.x/16,"em ").concat(p.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function dK(i){let{prefix:e,iconName:t,children:n,attributes:s,symbol:a}=i;const o=a===!0?"".concat(e,"-").concat(Tt.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:et(et({},s),{},{id:o}),children:n}]}]}function vT(i){const{icons:{main:e,mask:t},prefix:n,iconName:s,transform:a,symbol:o,title:c,maskId:h,titleId:p,extra:m,watchable:y=!1}=i,{width:A,height:_}=t.found?t:e,S=dW.includes(n),T=[Tt.replacementClass,s?"".concat(Tt.cssPrefix,"-").concat(s):""].filter(U=>m.classes.indexOf(U)===-1).filter(U=>U!==""||!!U).concat(m.classes).join(" ");let E={children:[],attributes:et(et({},m.attributes),{},{"data-prefix":n,"data-icon":s,class:T,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(_)})};const b=S&&!~m.classes.indexOf("fa-fw")?{width:"".concat(A/_*16*.0625,"em")}:{};y&&(E.attributes[_h]=""),c&&(E.children.push({tag:"title",attributes:{id:E.attributes["aria-labelledby"]||"title-".concat(p||ny())},children:[c]}),delete E.attributes.title);const w=et(et({},E),{},{prefix:n,iconName:s,main:e,mask:t,maskId:h,transform:a,symbol:o,styles:et(et({},b),m.styles)}),{children:B,attributes:D}=t.found&&e.found?Uu("generateAbstractMask",w)||{children:[],attributes:{}}:Uu("generateAbstractIcon",w)||{children:[],attributes:{}};return w.children=B,w.attributes=D,o?dK(w):hK(w)}function HB(i){const{content:e,width:t,height:n,transform:s,title:a,extra:o,watchable:c=!1}=i,h=et(et(et({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});c&&(h[_h]="");const p=et({},o.styles);mT(s)&&(p.transform=GW({transform:s,startCentered:!0,width:t,height:n}),p["-webkit-transform"]=p.transform);const m=Px(p);m.length>0&&(h.style=m);const y=[];return y.push({tag:"span",attributes:h,children:[e]}),a&&y.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),y}function pK(i){const{content:e,title:t,extra:n}=i,s=et(et(et({},n.attributes),t?{title:t}:{}),{},{class:n.classes.join(" ")}),a=Px(n.styles);a.length>0&&(s.style=a);const o=[];return o.push({tag:"span",attributes:s,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}const{styles:sb}=dl;function pM(i){const e=i[0],t=i[1],[n]=i.slice(4);let s=null;return Array.isArray(n)?s={tag:"g",attributes:{class:"".concat(Tt.cssPrefix,"-").concat(tb.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Tt.cssPrefix,"-").concat(tb.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(Tt.cssPrefix,"-").concat(tb.PRIMARY),fill:"currentColor",d:n[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:e,height:t,icon:s}}const mK={found:!1,width:512,height:512};function gK(i,e){!KN&&!Tt.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(e,'" is missing.'))}function mM(i,e){let t=e;return e==="fa"&&Tt.styleDefault!==null&&(e=Nu()),new Promise((n,s)=>{if(t==="fa"){const a=uU(i)||{};i=a.iconName||i,e=a.prefix||e}if(i&&e&&sb[e]&&sb[e][i]){const a=sb[e][i];return n(pM(a))}gK(i,e),n(et(et({},mK),{},{icon:Tt.showMissingIcons&&i?Uu("missingIconAbstract")||{}:{}}))})}const GB=()=>{},gM=Tt.measurePerformance&&mA&&mA.mark&&mA.measure?mA:{mark:GB,measure:GB},gg='FA "6.7.2"',yK=i=>(gM.mark("".concat(gg," ").concat(i," begins")),()=>dU(i)),dU=i=>{gM.mark("".concat(gg," ").concat(i," ends")),gM.measure("".concat(gg," ").concat(i),"".concat(gg," ").concat(i," begins"),"".concat(gg," ").concat(i," ends"))};var AT={begin:yK,end:dU};const DA=()=>{};function VB(i){return typeof(i.getAttribute?i.getAttribute(_h):null)=="string"}function vK(i){const e=i.getAttribute?i.getAttribute(fT):null,t=i.getAttribute?i.getAttribute(hT):null;return e&&t}function AK(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(Tt.replacementClass)}function _K(){return Tt.autoReplaceSvg===!0?OA.replace:OA[Tt.autoReplaceSvg]||OA.replace}function xK(i){return ni.createElementNS("http://www.w3.org/2000/svg",i)}function SK(i){return ni.createElement(i)}function pU(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=i.tag==="svg"?xK:SK}=e;if(typeof i=="string")return ni.createTextNode(i);const n=t(i.tag);return Object.keys(i.attributes||[]).forEach(function(a){n.setAttribute(a,i.attributes[a])}),(i.children||[]).forEach(function(a){n.appendChild(pU(a,{ceFn:t}))}),n}function bK(i){let e=" ".concat(i.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const OA={replace:function(i){const e=i[0];if(e.parentNode)if(i[1].forEach(t=>{e.parentNode.insertBefore(pU(t),e)}),e.getAttribute(_h)===null&&Tt.keepOriginalSource){let t=ni.createComment(bK(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(i){const e=i[0],t=i[1];if(~pT(e).indexOf(Tt.replacementClass))return OA.replace(i);const n=new RegExp("".concat(Tt.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const a=t[0].attributes.class.split(" ").reduce((o,c)=>(c===Tt.replacementClass||c.match(n)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});t[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}const s=t.map(a=>Ty(a)).join(`
`);e.setAttribute(_h,""),e.innerHTML=s}};function kB(i){i()}function mU(i,e){const t=typeof e=="function"?e:DA;if(i.length===0)t();else{let n=kB;Tt.mutateApproach===TW&&(n=Lu.requestAnimationFrame||kB),n(()=>{const s=_K(),a=AT.begin("mutate");i.map(s),a(),t()})}}let _T=!1;function gU(){_T=!0}function yM(){_T=!1}let U_=null;function XB(i){if(!BB||!Tt.observeMutations)return;const{treeCallback:e=DA,nodeCallback:t=DA,pseudoElementsCallback:n=DA,observeMutationsRoot:s=ni}=i;U_=new BB(a=>{if(_T)return;const o=Nu();Lp(a).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!VB(c.addedNodes[0])&&(Tt.searchPseudoElements&&n(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&Tt.searchPseudoElements&&n(c.target.parentNode),c.type==="attributes"&&VB(c.target)&&~OW.indexOf(c.attributeName))if(c.attributeName==="class"&&vK(c.target)){const{prefix:h,iconName:p}=Fx(pT(c.target));c.target.setAttribute(fT,h||o),p&&c.target.setAttribute(hT,p)}else AK(c.target)&&t(c.target)})}),bc&&U_.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function MK(){U_&&U_.disconnect()}function EK(i){const e=i.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((n,s)=>{const a=s.split(":"),o=a[0],c=a.slice(1);return o&&c.length>0&&(n[o]=c.join(":").trim()),n},{})),t}function TK(i){const e=i.getAttribute("data-prefix"),t=i.getAttribute("data-icon"),n=i.innerText!==void 0?i.innerText.trim():"";let s=Fx(pT(i));return s.prefix||(s.prefix=Nu()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&n.length>0&&(s.iconName=ZW(s.prefix,i.innerText)||yT(s.prefix,uM(i.innerText))),!s.iconName&&Tt.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=i.firstChild.data)),s}function CK(i){const e=Lp(i.attributes).reduce((s,a)=>(s.name!=="class"&&s.name!=="style"&&(s[a.name]=a.value),s),{}),t=i.getAttribute("title"),n=i.getAttribute("data-fa-title-id");return Tt.autoA11y&&(t?e["aria-labelledby"]="".concat(Tt.replacementClass,"-title-").concat(n||ny()):(e["aria-hidden"]="true",e.focusable="false")),e}function RK(){return{iconName:null,title:null,titleId:null,prefix:null,transform:hl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function jB(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:n,rest:s}=TK(i),a=CK(i),o=hM("parseNodeAttributes",{},i);let c=e.styleParser?EK(i):[];return et({iconName:t,title:i.getAttribute("title"),titleId:i.getAttribute("data-fa-title-id"),prefix:n,transform:hl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:a}},o)}const{styles:wK}=dl;function yU(i){const e=Tt.autoReplaceSvg==="nest"?jB(i,{styleParser:!1}):jB(i);return~e.extra.classes.indexOf(ZN)?Uu("generateLayersText",i,e):Uu("generateSvgReplacementMutation",i,e)}function BK(){return[...uW,...sM]}function YB(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!bc)return Promise.resolve();const t=ni.documentElement.classList,n=m=>t.add("".concat(LB,"-").concat(m)),s=m=>t.remove("".concat(LB,"-").concat(m)),a=Tt.autoFetchSvg?BK():XN.concat(Object.keys(wK));a.includes("fa")||a.push("fa");const o=[".".concat(ZN,":not([").concat(_h,"])")].concat(a.map(m=>".".concat(m,":not([").concat(_h,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=Lp(i.querySelectorAll(o))}catch{}if(c.length>0)n("pending"),s("complete");else return Promise.resolve();const h=AT.begin("onTree"),p=c.reduce((m,y)=>{try{const A=yU(y);A&&m.push(A)}catch(A){KN||A.name==="MissingIcon"&&console.error(A)}return m},[]);return new Promise((m,y)=>{Promise.all(p).then(A=>{mU(A,()=>{n("active"),n("complete"),s("pending"),typeof e=="function"&&e(),h(),m()})}).catch(A=>{h(),y(A)})})}function DK(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;yU(i).then(t=>{t&&mU([t],e)})}function OK(i){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(e||{}).icon?e:dM(e||{});let{mask:s}=t;return s&&(s=(s||{}).icon?s:dM(s||{})),i(n,et(et({},t),{},{mask:s}))}}const LK=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=hl,symbol:n=!1,mask:s=null,maskId:a=null,title:o=null,titleId:c=null,classes:h=[],attributes:p={},styles:m={}}=e;if(!i)return;const{prefix:y,iconName:A,icon:_}=i;return zx(et({type:"icon"},i),()=>(xh("beforeDOMElementCreation",{iconDefinition:i,params:e}),Tt.autoA11y&&(o?p["aria-labelledby"]="".concat(Tt.replacementClass,"-title-").concat(c||ny()):(p["aria-hidden"]="true",p.focusable="false")),vT({icons:{main:pM(_),mask:s?pM(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:y,iconName:A,transform:et(et({},hl),t),symbol:n,title:o,maskId:a,titleId:c,extra:{attributes:p,styles:m,classes:h}})))};var NK={mixout(){return{icon:OK(LK)}},hooks(){return{mutationObserverCallbacks(i){return i.treeCallback=YB,i.nodeCallback=DK,i}}},provides(i){i.i2svg=function(e){const{node:t=ni,callback:n=()=>{}}=e;return YB(t,n)},i.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:s,titleId:a,prefix:o,transform:c,symbol:h,mask:p,maskId:m,extra:y}=t;return new Promise((A,_)=>{Promise.all([mM(n,o),p.iconName?mM(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(S=>{let[T,E]=S;A([e,vT({icons:{main:T,mask:E},prefix:o,iconName:n,transform:c,symbol:h,maskId:m,title:s,titleId:a,extra:y,watchable:!0})])}).catch(_)})},i.generateAbstractIcon=function(e){let{children:t,attributes:n,main:s,transform:a,styles:o}=e;const c=Px(o);c.length>0&&(n.style=c);let h;return mT(a)&&(h=Uu("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),t.push(h||s.icon),{children:t,attributes:n}}}},UK={mixout(){return{layer(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return zx({type:"layer"},()=>{xh("beforeDOMElementCreation",{assembler:i,params:e});let n=[];return i(s=>{Array.isArray(s)?s.map(a=>{n=n.concat(a.abstract)}):n=n.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Tt.cssPrefix,"-layers"),...t].join(" ")},children:n}]})}}}},PK={mixout(){return{counter(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:n=[],attributes:s={},styles:a={}}=e;return zx({type:"counter",content:i},()=>(xh("beforeDOMElementCreation",{content:i,params:e}),pK({content:i.toString(),title:t,extra:{attributes:s,styles:a,classes:["".concat(Tt.cssPrefix,"-layers-counter"),...n]}})))}}}},IK={mixout(){return{text(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=hl,title:n=null,classes:s=[],attributes:a={},styles:o={}}=e;return zx({type:"text",content:i},()=>(xh("beforeDOMElementCreation",{content:i,params:e}),HB({content:i,transform:et(et({},hl),t),title:n,extra:{attributes:a,styles:o,classes:["".concat(Tt.cssPrefix,"-layers-text"),...s]}})))}}},provides(i){i.generateLayersText=function(e,t){const{title:n,transform:s,extra:a}=t;let o=null,c=null;if(VN){const h=parseInt(getComputedStyle(e).fontSize,10),p=e.getBoundingClientRect();o=p.width/h,c=p.height/h}return Tt.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,HB({content:e.innerHTML,width:o,height:c,transform:s,title:n,extra:a,watchable:!0})])}}};const FK=new RegExp('"',"ug"),qB=[1105920,1112319],WB=et(et(et(et({},{FontAwesome:{normal:"fas",400:"fas"}}),oW),MW),yW),vM=Object.keys(WB).reduce((i,e)=>(i[e.toLowerCase()]=WB[e],i),{}),zK=Object.keys(vM).reduce((i,e)=>{const t=vM[e];return i[e]=t[900]||[...Object.entries(t)][0][1],i},{});function HK(i){const e=i.replace(FK,""),t=YW(e,0),n=t>=qB[0]&&t<=qB[1],s=e.length===2?e[0]===e[1]:!1;return{value:uM(s?e[0]:e),isSecondary:n||s}}function GK(i,e){const t=i.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(e),s=isNaN(n)?"normal":n;return(vM[t]||{})[s]||zK[t]}function KB(i,e){const t="".concat(EW).concat(e.replace(":","-"));return new Promise((n,s)=>{if(i.getAttribute(t)!==null)return n();const o=Lp(i.children).filter(A=>A.getAttribute(rM)===e)[0],c=Lu.getComputedStyle(i,e),h=c.getPropertyValue("font-family"),p=h.match(BW),m=c.getPropertyValue("font-weight"),y=c.getPropertyValue("content");if(o&&!p)return i.removeChild(o),n();if(p&&y!=="none"&&y!==""){const A=c.getPropertyValue("content");let _=GK(h,m);const{value:S,isSecondary:T}=HK(A),E=p[0].startsWith("FontAwesome");let b=yT(_,S),w=b;if(E){const B=QW(S);B.iconName&&B.prefix&&(b=B.iconName,_=B.prefix)}if(b&&!T&&(!o||o.getAttribute(fT)!==_||o.getAttribute(hT)!==w)){i.setAttribute(t,w),o&&i.removeChild(o);const B=RK(),{extra:D}=B;D.attributes[rM]=e,mM(b,_).then(U=>{const P=vT(et(et({},B),{},{icons:{main:U,mask:fU()},prefix:_,iconName:w,extra:D,watchable:!0})),F=ni.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?i.insertBefore(F,i.firstChild):i.appendChild(F),F.outerHTML=P.map(H=>Ty(H)).join(`
`),i.removeAttribute(t),n()}).catch(s)}else n()}else n()})}function VK(i){return Promise.all([KB(i,"::before"),KB(i,"::after")])}function kK(i){return i.parentNode!==document.head&&!~CW.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(rM)&&(!i.parentNode||i.parentNode.tagName!=="svg")}function JB(i){if(bc)return new Promise((e,t)=>{const n=Lp(i.querySelectorAll("*")).filter(kK).map(VK),s=AT.begin("searchPseudoElements");gU(),Promise.all(n).then(()=>{s(),yM(),e()}).catch(()=>{s(),yM(),t()})})}var XK={hooks(){return{mutationObserverCallbacks(i){return i.pseudoElementsCallback=JB,i}}},provides(i){i.pseudoElements2svg=function(e){const{node:t=ni}=e;Tt.searchPseudoElements&&JB(t)}}};let ZB=!1;var jK={mixout(){return{dom:{unwatch(){gU(),ZB=!0}}}},hooks(){return{bootstrap(){XB(hM("mutationObserverCallbacks",{}))},noAuto(){MK()},watch(i){const{observeMutationsRoot:e}=i;ZB?yM():XB(hM("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const QB=i=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return i.toLowerCase().split(" ").reduce((t,n)=>{const s=n.toLowerCase().split("-"),a=s[0];let o=s.slice(1).join("-");if(a&&o==="h")return t.flipX=!0,t;if(a&&o==="v")return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(a){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o;break}return t},e)};var YK={mixout(){return{parse:{transform:i=>QB(i)}}},hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-transform");return t&&(i.transform=QB(t)),i}}},provides(i){i.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:s,iconWidth:a}=e;const o={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(n.x*32,", ").concat(n.y*32,") "),h="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),p="rotate(".concat(n.rotate," 0 0)"),m={transform:"".concat(c," ").concat(h," ").concat(p)},y={transform:"translate(".concat(a/2*-1," -256)")},A={outer:o,inner:m,path:y};return{tag:"g",attributes:et({},A.outer),children:[{tag:"g",attributes:et({},A.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:et(et({},t.icon.attributes),A.path)}]}]}}}};const ab={x:0,y:0,width:"100%",height:"100%"};function $B(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||e)&&(i.attributes.fill="black"),i}function qK(i){return i.tag==="g"?i.children:[i]}var WK={hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-mask"),n=t?Fx(t.split(" ").map(s=>s.trim())):fU();return n.prefix||(n.prefix=Nu()),i.mask=n,i.maskId=e.getAttribute("data-fa-mask-id"),i}}},provides(i){i.generateAbstractMask=function(e){let{children:t,attributes:n,main:s,mask:a,maskId:o,transform:c}=e;const{width:h,icon:p}=s,{width:m,icon:y}=a,A=HW({transform:c,containerWidth:m,iconWidth:h}),_={tag:"rect",attributes:et(et({},ab),{},{fill:"white"})},S=p.children?{children:p.children.map($B)}:{},T={tag:"g",attributes:et({},A.inner),children:[$B(et({tag:p.tag,attributes:et(et({},p.attributes),A.path)},S))]},E={tag:"g",attributes:et({},A.outer),children:[T]},b="mask-".concat(o||ny()),w="clip-".concat(o||ny()),B={tag:"mask",attributes:et(et({},ab),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,E]},D={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:qK(y)},B]};return t.push(D,{tag:"rect",attributes:et({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(b,")")},ab)}),{children:t,attributes:n}}}},KK={provides(i){let e=!1;Lu.matchMedia&&(e=Lu.matchMedia("(prefers-reduced-motion: reduce)").matches),i.missingIconAbstract=function(){const t=[],n={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:et(et({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=et(et({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:et(et({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:et(et({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:et(et({},a),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:et(et({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:et(et({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:et(et({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:et(et({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},JK={hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-symbol"),n=t===null?!1:t===""?!0:t;return i.symbol=n,i}}}},ZK=[kW,NK,UK,PK,IK,XK,jK,YK,WK,KK,JK];oK(ZK,{mixoutsTo:ar});ar.noAuto;ar.config;ar.library;ar.dom;const AM=ar.parse;ar.findIconDefinition;ar.toHtml;const QK=ar.icon;ar.layer;ar.text;ar.counter;var $K=sy();const gn=I_($K);function eD(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,n)}return t}function ul(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(t),!0).forEach(function(n){$d(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):eD(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function P_(i){"@babel/helpers - typeof";return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(i)}function $d(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function eJ(i,e){if(i==null)return{};var t={},n=Object.keys(i),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(t[s]=i[s]);return t}function tJ(i,e){if(i==null)return{};var t=eJ(i,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function _M(i){return nJ(i)||iJ(i)||sJ(i)||aJ()}function nJ(i){if(Array.isArray(i))return xM(i)}function iJ(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function sJ(i,e){if(i){if(typeof i=="string")return xM(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xM(i,e)}}function xM(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function aJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rJ(i){var e,t=i.beat,n=i.fade,s=i.beatFade,a=i.bounce,o=i.shake,c=i.flash,h=i.spin,p=i.spinPulse,m=i.spinReverse,y=i.pulse,A=i.fixedWidth,_=i.inverse,S=i.border,T=i.listItem,E=i.flip,b=i.size,w=i.rotation,B=i.pull,D=(e={"fa-beat":t,"fa-fade":n,"fa-beat-fade":s,"fa-bounce":a,"fa-shake":o,"fa-flash":c,"fa-spin":h,"fa-spin-reverse":m,"fa-spin-pulse":p,"fa-pulse":y,"fa-fw":A,"fa-inverse":_,"fa-border":S,"fa-li":T,"fa-flip":E===!0,"fa-flip-horizontal":E==="horizontal"||E==="both","fa-flip-vertical":E==="vertical"||E==="both"},$d(e,"fa-".concat(b),typeof b<"u"&&b!==null),$d(e,"fa-rotate-".concat(w),typeof w<"u"&&w!==null&&w!==0),$d(e,"fa-pull-".concat(B),typeof B<"u"&&B!==null),$d(e,"fa-swap-opacity",i.swapOpacity),e);return Object.keys(D).map(function(U){return D[U]?U:null}).filter(function(U){return U})}function oJ(i){return i=i-0,i===i}function vU(i){return oJ(i)?i:(i=i.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),i.substr(0,1).toLowerCase()+i.substr(1))}var lJ=["style"];function cJ(i){return i.charAt(0).toUpperCase()+i.slice(1)}function uJ(i){return i.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),s=vU(t.slice(0,n)),a=t.slice(n+1).trim();return s.startsWith("webkit")?e[cJ(s)]=a:e[s]=a,e},{})}function AU(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var n=(e.children||[]).map(function(h){return AU(i,h)}),s=Object.keys(e.attributes||{}).reduce(function(h,p){var m=e.attributes[p];switch(p){case"class":h.attrs.className=m,delete e.attributes.class;break;case"style":h.attrs.style=uJ(m);break;default:p.indexOf("aria-")===0||p.indexOf("data-")===0?h.attrs[p.toLowerCase()]=m:h.attrs[vU(p)]=m}return h},{attrs:{}}),a=t.style,o=a===void 0?{}:a,c=tJ(t,lJ);return s.attrs.style=ul(ul({},s.attrs.style),o),i.apply(void 0,[e.tag,ul(ul({},s.attrs),c)].concat(_M(n)))}var _U=!1;try{_U=!0}catch{}function fJ(){if(!_U&&console&&typeof console.error=="function"){var i;(i=console).error.apply(i,arguments)}}function tD(i){if(i&&P_(i)==="object"&&i.prefix&&i.iconName&&i.icon)return i;if(AM.icon)return AM.icon(i);if(i===null)return null;if(i&&P_(i)==="object"&&i.prefix&&i.iconName)return i;if(Array.isArray(i)&&i.length===2)return{prefix:i[0],iconName:i[1]};if(typeof i=="string")return{prefix:"fas",iconName:i}}function rb(i,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?$d({},i,e):{}}var nD={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},cl=Cr.forwardRef(function(i,e){var t=ul(ul({},nD),i),n=t.icon,s=t.mask,a=t.symbol,o=t.className,c=t.title,h=t.titleId,p=t.maskId,m=tD(n),y=rb("classes",[].concat(_M(rJ(t)),_M((o||"").split(" ")))),A=rb("transform",typeof t.transform=="string"?AM.transform(t.transform):t.transform),_=rb("mask",tD(s)),S=QK(m,ul(ul(ul(ul({},y),A),_),{},{symbol:a,title:c,titleId:h,maskId:p}));if(!S)return fJ("Could not find icon",m),null;var T=S.abstract,E={ref:e};return Object.keys(t).forEach(function(b){nD.hasOwnProperty(b)||(E[b]=t[b])}),hJ(T[0],E)});cl.displayName="FontAwesomeIcon";cl.propTypes={beat:gn.bool,border:gn.bool,beatFade:gn.bool,bounce:gn.bool,className:gn.string,fade:gn.bool,flash:gn.bool,mask:gn.oneOfType([gn.object,gn.array,gn.string]),maskId:gn.string,fixedWidth:gn.bool,inverse:gn.bool,flip:gn.oneOf([!0,!1,"horizontal","vertical","both"]),icon:gn.oneOfType([gn.object,gn.array,gn.string]),listItem:gn.bool,pull:gn.oneOf(["right","left"]),pulse:gn.bool,rotation:gn.oneOf([0,90,180,270]),shake:gn.bool,size:gn.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:gn.bool,spinPulse:gn.bool,spinReverse:gn.bool,symbol:gn.oneOfType([gn.bool,gn.string]),title:gn.string,titleId:gn.string,transform:gn.oneOfType([gn.string,gn.object]),swapOpacity:gn.bool};var hJ=AU.bind(null,Cr.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const dJ={prefix:"fab",iconName:"square-js",icon:[448,512,["js-square"],"f3b9","M448 96c0-35.3-28.7-64-64-64H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96zM180.9 444.9c-33.7 0-53.2-17.4-63.2-38.5L152 385.7c6.6 11.7 12.6 21.6 27.1 21.6c13.8 0 22.6-5.4 22.6-26.5V237.7h42.1V381.4c0 43.6-25.6 63.5-62.9 63.5zm85.8-43L301 382.1c9 14.7 20.8 25.6 41.5 25.6c17.4 0 28.6-8.7 28.6-20.8c0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5c0-31.6 24.1-55.6 61.6-55.6c26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18c-12.3 0-20.1 7.8-20.1 18c0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2c0 37.8-29.8 58.6-69.7 58.6c-39.1 0-64.4-18.6-76.7-43z"]},pJ=dJ,mJ={prefix:"fab",iconName:"git-alt",icon:[448,512,[],"f841","M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"]},gJ={prefix:"fab",iconName:"react",icon:[512,512,[],"f41b","M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"]},iD={prefix:"fab",iconName:"python",icon:[448,512,[],"f3e2","M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"]},yJ={prefix:"fab",iconName:"node-js",icon:[448,512,[],"f3d3","M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const vJ={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},AJ=vJ,_J={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80l0 48c0 44.2-100.3 80-224 80S0 172.2 0 128L0 80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6L448 288c0 44.2-100.3 80-224 80S0 332.2 0 288L0 186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6l0 85.9c0 44.2-100.3 80-224 80S0 476.2 0 432l0-85.9z"]},ug=[{name:"Python",level:100,icon:le.jsx(cl,{icon:iD})},{name:"Django",level:95,icon:le.jsx(cl,{icon:iD})},{name:"JavaScript",level:90,icon:le.jsx(cl,{icon:pJ})},{name:"React.js",level:85,icon:le.jsx(cl,{icon:gJ})},{name:"Express.js",level:80,icon:le.jsx(cl,{icon:yJ})},{name:"PostgreSQL",level:80,icon:le.jsx(cl,{icon:_J})},{name:"HTML/CSS",level:95,icon:le.jsx("span",{children:"🌐"})},{name:"Git & GitHub",level:90,icon:le.jsx(cl,{icon:mJ})},{name:"REST APIs",level:85,icon:le.jsx("span",{children:"🔗"})},{name:"Postman API",level:80,icon:le.jsx(cl,{icon:AJ})}];function xJ(){const[i,e]=Me.useState(!1),[t,n]=Me.useState([]),s=()=>{const a=Array.from({length:10}).map((o,c)=>({id:c,left:Math.random()*100+"vw",top:Math.random()*100+"vh",opacity:Math.random(),size:Math.random()*5+5+"px"}));n(a)};return Me.useEffect(()=>(e(!0),window.addEventListener("mousemove",s),()=>{window.removeEventListener("mousemove",s)}),[]),le.jsxs("div",{className:"skills-container",id:"Skills",children:[le.jsx("h1",{style:{color:"white",textAlign:"center"},children:"Tech Stack"}),le.jsxs("div",{className:"skills-cards",children:[le.jsx("div",{className:"skills-card",children:le.jsxs("div",{className:"skills-grid",children:[le.jsx("div",{className:"skills-column",children:ug.slice(0,Math.ceil(ug.length/2)).map((a,o)=>le.jsxs("div",{className:"skill",children:[le.jsxs("div",{className:"skill-label",children:[le.jsx("span",{children:a.name}),le.jsxs("span",{children:[a.level,"%"]})]}),le.jsx("div",{className:"progress-bar",children:le.jsx("div",{className:"progress",style:{width:i?`${a.level}%`:"0%"}})})]},o))}),le.jsx("div",{className:"skills-column",children:ug.slice(Math.ceil(ug.length/2)).map((a,o)=>le.jsxs("div",{className:"skill",children:[le.jsxs("div",{className:"skill-label",children:[le.jsx("span",{children:a.name}),le.jsxs("span",{children:[a.level,"%"]})]}),le.jsx("div",{className:"progress-bar",children:le.jsx("div",{className:"progress",style:{width:i?`${a.level}%`:"0%"}})})]},o))})]})}),le.jsx("div",{className:"icons-card",children:le.jsx("div",{className:"icons-container",children:ug.map((a,o)=>le.jsxs("div",{className:"skill-icon",children:[le.jsx("span",{children:a.icon})," "]},o))})})]}),t.map(a=>le.jsx("div",{className:"star",style:{left:a.left,top:a.top,opacity:a.opacity,width:a.size,height:a.size}},a.id))]})}const SJ=[{title:"Master of Computer Applications (MCA)",institution:"MG University",year:"2022 – 2024"},{title:"Full-Stack Python Django React Course (Internship)",institution:"LuminarTechnolab",year:"2024-2025"},{title:"Bachelor of Computer Applications(BCA)",institution:"MG University",year:"2019 – 2022"}];function bJ(){const[i,e]=Me.useState(!1),t=()=>{const n=document.getElementById("Qualification").getBoundingClientRect();n.top<window.innerHeight&&n.bottom>=0&&(e(!0),window.removeEventListener("scroll",t))};return Me.useEffect(()=>(window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}),[]),le.jsxs("section",{className:"qualification-container",id:"Qualification",children:[le.jsx("h1",{className:"qualification-main-title",children:"My Journey in Tech"}),le.jsx("div",{className:`qualification-capsules ${i?"fade-in":""}`,children:SJ.map((n,s)=>le.jsxs("div",{className:`qualification-capsule ${i?"show":""}`,children:[le.jsx("h3",{children:n.title}),le.jsxs("p",{children:[n.institution," | ",n.year]})]},s))})]})}const MJ=[{title:"Python/Django Intern",company:"EasierClasses (EdTech Startup)",duration:"Jan 2024 – March 2025",description:"Developing full-stack web applications using Django and PostgreSQL. Implemented OTP-based login, subscription-based access, and Razorpay payment integration. Collaborated with a small agile team to build scalable educational features."},{title:"Frontend Developer (Freelance)",company:"Self-Employed",duration:"Jul 2023 – Present",description:"Designed responsive user interfaces using React.js and Tailwind CSS. Built reusable components and integrated REST APIs. Created a personal portfolio and maintained projects."},{title:"MCA Academic Projects",company:"University Projects",duration:"2022 – 2024",description:"Completed multiple academic projects involving Django, MySQL, and JavaScript. Created a basic event app and a student career system for students."}];function EJ(){const[i,e]=Me.useState(!1),[t,n]=Me.useState([]),s=Me.useRef(null),a=()=>{const o=Array.from({length:10}).map((c,h)=>({id:h,left:Math.random()*100+"vw",top:Math.random()*100+"vh",opacity:Math.random(),size:Math.random()*5+5+"px"}));n(o)};return Me.useEffect(()=>{const o=new IntersectionObserver(([c])=>{c.isIntersecting&&(e(!0),o.unobserve(c.target))},{threshold:.8});return s.current&&o.observe(s.current),window.addEventListener("mousemove",a),()=>{s.current&&o.unobserve(s.current),window.removeEventListener("mousemove",a)}},[]),le.jsxs("section",{className:"experience-container",id:"Experience",ref:s,children:[le.jsx("h1",{className:"section-title",children:"Professional Experience"}),le.jsx("div",{className:"experience-cards",children:MJ.map((o,c)=>le.jsxs(Hi.div,{className:"experience-card",initial:{opacity:0,y:50},animate:i?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,delay:c*.2},whileHover:{scale:1.05,boxShadow:"0 0 25px rgba(128, 0, 255, 0.5)"},children:[le.jsxs("div",{className:"experience-header",children:[le.jsx("h2",{className:"experience-title",children:o.title}),le.jsx("span",{className:"experience-duration",children:o.duration})]}),le.jsx("h3",{className:"experience-company",children:o.company}),le.jsx("p",{className:"experience-description",children:o.description})]},c))}),t.map(o=>le.jsx("div",{className:"star",style:{left:o.left,top:o.top,opacity:o.opacity,width:o.size,height:o.size}},o.id))]})}const TJ=({x:i,y:e})=>{const t=Math.random()*20+10,n=Math.random()*2+1;return le.jsx("div",{className:"star",style:{position:"absolute",left:i,top:e,width:`${t}px`,height:`${t}px`,backgroundColor:"red",borderRadius:"50%",animation:`twinkle ${n}s infinite`}})},CJ=({stars:i})=>le.jsx(le.Fragment,{children:i.map((e,t)=>le.jsx(TJ,{x:e.x,y:e.y},t))}),RJ=()=>{const[i,e]=Me.useState({x:0,y:0}),[t,n]=Me.useState([]),s=o=>{e({x:o.clientX,y:o.clientY})},a=()=>{console.log("Magic wand clicked at:",i),n(o=>{const c=[...o,{x:i.x,y:i.y}];return console.log("Updated stars:",c),c})};return Me.useEffect(()=>(window.addEventListener("mousemove",s),window.addEventListener("click",a),()=>{window.removeEventListener("mousemove",s),window.removeEventListener("click",a)}),[i]),le.jsxs(le.Fragment,{children:[le.jsx("div",{style:{position:"absolute",left:i.x,top:i.y,pointerEvents:"none"},children:le.jsx("img",{src:"assets\\images\\magic-wand1.svg",alt:"Magic Wand"})}),le.jsx(CJ,{stars:t})]})};class wJ extends Cr.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught in ErrorBoundary:",e,t)}render(){return this.state.hasError?le.jsx("h2",{children:"Something went wrong in the application."}):this.props.children}}function BJ(){return le.jsx(hP,{children:le.jsxs(le.Fragment,{children:[le.jsx(bP,{}),le.jsx(RJ,{}),le.jsxs("div",{className:"main-content",children:[le.jsx(wJ,{children:le.jsx(Wj,{})}),le.jsx(oY,{}),le.jsx(xY,{}),le.jsx(Zq,{}),le.jsx(xJ,{}),le.jsx(bJ,{}),le.jsx(EJ,{})]})]})})}fP.createRoot(document.getElementById("root")).render(le.jsx(Me.StrictMode,{children:le.jsx(BJ,{})}));
